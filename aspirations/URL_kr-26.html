<!DOCTYPE html>
<html lang="ko-KR">
<head>
    <!-- meta -->
    <meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=0"/>
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta name="referrer" content="unsafe-url">

<!-- google ad sence -->
<script data-ad-client="ca-pub-2704741335862169" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<link rel="icon" href="/images/favicon.ico" type="image/x-icon">
<!-- // meta -->

    <!-- seo -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53476308-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-53476308-1');
</script>



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPZ8BHZPSJ"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-ZPZ8BHZPSJ');
</script>




<!-- (최종) 통합한국일보닷컴 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HR08PM6YWZ"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-HR08PM6YWZ');
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53476308-12"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-53476308-12');
</script>

<!-- (최종) 모바일 한국일보닷컴 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53476308-5"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-53476308-5');
</script>




<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-59599H7');</script>
<!-- End Google Tag Manager -->

<meta name="title" content="&#034;혐오 메일 보내주신&#034;, 페미니즘을 거부하는 당신에게 답합니다">
        <meta name="keywords" content="남성한국일보우대다면기자사회페미니즘여성메일여성혐오">
        <meta name="description" content="페미니즘을 거부하는 당신에게 - 남성한국일보우대다면기자사회페미니즘여성메일여성혐오">

        <meta property="og:url" content="https://m.hankookilbo.com/News/Read/A2022032411350002138?t=20221207184441">
        <meta property="og:site_name" content="한국일보">
        <meta property="og:locale" content="ko_KR">
        <meta property="og:type" content="article" >
        <meta property="og:title" content="&#034;혐오 메일 보내주신&#034;, 페미니즘을 거부하는 당신에게 답합니다" >
        <meta property="og:description" content="페미니즘을 거부하는 당신에게" >

        <meta property="og:image" content="https://newsimg-hams.hankookilbo.com/2022/03/24/7eb8f3db-c53e-4bbe-af51-cc9c558b7510.png?t=20221207184441" >
        <meta property="og:image:width" content="1200">
        <meta property="og:image:height" content="630">

        <meta property="article:author" content="https://www.facebook.com/hkilbo">
        <meta property="article:publisher" content="https://www.facebook.com/hkilbo">


        <meta name="twitter:site" content="@hankookilbo" >
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:url" content="https://m.hankookilbo.com/News/Read/A2022032411350002138?t=20221207184441">
        <meta name="twitter:title" content="&#034;혐오 메일 보내주신&#034;, 페미니즘을 거부하는 당신에게 답합니다" >
        <meta name="twitter:description" content="페미니즘을 거부하는 당신에게" >
        <meta name="twitter:image" content="https://newsimg-hams.hankookilbo.com/2022/03/24/7eb8f3db-c53e-4bbe-af51-cc9c558b7510.png?t=20221207184441" >
        <meta name="twitter:creator" content="@hankookilbo">

        <meta property="article:published_time" content="2022-03-24T13:37:15.000+0900">
        <meta property="article:section" content="사회">
            <meta property="article:section2" content="사회일반">
        <meta property="article:section3" content="페미니즘을 거부하는 당신에게">
        <meta property="dable:item_id" content="A2022032411350002138">
            <meta property="dable:author" content="전혼잎 기자 hoihoi@hankookilbo.com,최나실 기자 verite@hankookilbo.com,최은서 기자 silver@hankookilbo.com">
            <meta property="dable:title" content="&#034;혐오 메일 보내주신&#034;, 페미니즘을 거부하는 당신에게 답합니다">
            <meta property="dable:image" content="https://newsimg-hams.hankookilbo.com/2022/03/24/fd7a627d-c3b1-4483-a8d5-89c3619b42d8_t.jpg?t=20221207184441">
        <meta name="robots" content="max-image-preview:large">
<meta property="fb:pages" content="157370204315766" >

<title>&#034;혐오 메일 보내주신&#034;, 페미니즘을 거부하는 당신에게 답합니다</title>
<!-- // seo -->

    <!-- header-script -->
    <link rel="stylesheet" href="/css/lib/ion.rangeSlider.min.css">
<link rel="stylesheet" href="/css/lib/datepicker.min.css">
<link rel="stylesheet" href="/css/style_mobile.css?ver=3.0.7">
<script src="/js/lib/jquery-3.4.1.min.js"></script>
<script src="/js/lib/jquery.cookie.min.js"></script>
<script src="/js/lib/lazysizes.min.js" async=""></script>
<!-- [if lt IE 9]>
<script src="/js/lib/selectivizr.min.js"></script>
<![endif]-->
<script src="/js/lib/modernizr-custom.js"></script>
<script src="/js/lib/detectizr.min.js"></script>
<script src="/js/vendor.js"></script>

<script src="/js/common.js?ver=3.0.7"></script>
<script src="/js/lib/hangul.min.js" type="text/javascript"></script>

<link rel="stylesheet" href="https://uicdn.toast.com/tui.chart/latest/tui-chart.min.css">
<script src="https://uicdn.toast.com/tui.chart/latest/tui-chart-all.min.js"></script>
<script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=xuh6ou62fp"></script>
<!-- bottom popup -->
<section class="floating-items">
    <!-- popup-floating -->
    <section id="toast-last-read-news" class="popup-floating floating-relay">
        <!-- breaking-news -->
        <div class="breaking-news">
            <div class="white-badge">이어보기</div>
            <a class="text" href="javascript:;" id="toast-last-read-a-tag"></a>
            <button class="btn-close" onclick="onClickCloseLastReadNews()">
                <span class="blind">닫기</span>
            </button>
        </div>
        <!-- // breaking-news -->
    </section>
    <!-- // popup-floating -->

    <!-- popup-floating -->
    <section id="floating-ad" class="popup-floating floating-ad">
    <!-- .ad-banner -->
    <div class="ad-banner">
        <div class="img-box">
            <script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage@floating"></script>
        </div>
    </div>
    <!-- // .ad-banner -->
    <button class="btn-close-small" onclick="onAdCloseClick()">
        <span class="blind">닫기</span>
    </button>
</section>

<script>

    function onAdCloseClick() {
        $('#floating-ad').closePopup();
    }

    $(document).ready(function() {
        $('#floating-ad').openPopup(); // 플로팅광고
        // 안드로이드 앱 : youtube frame 있는경우 하단 플로팅 광고 제거
        if(navigator.userAgent.indexOf('Mobile-App-Android') > -1){
            if($("iframe[src*='youtube.com']").length>0){
                $('#floating-ad').addClass('blind');
            }
        }
    });
</script>
<!-- // popup-floating -->
</section>

<script src="/js/article-notice.js"></script>

<script>
    /**
     * 로그인 돼있으면
     */
    if (Cookies.get('accessToken')) {
        // console.log('이어보기 기사 id 조회');
        $.ajax({
            url: '/users/last-read-article',
            type: 'GET',
            contentType: 'application/json',
            timeout: 30000,
            success: function (data) {
                // // console.log(data);
                if (data) {
                    // console.log('이어보기 기사 있음');
                    $('#toast-last-read-news').addClass('on');
                    $('#toast-last-read-news').addClass('show');
                    $('#toast-last-read-news').removeClass('blind');
                    $('#toast-last-read-a-tag').html(data.articleTitle);

                    $('#toast-last-read-a-tag').on('click', function() {
                        removeLastReadArticle();
                        location.href = '/News/Read/' + data.articleId;
                    });
                    // console.log(data)
                } else {
                    // console.log('이어보기 기사 없음');
                    // console.log(data);
                }
            },
            error: function (req, stat, err) {
                // console.log(err);
            }
        }); // ajax
    }

    function onClickCloseLastReadNews() {
        $('#toast-last-read-news').addClass('blind');
        removeLastReadArticle()
    }
</script>
<!-- // bottom popup -->

<script>
    // 기본 이미지
    (function(){
        var NOTFOUNDSRC = '/images/Default-Image.png';
        document.addEventListener('error', function(e){
            // image 404
            if(e.target.nodeName.toLowerCase() == 'img' && e.target.getAttribute('src') != NOTFOUNDSRC){
                e.target.src = NOTFOUNDSRC;
            }
        }, true);
    })();

    // 기사 닫기 클릭 시 돌아갈 url 정의
    if ('' != 'MAIN') {
        
        Cookies.set('closeUrl', '/', { path: '/' });
        
    }

    // CDN 제외 설정
    $.ajaxSetup({
        beforeSend : function(xhr){
            xhr.setRequestHeader("Cache-Control", "no-cache");
        }
    });

    // var updateFlag = false;

    // 체류시간
    // document.cookie = 'uv_stay_id' + "=" + generateUuid() + "; path=/";
    var stayId = generateUuid();

    // 방문자
    if (!Cookies.get('uv_user_id')) {
        var date = new Date();
        // 아이폰일 경우
        // if (navigator.userAgent.indexOf('iPhone') > -1 || navigator.userAgent.indexOf('Mobile-App-Ios') > -1 ) {
        //     date.setHours(date.getHours() - 9);
        // }

        date.setFullYear(date.getFullYear() + 1);

        var expireDate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);
        var expires = "; expires=" + expireDate.toUTCString();

        document.cookie = 'uv_user_id' + "=" + generateUuid() + expires + "; path=/";
        // updateFlag = true;
    }

    // 세션
    if (!Cookies.get('uv_session_id')) {
        var date = new Date();
        // 아이폰일 경우
        // if (navigator.userAgent.indexOf('iPhone') > -1 || navigator.userAgent.indexOf('Mobile-App-Ios') > -1 ) {
        //     date.setHours(date.getHours() - 9);
        // }

        date.setTime(date.getTime() + (30 * 1000 * 60));
        var expires = "; expires=" + date.toUTCString();

        
        document.cookie = 'uv_session_id' + "=" + generateUuid() + "; path=/";
        // updateFlag = true;
    }

    // if (updateFlag) {
        $.ajax({
            url: '/statistics/uv?path=' + location.href.replace('https://m.hankookilbo.com', '') + '&userId=' + Cookies.get('uv_user_id') + '&sessionId=' + Cookies.get('uv_session_id') + '&stayId=' + stayId + '&second=N',
            type: 'GET',
            contentType: 'application/json',
            success: function (data) {
            },
            error: function (req, stat, err) {
                // console.log(err);
            }
        });
        // updateFlag = false;
    // }

    // 체류 시간
    window.addEventListener('unload', function(){
        var img = new Image();
        img.src = '/statistics/uv?path=' + location.href.replace('https://m.hankookilbo.com', '') + '&userId=' + Cookies.get('uv_user_id') + '&sessionId=' + Cookies.get('uv_session_id') + '&stayId=' + stayId + '&second=Y';
    });


    $(function (){
        if($(".dimmed").length==0){
            $("body").prepend("<div class=\"dimmed\"></div>");
        }
    });

</script>
<!-- // header-script -->

    <script data-ad-client="ca-pub-9575884151581415" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6N5VSF0VLL"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-6N5VSF0VLL');
    </script>
    <script>
        var _searchHost = '';
        try{
            _searchHost = 'https://search.hankookilbo.com';
        }catch(e){
            _searchHost = 'https://search.hankookilbo.com';
        }
    </script>
<!-- Dable 스크립트 시작 / 문의 media@dable.io -->
<script>
    (function(d,a,b,l,e,_) {
        d[b]=d[b]||function(){(d[b].q=d[b].q||[]).push(arguments)};e=a.createElement(l);
        e.async=1;e.charset='utf-8';e.src='//static.dable.io/dist/plugin.min.js';
        _=a.getElementsByTagName(l)[0];_.parentNode.insertBefore(e,_);
    })(window,document,'dable','script');
    dable('setService', 'm.hankookilbo.com');
    dable('sendLogOnce');
</script>
<!-- Dable 스크립트 종료 / 문의 media@dable.io --></head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-59599H7"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><!-- wrap -->
<div class="wrap">
    <!-- top -->
    <!-- header -->
    <header class="header ">
        <!-- left -->
        <div class="left">
            <!-- btn-back -->

            <button type="button" class="btn-back no-top-visible" onclick="history.back();">
                <span class="blind">뒤로</span>
            </button>
            <!-- // btn-back -->
            <!-- logo -->
            <a href="javascript:onClickLogo()" class="logo no-top-hidden"></a>
            <!-- // logo -->
            <!-- btn-subscribe -->
            <span class="btn-subscribe">
                    <input type="checkbox" id="header-subscribe">
                    <label for="header-subscribe">구독</label>
                </span>
            <!-- // btn-subscribe -->
            <!-- btn-read-mode -->
            <span class="btn-read-mode">
                    <input type="checkbox" id="header-read-mode">
                    <label for="header-read-mode">읽기모드</label>
                </span>
            <!-- // btn-read-mode -->
        </div>
        <!-- // left -->

        <!-- right -->
        <div class="right">
            <!-- btn-color-wrap -->
            <div class="btn-color-wrap">
                <button type="button" class="btn-color">
                    <span class="blind">색상</span>
                </button>
                <div class="color-cont">
                    <a class="white on" href="javascript:;">
                        <span class="blind">백색 배경</span>
                    </a>
                    <a class="yellow" href="javascript:;">
                        <span class="blind">황색 배경</span>
                    </a>
                    <a class="black" href="javascript:;">
                        <span class="blind">흑색 배경</span>
                    </a>
                </div>
            </div>
            <!-- // btn-color-wrap -->
            <!-- btn-scale-wrap -->
            <div class="btn-scale-wrap">
                <button type="button" class="btn-scale">
                    <span class="blind">글자크기</span>
                </button>
                <div class="scale-cont">
                    <a class="scale-fs14" href="javascript:;">가나다라</a>
                    <a class="scale-fs16" href="javascript:;">가나다라</a>
                    <a class="scale-fs18 on" href="javascript:;">가나다라</a>
                    <a class="scale-fs22" href="javascript:;">가나다라</a>
                    <a class="scale-fs26" href="javascript:;">가나다라</a>
                </div>
            </div>
            <!-- // btn-scale-wrap -->
            <!-- btn-more-wrap -->
            <div class="btn-more-wrap">
                <button type="button" class="btn-more">
                    <span class="blind">메뉴 더보기</span>
                </button>
                <div class="more-cont">
                    <a class="subscribe" href="javascript:onClickSubscribeArticleBtn('top')">구독</a>
                    <a class="mode" href="javascript:;">읽기모드</a>
                    <a class="share" href="javascript:;">공유</a>
                    <a class="save" href="javascript:onClickSaveArticleBtn()">기사 저장</a>
                </div>
            </div>
            <!-- // btn-more-wrap -->
            <!-- btn-back -->
            <button type="button" class="btn-back no-top-hidden" id="top-right-back-btn" onclick="location.href = '/News/Read/' + Cookies.get('prev_article')">
                <span class="blind">뒤로</span>
            </button>
            <!-- // btn-back -->
            <!-- btn-close -->
            <button type="button" class="btn-close" id="top-right-close-btn">
                <span class="blind">닫기</span>
            </button>
            <!-- // btn-close -->
        </div>
        <!-- // right -->

    </header>
    <!-- // header -->


<script>
    // 엔드페이지 진입시 마지막 읽은 기사를 DB에 저장
    var param = {lastReadArticleId: 'A2022032411350002138'};
    $.ajax({
        url: '/users/me',
        method: 'PATCH',
        contentType: 'application/json',
        data: JSON.stringify(param),
        success: function (response) {
            // console.log(response);
            var flag = response;
            if (flag) {
                // console.log('이어보기 기사 추가 성공')
            } else {
                // console.log('이어보기 기사 추가 실패')
            }
        }
    });

    if (Cookies.get('prev_article')) {
        $('#top-right-back-btn').addClass('blind');
    } else {
        $('#top-right-back-btn').removeClass('blind');
    }

    function onClickLogo() {
        removeLastReadArticle();
        location.replace('https://m.hankookilbo.com');
    }

    $(document).ready(function() {
        history.pushState(null, null, location.href);
        window.onpopstate = function(event) {
            removeLastReadArticle();
            history.back()
        }
    });

</script>

<!-- // top -->

    <!-- container end -->
    <div class="container end end-new">
        <!-- end-top -->
        <div class="end-top">
            <div class="inn">
    <div class="ttl"><a href="/Collect/7231">페미니즘을 거부하는 당신에게</a></div>
        <h2 class="title">
        "혐오 메일 보내주신", 페미니즘을 거부하는 당신에게 답합니다</h2>
    <div class="tool-bar">
        <div class="left">
            <dl class="info">
                <dt>입력</dt>
                <dd>2022.03.24 13:37</dd>
            </dl>
        </div>
            <div class="right">
                <div class="btn-like-all-wrap">
                    <button type="button" class="btn-like-all">
                            <span class="blind">좋아요</span>
                            <span id="top-sympathy-cnt" class="count">0</span>
                        </button>
                        <div class="like-cont">
                            <span id="top-like-cnt" class="like"><span class="blind">좋아요</span>0</span>
                            <span id="top-dislike-cnt" class="unlike"><span class="blind">싫어요</span>0</span>
                        </div>
                    </div>
                <button type="button" class="btn-comment">
                    <span class="blind">댓글달기</span>
                    <span id="top-comment-cnt" class="count">0</span>
                </button>
            </div>
    </div>
</div>
</div>
        <!-- // end-top -->
        <!-- end-body -->
        <div class="end-body" itemprop="articleBody">
            <div class="editor-tit">
                        </div>
                <div class="editor-img-box"><img src="https://newsimg-hams.hankookilbo.com/2022/03/24/fd7a627d-c3b1-4483-a8d5-89c3619b42d8.jpg"><div class="caption"><p>한국일보 자료사진</p></div></div><p class="editor-p">한국일보는 114주년 세계 여성의 날(3월 8일)을 맞아 <strong>'페미니즘을 거부하는 당신에게'</strong>(관련 기사: https://www.hankookilbo.com/Collect/7231)라는 기획 보도를 했습니다. 성평등에 가장 뒤쳐진 국가이면서도, 여성혐오로 얼룩진 사회에 대한 진단이었습니다. 특히 최근 페미니즘이 사회의 적폐로 통하는 사실에 주목, 페미니즘이 왜 이런 취급을 받게 되었는지를 살펴봤습니다. 너무 오랜시간 자연스러웠기에 미처 깨닫지 못하는 여성혐오와 페미니즘을 향한 오해도 짚어봤죠. </p><p class="editor-p">워낙 온·오프라인을 가리지 않고 뜨거운 주제이기에 기사에는 적지 않은 관심이 쏟아졌습니다. 기사를 작성한 기자들의 메일함에도 성원, 혹은 비난이 이어졌는데요. 후속 기사로 메일을 통해 주신 질문과 궁금증에 답해보려고 합니다.</p><div class="div-line"></div><h3 class="editor-tit">한국 페미니즘은 변질됐다?</h3><!-- .ad-banner -->
                    <div class="ad-banner">
    <script>
        var is_ins = false;
        
                var adArray = ['endpage@divideshort01', 'endpage@divideshort02', 'endpage@divideshort03'];
            

        // 중복 처리
        var $divideList = $('.ad-banner');
        if ($divideList.length) {
            for (var i = 0; i < $divideList.length; i++) {
                var id = $($divideList[i]).find('.img-box').attr('data-id');
                var adIndex = adArray.indexOf(id);
                if (adIndex > -1) {
                    adArray.splice(adIndex, 1);
                }
            }
        }

        
            var adIndex = 0;
            document.write('<div class="img-box" data-id="' + adArray[adIndex] + '">');
            document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/' + adArray[adIndex] + '"><\/script>');
            document.write('</div>');
        

        // 안드로이드 업데이트용
        if (location.href.indexOf('/News/Read') > -1 && navigator.userAgent.indexOf('Update') > -1) {
            $('.end-ad-container').addClass('blind');
        }
    </script>
</div>
<!-- // .ad-banner -->
                <div class="editor-img-box"><img src="https://newsimg-hams.hankookilbo.com/2022/03/24/25d9a46a-fd14-4f5f-a024-4cdee1c3cc22.jpg" style="width: 611px; margin-left: auto; margin-right: auto;"><div class="caption"><p>한국의 페미니즘은 외국과 다름을 지적하는 한 독자의 메일. </p></div></div><p class="editor-p">한 독자는 한국의 페미니즘은 '뷔페미니즘(뷔페+페미니즘의 합성어)'라면서 뷔페에서 원하는 음식을 골라먹는 모습에 빗대 이득만 취하려고 한다고 지적했습니다. 국내 페미니즘의 '변질'은 많은 비(非) 혹은 반(反) 페미니즘 진영에서 말하는 문제이기도 합니다. <strong>사회에서 지나친 '여성 우대 정책'을 펼친다는 것인데, 정작 우대 정책의 실체는 베일에 가려져있습니다</strong>. </p><p class="editor-p">한국일보가 만난 전문가들은 정작 여성 우대 정책은 '없다'라고 말합니다. <strong>양성평등채용목표제로 구제된 남성이 여성의 두 배 이상이라는 점은 주지의 사실</strong>입니다. 또 국내 민간 기업에서 여성 할당제는 존재하지 않습니다. 정치권이나 국공립대·공기업 등 일부 분야에서만 고위직에 한정, 유지되고 있죠. 자산 2조원 이상 상장기업이 이사회를 특정 성(性)으로만 구성하지 못하도록 한 개정 자본시장법이 오는 8월 시행되지만, 이는 양성 모두에 해당합니다. </p><!-- .ad-banner -->
                    <div class="ad-banner">
    <script>
        var is_ins = false;
        
                var adArray = ['endpage@divideshort01', 'endpage@divideshort02', 'endpage@divideshort03'];
            

        // 중복 처리
        var $divideList = $('.ad-banner');
        if ($divideList.length) {
            for (var i = 0; i < $divideList.length; i++) {
                var id = $($divideList[i]).find('.img-box').attr('data-id');
                var adIndex = adArray.indexOf(id);
                if (adIndex > -1) {
                    adArray.splice(adIndex, 1);
                }
            }
        }

        
            var adIndex = 0;
            document.write('<div class="img-box" data-id="' + adArray[adIndex] + '">');
            document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/' + adArray[adIndex] + '"><\/script>');
            document.write('</div>');
        

        // 안드로이드 업데이트용
        if (location.href.indexOf('/News/Read') > -1 && navigator.userAgent.indexOf('Update') > -1) {
            $('.end-ad-container').addClass('blind');
        }
    </script>
</div>
<!-- // .ad-banner -->
                <p class="editor-p">페미니즘이 '변질되지 않았다'는<strong> 해외에도 여성 할당제는 있습니다. 오히려 한국보다 더욱 강력한 제도입니다. 노르웨이는 여성이사 40% 할당제를 시행했고, 독일은 기업과 각 부문의 여성 임원 비율을 30% 이상으로 하는 법률을 통과</strong>시켰습니다. 최근에는 유럽연합(EU) 차원에서도 여성 할당제 확대에 나서는 분위기입니다.</p><div class="module-link" contenteditable="false" data-fileid="7025a52d-4b48-4e02-b4e9-99a5efc5044f" data-moduleid="6d8b4e85-8a15-4aff-949b-b67e5266ce2a" data-moduletype="LINK" style="padding:50px 0;"><div style="border:1px solid #ccc;background-color:#fff;"><div><img src="https://newsimg-hams.hankookilbo.com/2022/02/21/68d57479-a211-4527-99d0-3486807d0a1a.jpg?t=20220324030234" width="100%" style="overflow:hidden;display:block;"></div><div style="padding:20px;"><strong style="overflow:hidden;display:block;line-height:24px;font-size:18px;color:#111;font-weight:normal;letter-spacing:-0.64px;white-space:nowrap;text-overflow:ellipsis;">국제사회 공인 성평등 후진국인데, 페미니즘에 분노?</strong><span style="overflow:hidden;display:block;margin:8px 0;line-height:24px;font-size:14px;color:#999;letter-spacing:-0.5px;white-space:nowrap;text-overflow:ellipsis;">[페미니즘을 거부하는 당신에게]</span><a href="https://www.hankookilbo.com/News/Read/A2022022109580002090?t=20220324030234" style="display:inline-block;line-height:24px;font-size:14px;color:#01a832;letter-spacing:-0.5px;text-decoration:none;">https://www.hankookilbo.com/News/Read/A2022022109580002090?t=20220324030234</a></div></div></div><p class="editor-p"><br></p><div class="div-line"></div><h3 class="editor-tit">여자는 군대도 안 가면서!</h3><div class="editor-img-box"><img src="https://newsimg-hams.hankookilbo.com/2022/03/24/458ac0a0-e8bf-4d0b-b39e-8e6670c1255d.jpg"><div class="caption"><p>여성경찰을 향한 혐오가 여성혐오라는 사실에 반박하는 한 독자의 메일. </p></div></div><p class="editor-p">2화 보도("남경 무용론이" "남성BJ 선물공세로"... 이런 기사, 어색한가요?)에서는 여성혐오 기사의 성별을 바꾸는 '미러링'을 시도해봤습니다. 여성 경찰 무용론이나 가해자가 아닌 피해자를 ○○녀라고 명명하는 등 유독 여성의 경우에만 성별을 앞세우는 보도 관행에 대한 반성이었습니다.</p><p class="editor-p">또 다른 독자는 이 기사에 여성은 신체적 한계를 이유로 '의무병역'을 하지 않기에 남성 중심의 집단인 군인, 경찰, 소방관 등이 됐을 때 비판을 받는 일은 당연하다고 말했습니다. </p><p class="editor-p">그러나 <strong>군대를 남성만의 조직으로 만든 것은 페미니즘이 아니라 가부장제</strong>입니다. 여성은 국가의 안보를 책임지는 일을 할 수 없는 존재라고 여겼기에 복무 대상에서 제외시킨 것입니다. 이 내용은 기획 보도 3화("여자도 군대 가"란 말도 페미니즘입니다)에서 이미 다뤘습니다. </p><p class="editor-p">여전히 의문이 남는다면 김엘리 성공회대 시민평화대학원 외래교수의 책 '여자도 군대 가라는 말'을 읽어보시는 일도 추천드립니다.</p><div class="module-link" contenteditable="false" data-fileid="078914cb-a18a-4191-b240-55295d08497c" data-moduleid="18bc97f6-90f9-4638-aee1-e25b91de816c" data-moduletype="LINK" style="padding:50px 0;"><div style="border:1px solid #ccc;background-color:#fff;"><div><img src="https://newsimg-hams.hankookilbo.com/2022/03/20/e9d18584-51b0-4e6a-839a-4c2db92d2721.jpg?t=20220324010946" width="100%" style="overflow:hidden;display:block;"></div><div style="padding:20px;"><strong style="overflow:hidden;display:block;line-height:24px;font-size:18px;color:#111;font-weight:normal;letter-spacing:-0.64px;white-space:nowrap;text-overflow:ellipsis;">"여자도 군대 가"란 말도 페미니즘입니다</strong><span style="overflow:hidden;display:block;margin:8px 0;line-height:24px;font-size:14px;color:#999;letter-spacing:-0.5px;white-space:nowrap;text-overflow:ellipsis;">알고 보면, 당신도 페미니스트</span><a href="https://www.hankookilbo.com/News/Read/A2022032013040003514?t=20220324010946" style="display:inline-block;line-height:24px;font-size:14px;color:#01a832;letter-spacing:-0.5px;text-decoration:none;">https://www.hankookilbo.com/News/Read/A2022032013040003514?t=20220324010946</a></div></div></div><p class="editor-p"><br></p><div class="div-line"></div><h3 class="editor-tit">혐오는 또 다른 혐오를 부른다</h3><div class="editor-img-box"><img src="https://newsimg-hams.hankookilbo.com/2022/03/24/eb83a9c0-6b93-40cc-aa67-7d4a80f0c657.jpg" style="width: 470px; margin-left: auto; margin-right: auto;"><div class="caption"><p>본보 '페미니즘을 거부하는 당신에게' 기사를 쓴 기자들에게 각각 도착한 악성 메일. </p></div></div><p class="editor-p">별 다른 내용 없이 대뜸 욕설을 내뱉는 반응도 있었습니다. 드문 일은 아닙니다. 한국언론진흥재단이 지난해 404명의 기자를 대상으로 한 조사에서도 기자 이름을 부르며 모욕하는 경우를 경험했다는 응답은 신문사(78.4%),  방송사(83.3%), 뉴스통신사(89.2%) 등 기자 대다수에게서 나왔습니다. 특히 페미니즘 관련 기사를 쓴다면 '당연히' 이런 욕설이 쏟아질 거라고 예상할 수 있을 정도죠.</p><p class="editor-p">특이한 메일은 아니지만, 욕설에 하나같이 '병X'이라는, 장애인 비하가 들어가기에 이를 소개하게 됐습니다. <strong>장애와 질병을 뜻하는 단어는 욕이 될 수 없습니다. </strong>보도를 향한 비판과 문제 제기는 분명히 의미있는 행동입니다. 그러나 혐오를 동력삼은 막무가내 공격은 제 아무리 훌륭한 의도더라도 귀담아 듣기 어렵습니다. </p><p class="editor-p">물론 이번 보도에 보여준 관심 모두가 이런 방향이었던 것은 아닙니다. 한 독자는 "기자님의 글로 인식개선에 1명이라도 도움이 되었다면 저는 정말 좋은 글이라고 생각해요"라는 메일을 보내주셨습니다. 또 "이제부터라도 페미니즘을 공부해보려고 한다" "지금 시점에 필요한 기사"라는 반응도 있었습니다.</p><div class="div-line"></div><h3 class="editor-tit">진정한 페미니즘을 위하여</h3><div class="editor-img-box"><img src="https://newsimg-hams.hankookilbo.com/2022/03/24/34595ed5-6bd5-4463-9c8e-a0c6982f2d01.jpg"><div class="caption"><p>'세계 여성의 날' 114주년인 지난 8일 서울시청 앞 도로에서 민주노총 주최로 열린 세계 여성의날 정신 계승 성평등 운동회에서 민주노총과 산하 여성단체 등 참가자들이 행진을 하고 있다. 뉴시스</p></div></div><p class="editor-p">'진정한 페미니즘'은 과연 무엇일까요. 아직 우리는 "이 단어에 대한 사회적 합의가 없고"(김수아 서울대 언론정보학 교수) "페미니즘이 무엇인지도 잘 모르는"(허민숙 국회 입법조사관) 상황입니다. </p><p class="editor-p">사실 페미니즘은 하나의 의미로 규정짓기 어렵습니다. 신경아 한림대 사회학과 교수는 "페미니즘 자체는 민주주의라는 말과 같아서 수십개 갈래가 있다"라고 했습니다. 백 명의 사람이 있다면 백 개의 각기 다른 페미니즘이 있을 수 있다는 의미입니다.</p><p class="editor-p">다만 하나만은 확실합니다. 다시 과거로 돌아가지는 않을 겁니다. 허 입법조사관은 "<strong>여성혐오는 결국 과거로 돌아가라는 것"이라면서 "유색인종과 동등해지는 것을 참지 못하는 백인이  혐오감을 드러내는 인종혐오와 여성혐오는 마찬가지</strong>"라고 설명했습니다. 그러면서 "혐오와 폭력은 우리가 완전히 동등하고 다르지 않다는 사실을 인정할 때 비로소 사라진다"라고 덧붙였습니다. </p>
<div class="writer"><span class="name"> <strong> 전혼잎 </strong> 기자<span class="email"> hoihoi@hankookilbo.com </span> </span></div><div class="writer"><span class="name"> <strong> 최나실 </strong> 기자<span class="email"> verite@hankookilbo.com </span> </span></div><div class="writer"><span class="name"> <strong> 최은서 </strong> 기자<span class="email"> silver@hankookilbo.com </span> </span></div>
<input type="hidden" id="fileServer" value="https://newsimg.hankookilbo.com"/>
<div class="btn-area">
    <button class="btn-like" title="공감">
            <span class="icon icon-heart"></span>
            <span id="bottom-like-cnt" class="count">0</span>
        </button>
        <button class="btn-unlike" title="비공감">
            <span class="icon icon-heart-x"></span>
            <span id="bottom-dislike-cnt" class="count">0</span>
        </button>
    <button class="btn-share">
        <span class="icon"></span>
        <span class="text">공유</span>
    </button>
    <button class="btn-save" onclick="onClickSaveArticleBtn()">
        <span class="icon"></span>
        <span class="text">저장</span>
    </button>
    <button class="btn-goto-comment">
        <span class="icon"></span>
        <span class="text">댓글</span>
    </button>
</div>

<div class="related-news-list">
        <h3>관련기사</h3>
            <ul>
                <li class="top-news">
                    <a href="/News/Read/A2022032013040003514?rPrev=A2022032411350002138" target="_SELF">
                        <div class="col-text">
                            <div class="title">&#034;여자도 군대 가&#034;란 말도 페미니즘입니다</div>
                            <div class="reg-date">2022.03.22 04:30</div>
                        </div>
                        <div class="col-img">
                            <div class="img-box ">
                                <img style="width: 100%; height: 100%;" src="https://newsimg-hams.hankookilbo.com/2022/03/20/e9d18584-51b0-4e6a-839a-4c2db92d2721_t.jpg" alt="">
                            </div>
                        </div>
                    </a>
                </li>
                <li><a href="/News/Read/A2022022415050002043?rPrev=A2022032411350002138" target="_self"><div class="title">&#034;남경 무용론이...&#034; &#034;남성BJ 선물공세로&#034;... 이런 기사, 어색한가요?</div></a></li>
                <li><a href="/News/Read/A2022022109580002090?rPrev=A2022032411350002138" target="_self"><div class="title">국제사회 공인 성평등 후진국인데, 페미니즘에 분노?</div></a></li>
                <li><a href="/News/Read/A2022022309030002990?rPrev=A2022032411350002138" target="_self"><div class="title">금기어 된 성평등 공약… 대선의 시계는 거꾸로 갔다</div></a></li>
                <li><a href="/News/Read/A2022030408510000423?rPrev=A2022032411350002138" target="_self"><div class="title">&#039;여혐&#039;을 선거 전략으로 내세운 초유의 대선</div></a></li>
                </ul>
    </div>
    <div class="editor-subscribe">
        <div class="title">페미니즘을 거부하는 당신에게</div>
        <span class="btn-subscribe">
        <input type="checkbox" id="editor-subscribe" onclick="onClickSubscribeArticleBtn('bottom')">
        <label for="editor-subscribe">구독</label>
    </span>
    </div>
<div class="naver-banner">
    <script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/m_newbylow@468x90"></script>
</div>

<div class="copy-text">
    세상을 보는 균형, 한국일보 <span class="roboto">Copyright © Hankookilbo</span>
</div>

<div class="ad-banner">
    <script>
        var is_ins = false;
        
            var adArray = ['mobile_endpag_3@300x250'];
            

        // 중복 처리
        var $divideList = $('.ad-banner');
        if ($divideList.length) {
            for (var i = 0; i < $divideList.length; i++) {
                var id = $($divideList[i]).find('.img-box').attr('data-id');
                var adIndex = adArray.indexOf(id);
                if (adIndex > -1) {
                    adArray.splice(adIndex, 1);
                }
            }
        }

        
            for (var i = 0; i < 1; i++) {
                if(adArray[i] == 'ins' && is_ins){
                    // document.write('<div class="img-box" data-id="22268266355">');
                    // document.write('<ins class="adsbyaiinad" data-aiinad-inv="22268266355"></ins>');
                    // document.write('</div>');
                    document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage@dividelong02"><\/script>');
                }else{
                    document.write('<div class="img-box" data-id="' + adArray[i] + '">');
                    document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/' + adArray[i] + '"><\/script>');
                    document.write('</div>');
                }

            }
        

        // 안드로이드 업데이트용
        if (location.href.indexOf('/News/Read') > -1 && navigator.userAgent.indexOf('Update') > -1) {
            $('.end-ad-container').addClass('blind');
        }
    </script>
</div>
<div class="end-bottom">
    <div class="end-ad-container dable">
        <!-- Begin Dable 기사하단_리스트 / For inquiries, visit http://dable.io -->
        <div id="dablewidget_2Xn48k7d" data-widget_id="2Xn48k7d">
            <script>
                (function(d,a,b,l,e,_) {
                    if(d[b]&&d[b].q)return;d[b]=function(){(d[b].q=d[b].q||[]).push(arguments)};e=a.createElement(l);
                    e.async=1;e.charset='utf-8';e.src='//static.dable.io/dist/plugin.min.js';
                    _=a.getElementsByTagName(l)[0];_.parentNode.insertBefore(e,_);
                })(window,document,'dable','script');
                dable('setService', 'm.hankookilbo.com');
                dable('renderWidget', 'dablewidget_2Xn48k7d', {ignore_items: true});
            </script>
        </div>
        <!-- End 기사하단_리스트 / For inquiries, visit http://dable.io -->
    </div>

    <!-- ad-banner -->
    <div class="ad-banner">
    <script>
        var is_ins = false;
        
            var adArray = ['mobile_endpag_1@300x250'];
            

        // 중복 처리
        var $divideList = $('.ad-banner');
        if ($divideList.length) {
            for (var i = 0; i < $divideList.length; i++) {
                var id = $($divideList[i]).find('.img-box').attr('data-id');
                var adIndex = adArray.indexOf(id);
                if (adIndex > -1) {
                    adArray.splice(adIndex, 1);
                }
            }
        }

        
            for (var i = 0; i < 1; i++) {
                if(adArray[i] == 'ins' && is_ins){
                    // document.write('<div class="img-box" data-id="22268266355">');
                    // document.write('<ins class="adsbyaiinad" data-aiinad-inv="22268266355"></ins>');
                    // document.write('</div>');
                    document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage@dividelong02"><\/script>');
                }else{
                    document.write('<div class="img-box" data-id="' + adArray[i] + '">');
                    document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/' + adArray[i] + '"><\/script>');
                    document.write('</div>');
                }

            }
        

        // 안드로이드 업데이트용
        if (location.href.indexOf('/News/Read') > -1 && navigator.userAgent.indexOf('Update') > -1) {
            $('.end-ad-container').addClass('blind');
        }
    </script>
</div>
<!-- // ad-banner -->

    <!-- .slider-wrap -->
    <div class="slider-wrap" data-el="sideLiveIssue">
    <h2 class="title">당신이 관심 있을만한 이슈</h2>
    <div class="card-slider">
        <ul class="card-list slick-slider" data-el="sideLiveIssueList">
        </ul>
    </div>
</div>

<script>
    (function(window, document){
        function getRecentIssues(pageNum) {
            var url = '/api/section/bottom-liveissues?Page=' + (pageNum || 1);
            // console.log('라이브 이슈 최근 이슈 조회 -> ' + url);
            $.ajax({
                url: url,
                method: 'GET',
                contentType: 'application/json',
                success: function (response) {
                    var pageableResult = response;
                    response.list = response.list || [];
                    pageableResult.list = response.list.length > 3 ? response.list.slice(0, 4) : response.list
                    // 초기화
                    $('ul[data-el="sideLiveIssueList"]').html('');

                    /**
                     * 최근 이슈
                     */
                    for (var i = 0; i < pageableResult.list.length; i++) {
                        var item = pageableResult.list[i];
                        var article = item.articles.length ? item.articles[0] : null;
                        var articleImagePath = article ? getArticleThumbnailFilePath($('#fileServer').val(), article.articleId, article.repAttach) : '/images/Default-Image.png';
                        var appendItem = '';
                        appendItem += '<li class="item">\n' +
                            '                <div class="item-inner">\n' +
                            '                    <!-- .img-card-08 -->\n' +
                            '                    <div class="img-card-08">\n' +
                            '                        <a href="/Liveissue/' + item.liveIssueId + '">\n' +
                            '                            <div class="hash"># ' + item.liveIssueName + '</div>\n' +
                            '                            <div class="related-count">\n' +
                            '                                <a href="/Liveissue/' + item.liveIssueId + '">관련기사 <strong>' + item.articleCnt + '</strong></a>\n' +
                            '                            </div>\n' +
                            '                        </a>\n' +
                            '                        <a href="/News/Read/' + article.articleId + '">\n' +
                            '                            <div class="img-box">\n' +
                            '                                <img src="' + articleImagePath + '" alt="' + article.articleTitle + '">\n' +
                            '                            </div>\n' +
                            '                            <div class="title">' + article.articleTitle + '</div>\n' +
                            '                            <div class="text">' + article.articleFrontPanContents + '</div>\n' +
                            '                        </a>\n' +
                            '                    </div>\n' +
                            '                    <!-- // .img-card-08 -->\n' +
                            '                </div>\n' +
                            '            </li>';


                        $('ul[data-el="sideLiveIssueList"]').append(appendItem)
                    }

                    // slick refresh
                    $('ul[data-el="sideLiveIssueList"]')[0].slick.refresh();
                },
                error: function(){
                    $('div[data-el="sideLiveIssue"]').hide();
                }
            })
        }
        //
        function getTopIssues(pageNum) {
            var url = '/api/section/LIVEISSUE/page';
            $.ajax({
                url: url,
                method: 'GET',
                contentType: 'application/json',
                success: function(res){
                    var issuccess = false;
                    var contents = [];
                    if(Array.isArray(res.areas) && res.areas.length > 0){
                        var data = res.areas[0] || {};
                        var area = data.area || {};
                        var subAreas = data.subAreas;
                        if(area.areaType == "AREA_1" && Array.isArray(subAreas)){
                            issuccess = true;
                            contents = (subAreas[0] || {})['contents'] || [];
                        }
                    }

                    if(issuccess===false || contents.length < 1){
                        $('div[data-el="sideLiveIssue"]').hide();
                        return;
                    }

                    var i=0, html = '', obj, article;
                    contents = contents.length > 3 ? contents.slice(0, 3) : contents;
                    for(;i<contents.length;i+=1){
                        item = contents[i];
                        article = item.article;
                        var articleImagePath = article ? getArticleThumbnailFilePath($('#fileServer').val(), article.articleId, article.repAttach) : '/images/Default-Image.png';

                        html += '<li class="item">\n' +
                            '                <div class="item-inner">\n' +
                            '                    <!-- .img-card-08 -->\n' +
                            '                    <div class="img-card-08">\n' +
                            '                        <a href="/Liveissue/' + item.liveIssueId + '">\n' +
                            '                            <div class="hash"># ' + item.liveIssueName + '</div>\n' +
                            '                            <div class="related-count">\n' +
                            '                                <a href="/Liveissue/' + item.liveIssueId + '">관련기사 <strong>' + item.articleCnt + '</strong></a>\n' +
                            '                            </div>\n' +
                            '                        </a>\n' +
                            '                        <a href="/News/Read/' + article.articleId + '">\n' +
                            '                            <div class="img-box ">\n' +
                            '                                <img src="' + articleImagePath + '" alt="' + article.articleTitle + '">\n' +
                            '                            </div>\n' +
                            '                            <div class="title">' + article.articleTitle + '</div>\n' +
                            '                            <div class="text">' + article.articleFrontPanContents + '</div>\n' +
                            '                        </a>\n' +
                            '                    </div>\n' +
                            '                    <!-- // .img-card-08 -->\n' +
                            '                </div>\n' +
                            '            </li>';
                    }
                    $('ul[data-el="sideLiveIssueList"]').empty().html(html)
                    // slick refresh
                    $('ul[data-el="sideLiveIssueList"]')[0].slick.refresh();
                },
                error: function(err){
                    $('div[data-el="sideLiveIssue"]').hide();
                }
            })
        }




        $(document).ready(function(){
            //getRecentIssues();
            getTopIssues();
        })

    })(window, document);
</script>

<!-- // .slider-wrap -->

    <div class="ad-banner">
    <script>
        var is_ins = false;
        
            var adArray = ['mobile_endpag_2@300x250"'];
            

        // 중복 처리
        var $divideList = $('.ad-banner');
        if ($divideList.length) {
            for (var i = 0; i < $divideList.length; i++) {
                var id = $($divideList[i]).find('.img-box').attr('data-id');
                var adIndex = adArray.indexOf(id);
                if (adIndex > -1) {
                    adArray.splice(adIndex, 1);
                }
            }
        }

        
            for (var i = 0; i < 1; i++) {
                if(adArray[i] == 'ins' && is_ins){
                    // document.write('<div class="img-box" data-id="22268266355">');
                    // document.write('<ins class="adsbyaiinad" data-aiinad-inv="22268266355"></ins>');
                    // document.write('</div>');
                    document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage@dividelong02"><\/script>');
                }else{
                    document.write('<div class="img-box" data-id="' + adArray[i] + '">');
                    document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/' + adArray[i] + '"><\/script>');
                    document.write('</div>');
                }

            }
        

        // 안드로이드 업데이트용
        if (location.href.indexOf('/News/Read') > -1 && navigator.userAgent.indexOf('Update') > -1) {
            $('.end-ad-container').addClass('blind');
        }
    </script>
</div>
</div></div>
        <!-- // end-body -->

        <!-- comment-area -->
    <div class="comment-area">
        <!-- comment-title -->
        <h3 class="comment-title">댓글 <span class="count">1,324</span></h3>
        <!-- // comment-title -->

        <!-- comment-edit -->
        <div class="comment-edit">
            <button onclick="onFocusInput()" id="commentInputContainer" type="button" class="btn-open-edit">
                댓글을 입력해 주세요.
                <span class="btn-reg">등록</span>
            </button>
            <div class="textarea-wrap">
                <div class="textarea">
                    <textarea id="commentInput" rows="2" maxlength="250" placeholder="댓글을 입력해 주세요."></textarea>
                </div>
                <div class="textarea-bottom">
                    <span class="count"><strong>0</strong> / 250</span>
                    <button class="btn-reg" id="submitCommentButton" onclick="onClickSubmitComment()" disabled>등록</button>
                </div>
            </div>
        </div>
        <!-- // comment-edit -->

        <!-- comment-sort-tab -->
        <div class="comment-sort-tab">
            <a id="sortLike" href="javascript:onClickSort('like', this)" class="anchor on">좋아요순</a>
            <a id="sortRecent" href="javascript:onClickSort('recent', this)" class="anchor">최신순</a>

            <a href="javascript:onClickRefresh()" class="refresh">새로고침</a>
        </div>
        <!-- // comment-sort-tab -->

        <!-- .comment-list -->
        <div class="comment-list">
            <ul id="comment-parent-container">
            </ul>
        </div>
        <!-- // .comment-list -->
        <!-- comment-empty -->
        <div class="comment-empty blind">
            첫번째 댓글을 남겨주세요.
        </div>
        <!-- comment-empty -->
        <!-- .btn-all -->
        <button id="show-more-btn" class="btn-all" onclick="getComments(selectedSort, commentData.pageNum + 1, true)">더보기</button>
        <!-- // .btn-all -->
    </div>
    <!-- // comment-area -->

    <!-- .ad-banner -->
    <!-- // .ad-banner -->

    <section id="comment-report-popup" class="popup-alert">
        <div class="inner">
            <h1 class="title">댓글 신고</h1>
            <button class="btn-close" onClick="$(this).closest('.popup-alert').closePopup();">
                <span class="blind">닫기</span>
            </button>
            <p class="mt20">신고 사유를 선택해주세요.</p>
            <div class="radio-group">
                <input class="radio" value="Discomfort" type="radio" name="report-radio" id="rdo_report_01" checked>
                <label for="rdo_report_01">불쾌감 조성(비방/욕설/인신공격)</label>
                <input class="radio" value="IllegalAD" type="radio" name="report-radio" id="rdo_report_02">
                <label for="rdo_report_02">불법 광고 또는 스팸</label>
                <input class="radio" value="ObscenePost" type="radio" name="report-radio" id="rdo_report_03">
                <label for="rdo_report_03">음란성 게시글</label>
                <input class="radio" value="PersonalInfringement" type="radio" name="report-radio" id="rdo_report_04">
                <label for="rdo_report_04">사생활 침해 또는 명예훼손</label>
            </div>
            <div class="btn-area">
                <button type="button" class="is-gray" onClick="$(this).closest('.popup-alert').closePopup();">취소
                </button>
                <button type="button" onClick="onClickSubmitCommentReport()">확인</button>
            </div>
        </div>
    </section>
    <!-- 댓글 삭제 팝업 -->
    <section id="comment-delete-popup" class="popup-alert">
        <div class="inner">
            <h1 class="title">삭제 확인</h1>
            <p>작성하신 글을<br>삭제하시겠습니까?</p>
            <div class="btn-area">
                <button type="button" class="is-gray" onClick="$(this).closest('.popup-alert').closePopup();">취소
                </button>
                <button type="button" onClick="$(this).closest('.popup-alert').closePopup(); deleteComment()">확인
                </button>
            </div>
        </div>
    </section>
    <!-- 댓글 삭제 팝업 -->

    <section id="sign-in-request-popup" class="popup-alert">
        <div class="inner">
            <h1 class="title">로그인 요청</h1>
            <p>로그인 한 후 이용 가능합니다. <br>로그인 하시겠습니까?</p>
            <div class="btn-area">
                <button type="button" class="is-gray" onClick="$(this).closest('.popup-alert').closePopup();">아니오
                </button>
                <button type="button" onClick="Cookies.set('sign-in-url', location.href, { path: '/' }); location.href='/auth/sign-in'">네</button>
            </div>
        </div>
    </section>
    <div id="comment-dimmed" class="dimmed">

    </div>
    <script>
    var selectedComment;
    var selectedSort = 'likeCnt,desc';
    var commentData = {
        total: 0,
        list: [],
        pageNum: 0,
        pageSize: 0,
        size: 0,
        startRow: 0,
        endRow: 0,
        pages: 0,
        prePage: 0,
        nextPage: 0,
        isFirstPage: false,
        isLastPage: false,
        hasPreviousPage: false,
        hasNextPage: false,
        navigatePages: 0,
        navigatepageNums: [],
        navigateFirstPage: 0,
        navigateLastPage: 0,
    };

    // 신고용
    var selectedOpinionIdForReport;
    // 삭제용
    var selectedOpinionIdForDelete;
    // 답글 등록시 새로 getComments하면 닫히는 것을 막기 위해서
    var selectedOpinionIdForFetch;



    $(function(){
        getComments('likeCnt,desc', '0');
    });

    /**
     * 좋아요 버튼
     */
    function onClickLike(id) {
        addCommentSympathy(id, 'Like');
    }

    /**
     * 싫어하기 버튼
     */
    function onClickDislike(id) {
        addCommentSympathy(id, 'Dislike');
    }

    /**
     * 신고하기 팝업 띄우기
     */
    function onClickReport(id) {
        if (Cookies.get('accessToken') === undefined) {
            $('#sign-in-request-popup').addClass('on');
            $('#comment-dimmed').addClass('on');
            return;
        }
        // // console.log(id);
        selectedOpinionIdForReport = id;
        $('#comment-report-popup').addClass('on');
        $('#comment-dimmed').addClass('on');
    }

    /**
     * 신고하기
     */
    function onClickSubmitCommentReport() {
        var selectedReportType = $("input[name='report-radio']:checked").val();
        // // console.log(selectedReportType);
        if (selectedOpinionIdForReport !== undefined) {
            addReport(selectedOpinionIdForReport, selectedReportType);
        }
    }

    /**
     * 댓글 삭제 팝업 띄우는 함수
     */
    function onClickDeleteComment(id) {
        selectedOpinionIdForDelete = id;
        $('#comment-delete-popup').addClass('on');
        $('#comment-dimmed').addClass('on');
    }

    /**
     * 댓글 삭제 함수
     */
    function deleteComment() {
        //return false;
        if (selectedOpinionIdForDelete === undefined) {
            return;
        }
        var url = '/article/' + 'A2022032411350002138' + '/comment/' + selectedOpinionIdForDelete;
        // // console.log(url);
        $.ajax({
            url: url,
            method: 'DELETE',
            success: function (response) {
                // // console.log('기사 댓글 삭제 -> 성공');
                // // console.log(response);
                var flag = response;
                if (flag) {
                    alert("댓글이 삭제되었습니다.");
                    $('#comment-delete-popup').closePopup();
                    $('#comment-parent-container').empty();
                    getComments(selectedSort, commentData.pageNum);
                    selectedOpinionIdForDelete = undefined;
                } else {
                    alert("댓글 삭제 에러");
                    $('#comment-delete-popup').closePopup();
                    selectedOpinionIdForDelete = undefined;
                }
            },
            fail: function (err) {
                // console.log('기사 댓글 삭제 -> 에러');
            }
        });
    }

    /**
     * 공감 추가 함수
     */
    function addCommentSympathy(id, type) {
        //return false;
        var url = '/comment/' + id + '?opinionSympathyType=' + type + '&articleId=A2022032411350002138';
        // console.log('공감 추가 -> ' + url);
        $.ajax({
            url: url,
            method: 'POST',
            contentType: 'application/json',
            success: function (response) {
                // console.log('공감 추가 -> 성공');

                // 중복이 아니면 true가 내려온다?

                if (response.code === '0000') {
                    if (type === 'Like') {
                        var button = $('#commentLikeButton' + id).html().toString();
                        button = button.replace('<span class="thumb">좋아요</span>', '').replace('<span class="count">', '').replace('</span>', '');
                        var currentCount = parseInt(button);
                        $('#commentLikeButton' + id).addClass('on');
                        $('#commentLikeButton' + id).html('<span class="thumb">좋아요</span><span class="count">' + (currentCount + 1) + '</span>');
                    } else if (type === 'Dislike') {
                        var button = $('#commentDislikeButton' + id).html().toString();
                        button = button.replace('<span class="thumb">싫어요</span>', '').replace('<span class="count">', '').replace('</span>', '');
                        var currentCount = parseInt(button);
                        $('#commentDislikeButton' + id).html('<span class="thumb">싫어요</span><span class="count">' + (currentCount + 1) + '</span>');
                        $('#commentDislikeButton' + id).addClass('on');
                    }
                } else if (response.code === 'EXIST_SYMPATHY') {
                    deleteCommentSympathy(id, type);
                } else {
                    alert('댓글 공감 에러');
                }

                // console.log(response);
            },
            fail: function (err) {
                // console.log('공감 추가 -> 에러');
            }
        });
    }

    /**
     * 공감 제거 함수
     */
    function deleteCommentSympathy(id, type) {
        //return false;
        var url = '/comment/' + id + '?opinionSympathyType=' + type + '&articleId=A2022032411350002138';

        // console.log('공감 삭제 -> ' + url);
        $.ajax({
            url: url,
            method: 'DELETE',
            contentType: 'application/json',
            success: function (response) {
                // console.log('공감 삭제 -> 성공');
                // console.log(response);
                if (response.code === '0000') {
                    if (type === 'Like') {
                        var button = $('#commentLikeButton' + id).html().toString();
                        button = button.replace('<span class="thumb">좋아요</span>', '').replace('<span class="count">', '').replace('</span>', '');
                        var currentCount = parseInt(button);
                        $('#commentLikeButton' + id).removeClass('on');
                        $('#commentLikeButton' + id).html('<span class="thumb">좋아요</span><span class="count">' + (currentCount - 1) + '</span>')
                    } else if (type === 'Dislike') {
                        var button = $('#commentDislikeButton' + id).html().toString();
                        button = button.replace('<span class="thumb">싫어요</span>', '').replace('<span class="count">', '').replace('</span>', '');
                        var currentCount = parseInt(button);
                        button.replace('<span class="thumb">싫어요</span>', '')
                        $('#commentDislikeButton' + id).removeClass('on');
                        $('#commentDislikeButton' + id).html('<span class="thumb">싫어요</span><span class="count">' + (currentCount - 1) + '</span>')
                    }
                } else {
                    alert('댓글 공감 에러');
                }

            },
            fail: function (err) {
                // console.log('공감 삭제 -> 에러');
            }
        });
    }

    /**
     * 댓글 등록
     */
    function onClickSubmitComment() {
        //return false;
        $('#submitCommentButton').attr('disabled', true);

        var comment = $('#commentInput').val();
        if (comment.length < 251) {
            $.ajax({
                url: '/article/' + 'A2022032411350002138' + '/comment',
                method: "POST",
                contentType: 'application/json',
                data: JSON.stringify({
                    contents: comment,
                }),
                success: function (response) {
                    $('#submitCommentButton').attr('disabled', false);
                    if (checkCondition(response) > 0) return;
                    getComments(selectedSort, commentData.pageNum);

                    $('#commentInput').val('');
                    $('#commentInputContainer').removeClass('on');
                    $('#commentInputCount').html('<strong>0</strong> / 250')
                },
                fail: function (err) {
                    // console.log('댓글 등록 -> 댓글 등록 에러');
                }
            });
        }
    }

    /**
     * 답글 등록
     */
    function onClickSubmitCommentReply(id) {
        //return false;
        $('#commentSubmitButton' + id).attr('disabled', true);

        selectedOpinionIdForFetch = id;
        var commentReply = $('#commentReplyInput' + id).val();
        var url = '/article/' + 'A2022032411350002138' + '/comment';

        if (commentReply.length < 251) {
            $.ajax({
                url: url,
                method: "POST",
                contentType: 'application/json',
                data: JSON.stringify({
                    contents: commentReply,
                    opinionParentId: id
                }),
                success: function (response) {
                    $('#commentSubmitButton' + id).attr('disabled', false);
                    if (checkCondition(response) > 0) return;
                    getComments(selectedSort, commentData.pageNum);
                },
                fail: function (err) {
                }
            });
        }
    }

    /**
     * 댓글 포커싱
     */
    function onFocusInput() {
        if (Cookies.get('accessToken') === undefined) {
            $('#sign-in-request-popup').addClass('on');
            $('#comment-dimmed').addClass('on');
            setTimeout(function() {
                $('#commentInputContainer').removeClass('on');
            }, 100);
            return;
        }
    }

    /**
     * 신고하기 함수
     */
    function addReport(id, reportType) {
        //return false;
        var url = '/comment/' + id + '?opinionSympathyType=Report&rptType=' + reportType;
        // console.log('신고하기 등록 -> ' + url);
        $.ajax({
            url: url,
            method: 'POST',
            contentType: 'application/json',
            success: function (response) {
                selectedOpinionIdForReport = undefined;

                $('.popup-alert').closePopup();

                if (response.code === '0000') {
                    alert("신고가 접수되었습니다.");
                    // 이미 공감이 있으면 삭제 없으면 추가
                } else if (response.code === 'EXIST_SYMPATHY') {
                    alert('이미 신고한 댓글입니다.');
                } else {
                    alert('댓글 신고 에러');
                }

            },
            fail: function (err) {
                alert("신고하기 에러 발생");
                // console.log('신고하기 등록 -> 에러');
                selectedOpinionIdForReport = undefined;
            }
        });
    }

    /**
     * 답글 포커싱
     */
    function onFocusCommentInput(id) {
        if (Cookies.get('accessToken') === undefined) {
            $('#sign-in-request-popup').addClass('on');
            $('#comment-dimmed').addClass('on');
            return;
        }
        $('#commentReplyInput' + id).on('keyup', function (input) {
            if (input.target.value.length > 0) {
                $('#commentSubmitButton' + id).prop("disabled", false)
            } else {
                $('#commentSubmitButton' + id).prop("disabled", true)
            }
            $('#commentReplyInputCount' + id).html('<strong>' + input.target.value.length + '</strong> / 250');
        })
    }

    /**
     * 답글 input 클릭시
     */
    function onClickCommentReplyInput(id) {
        if (Cookies.get('accessToken') === undefined) {
            $('#sign-in-request-popup').addClass('on');
            $('#comment-dimmed').addClass('on');
            return;
        }
        setTimeout(function () {
            $('#commentReplyInput' + id).focus();
        }, 100);

        $('#commentReplyInputContainer' + id).addClass('on');
    }

    /**
     * 기사 댓글 조회
     * @param sort
     */
    function getComments(sort, pageNum, more = false) {
        //return false;
        //$('.comment-area').hide();
        //return;

        $.ajax({
            url: '/article/operation/more/A2022032411350002138',
            method: "GET",
            contentType: 'application/json',
            async: false,
            success: function (response) {
                if (response != undefined && response != null && response != '') {
                    if (response.memberOpinionYn == 'N') {
                        $('.comment-area').hide();
                        return;
                    }
                }
            }
        });

        var url = '/article/' + 'A2022032411350002138' + '/comment?Page=' + pageNum + '&sort=' + sort;
        $.ajax({
            url: url,
            method: "GET",
            contentType: 'application/json',
            success: function (response) {
                commentData = response;
                // console.log(commentData);
                if (commentData.isLastPage) {
                    $('#show-more-btn').addClass('blind');
                } else {
                    $('#show-more-btn').removeClass('blind');
                }

                /**
                 * 초기화
                 */
                // 댓글 총 개수 설정
                $('.comment-title').html('댓글 <span class="count">' + commentData.total + '</span>');
                if (!more) {
                    $('.comment-list').html('<ul id="comment-parent-container"></ul>');
                }

                // 상단 댓글 총 개수 설정
                $('#top-comment-cnt').html(commentData.total);

                if (commentData.total !== 0) {
                    begin = (commentData.pageNum / 10) * 10 + 1;
                    if (commentData.pageNum % 10 === 0) {
                        begin -= 10;
                    }
                    end = begin + 9;
                    if (commentData.pages < begin + 9) {
                        end = begin;
                    }

                    // 댓글이 없을 때 보여지는 element 제거
                    $('.comment-empty').addClass('blind');
                    $('.comment-list').removeClass('blind');

                    for (var i = 0; i < commentData.list.length; i++) {
                        // 아이템
                        var item;
                        // 삭제 or 신고 버튼
                        var deleteReportButton;
                        // 전체보기 버튼
                        var showAllButtonFlag = 'blind';
                        // 답글 리스트 blind 클래스
                        var replyListBlindClass = 'blind';

                        item = commentData.list[i];
                        item.contents = item.contents.replace(/\n/g, '<br>');

                        // 전체보기 버튼 유무 설정
                        if (item.children.length >= 10) {
                            showAllButtonFlag = '';
                        }

                        if (item.opinionId === selectedOpinionIdForFetch) {
                            replyListBlindClass = '';
                        }

                        // 본인이 쓴 댓글이면 삭제 버튼, 타인이 쓴 댓글이면 신고 버튼
                        if (item.isOwner) {
                            deleteReportButton = '<a id="reportDeleteButton' + item.opinionId + '" href="javascript:onClickDeleteComment(\'' + item.opinionId + '\')" class="report">삭제</a>'
                        } else {
                            deleteReportButton = '<a id="reportDeleteButton' + item.opinionId + '" href="javascript:onClickReport(\'' + item.opinionId + '\')" class="report">신고</a>'
                        }

                        $('#comment-parent-container').append('<li class="comment-item" id="comment' + item.opinionId + '">\n' +
                            '                            <!-- .comment-box -->\n' +
                            '                            <div class="comment-box">\n' +
                            '                                <div class="info">\n' +
                            '                                    <span class="id">' + item.penName + '</span>\n' +
                            '                                    <span class="date">' + getFormattedDate(item.createdDt, 'yyyy.mm.dd hh:mm') + '</span>\n' +
                            '                                    <span class="bar"></span>\n' +
                            '                                    ' + deleteReportButton +
                            '                                </div>\n' +
                            '                                <div class="text">\n' +
                            '                                ' + item.contents + '\n' +
                            '                                </div>\n' +
                            '                                <div class="tool">\n' +
                            '                                    <button type="button" class="btn-reply" onclick="onClickToggleReply(\'' + item.opinionId + '\')">답글<span class="count">' + item.children.length + '</span></button>\n' +
                            '                                    <div class="btn-box">\n' +
                            '                                        <button class="btn-thumbup" id="commentLikeButton' + item.opinionId + '" onclick="onClickLike(\'' + item.opinionId + '\')"><span class="thumb">좋아요</span><span class="count">' + item.likeCnt + '</span></button>\n' +
                            '                                        <button class="btn-thumbdown" id="commentDislikeButton' + item.opinionId + '" onclick="onClickDislike(\'' + item.opinionId + '\')"><span class="thumb">싫어요</span><span class="count">' + item.dislikeCnt + '</span></button>\n' +
                            '                                    </div>\n' +
                            '                                </div>\n' +
                            '                            </div>\n' +
                            '                            <!-- //.comment-box -->\n' +
                            '                            <!-- .reply-list -->\n' +
                            '                            <div class="reply-list" id="commentReply' + item.opinionId + '">\n' +
                            '                                <!-- .reply-edit -->\n' +
                            '                                <div class="reply-edit" onclick="onClickCommentReplyInput(\'' + item.opinionId + '\')">\n' +
                            '                                    <button type="button" class="btn-open-edit" id="commentReplyInputContainer' + item.opinionId + '">답글을 입력 해주세요.\n' +
                            '                                        <span class="btn-reg">등록</span>\n' +
                            '                                    </button>\n' +
                            '                                    <div class="textarea-wrap">\n' +
                            '                                        <div class="textarea">\n' +
                            '                                            <textarea onfocus="onFocusCommentInput(\'' + item.opinionId + '\')" id="commentReplyInput' + item.opinionId + '" rows="3" maxlength="250" placeholder="댓글을 입력해 주세요."></textarea>\n' +
                            '                                        </div>\n' +
                            '                                        <div class="textarea-bottom">\n' +
                            '                                            <span class="count" id="commentReplyInputCount' + item.opinionId + '"><strong>0</strong> / 250</span>\n' +
                            '                                            <button onclick="onClickSubmitCommentReply(\'' + item.opinionId + '\')" class="btn-reg" id="commentSubmitButton' + item.opinionId + '" type="button" disabled>등록</button>\n' +
                            '                                        </div>\n' +
                            '                                    </div>\n' +
                            '                                </div>\n' +
                            '                                <!-- // .reply-edit -->\n' +
                            '                                <ul id="comment-children-container' + item.opinionId + '">\n' +
                            '                                </ul>\n' +
                            '                                <!-- .btn-all -->\n' +
                            '                               <button id="commentReplyShowAllButton' + item.opinionId + '" class="btn-all ' + showAllButtonFlag + '"\n' +
                            '                               onClick="onClickShowAllReply(\'' + item.opinionId + '\')">전체보기</button>\n' +
                            '                                <!-- // .btn-all -->\n' +
                            '                            </div>\n' +
                            '                            <!-- // .reply-list -->\n' +
                            '                        </li>');

                        // 답글
                        for (var j = 0; j < item.children.length; j++) {
                            var childrenItem = item.children[j];
                            var blindClass = "";
                            var childDeleteReportButton;

                            childrenItem.contents = childrenItem.contents.replace(/\n/g, '<br>');

                            // 본인이 쓴 댓글이면 삭제 버튼, 타인이 쓴 댓글이면 신고 버튼
                            if (childrenItem.isOwner) {
                                childDeleteReportButton = '<a id="reportDeleteButton' + childrenItem.opinionId + '" href="javascript:onClickDeleteComment(\'' + childrenItem.opinionId + '\')" class="report">삭제</a>'
                            } else {
                                childDeleteReportButton = '<a id="reportDeleteButton' + childrenItem.opinionId + '" href="javascript:onClickReport(\'' + childrenItem.opinionId + '\')" class="report">신고</a>'
                            }

                            if (j > 9) {
                                blindClass = "blind";
                            }
                            $('#comment-children-container' + item.opinionId).append('<li class="' + blindClass + '">\n' +
                                '  <div class="comment-box">\n' +
                                '    <div class="info">\n' +
                                '      <span class="id">' + childrenItem.penName + '</span>\n' +
                                '      <span class="date">' + getFormattedDate(childrenItem.createdDt, 'yyyy.mm.dd hh:mm') + '</span>\n' +
                                '      <span class="bar"></span>\n' +
                                '                                    ' + childDeleteReportButton +
                                '    </div>\n' +
                                '    <div class="text">\n' +
                                '      ' + childrenItem.contents + '\n' +
                                '    </div>\n' +
                                '    <div class="tool">\n' +
                                '      <div class="btn-box">\n' +
                                '        <button id="commentLikeButton' + childrenItem.opinionId + '" class="btn-thumbup" onclick="onClickLike(\'' + childrenItem.opinionId + '\')"><span\n' +
                                '            class="thumb">좋아요</span>' + childrenItem.likeCnt + '</button>\n' +
                                '        <button id="commentDislikeButton' + childrenItem.opinionId + '" class="btn-thumbdown" onclick="onClickDislike(\'' + childrenItem.opinionId + '\')"><span\n' +
                                '            class="thumb">싫어요</span>' + childrenItem.dislikeCnt + '</button>\n' +
                                '      </div>\n' +
                                '    </div>\n' +
                                '  </div>\n' +
                                '</li>');
                        }
                        selectedOpinionIdForFetch = undefined;
                    }

                } else {
                    $('.comment-list').addClass('blind');
                    $('.comment-empty').removeClass('blind');
                }

                // console.log('기사 댓글 조회 -> 성공');
                // console.log(response);
            },
            fail: function (err) {
                // console.log('기사 댓글 조회 -> 에러');
            }
        });
    }

    /**
     * 새로고침
     */
    function onClickRefresh() {
        getComments(selectedSort, commentData.pageNum);
    }

    /**
     * 정렬하기 함수
     * @param type
     */
    function onClickSort(type) {
        // 좋아요 순 sort
        if (type === 'like') {
            if (selectedSort === 'likeCnt,desc') {
                return;
            }
            selectedSort = 'likeCnt,desc';
            $('#sortLike').toggleClass('on');
            $('#sortRecent').toggleClass('on');
            getComments(selectedSort, '');
            // 최신 순 sort
        } else {
            if (selectedSort === 'createdDt,desc') {
                return;
            }
            selectedSort = 'createdDt,desc';
            $('#sortLike').toggleClass('on');
            $('#sortRecent').toggleClass('on');
            getComments(selectedSort, '');
        }
    }

    /**
     * 유저이름 마스킹
     * @param userId
     * @returns {string}
     */
    function getMaskedUserId(userId) {
        var maskedUserId = userId.substring(0, userId.length / 2);
        maskedUserId += "****";
        return maskedUserId;
    }

    /**
     * 댓글 전체보기
     * @param id
     */
    function onClickShowAllReply(id) {
        // console.log(id);
        // console.log($('#commentReplyShowAllButton' + id).text());
        if ($('#commentReplyShowAllButton' + id).text() === '전체보기') {
            var children = $('#comment-children-container' + id).children();

            // 전체보기 클릭시 숨어있는 리스트 보여준다.
            for (var i = 0; i < children.length; i++) {
                $(children[i]).removeClass('blind');
            }
            $('#commentReplyShowAllButton' + id).html("전체접기");
            $('#commentReplyShowAllButton' + id).toggleClass("on");
            $('#commentReply' + id).removeClass('blind');

        } else {
            $('#commentReplyShowAllButton' + id).html("전체보기");
            $('#commentReplyShowAllButton' + id).toggleClass("on");
            $('#commentReply' + id).addClass('blind');
            scrollTo(id);
        }
    }

    /**
     * 답글 토글 - 지워야함
     * @param id
     */
    function onClickToggleReply(id) {
    }

    /**
     * 스크롤 함수
     * @param id
     */
    function scrollTo(id) {
        var offset = $('#comment' + id).offset();
        $('html, body').animate({scrollTop: offset.top - 200}, 400);
    }

    function checkCondition(response) {
        var returnVal = 0;

        if (response != undefined && response != null && response != '') {
            if (response.returnVal > 0) {
                if (response.returnVal == 1) {
                    alert('댓글/답글은 60초 내에 한 개만 등록하실 수 있습니다.');
                } else if (response.returnVal == 2) {
                    alert('이미 동일 내용의 댓글을 작성하였습니다.');
                } else if (response.returnVal == 3) {
                    alert('댓글에 부적절한 표현이 포함되어 있네요.  건전한 댓글 문화를 위해 등록이 제한됩니다.');
                } else if (response.returnVal >= 4) {
                    var abuserType = '댓글 쓰기 금지';
                    var abuserPeriod = response.UPDATED_DT.substr(0, 10) + ' ~ ' + response.PERIOD_DT.substr(0, 10);

                    if (response.returnVal == 5) abuserType = '기사당 한 개의 댓글만 가능';
                    else if (response.returnVal == 6) abuserType = '댓글 등록은 하루 한개만 가능';
                    if (response.ABUSER_PERIOD == '5') abuserPeriod = '영구금지';

                    alert(
                        '회원 게시물 관리(제 11조 3항)에 의거하여 댓글을 등록할 수 없습니다. \n' +
                        '제재 내용: ' + abuserType + '\n' +
                        '제재 기간: ' + abuserPeriod
                    );
                }
                returnVal = response.returnVal;
            }
        }

        return returnVal;
    }
</script>

<script src='https://kitweb.tadapi.info/network/adapi.h5.js.php?sub=hankook&a=hankook_m_lb_fl_340x250&refercheck=101'></script>

<div data-el="dable3" class="ad-banner dable">
    <!-- Begin Dable 하C_세로4_EMPTY_카테베_02 / For inquiries, visit http://dable.io -->
    <div id="dablewidget_y74Dpd7V" data-widget_id="y74Dpd7V">
        <script>
            (function(d,a){d[a]=d[a]||function(){(d[a].q=d[a].q||[]).push(arguments)};}(window,'dable'));
            dable('renderWidget', 'dablewidget_y74Dpd7V');
        </script>
    </div>
    <!-- End 하C_세로4_EMPTY_카테베_02 / For inquiries, visit http://dable.io -->
</div>

<div class="ad-banner">
    <script>
        var is_ins = false;
        
                is_ins = true;
                var adArray = ['endpage@dividelong01', 'ins'];
            

        // 중복 처리
        var $divideList = $('.ad-banner');
        if ($divideList.length) {
            for (var i = 0; i < $divideList.length; i++) {
                var id = $($divideList[i]).find('.img-box').attr('data-id');
                var adIndex = adArray.indexOf(id);
                if (adIndex > -1) {
                    adArray.splice(adIndex, 1);
                }
            }
        }

        
            for (var i = 0; i < 2; i++) {
                if(adArray[i] == 'ins' && is_ins){
                    // document.write('<div class="img-box" data-id="22268266355">');
                    // document.write('<ins class="adsbyaiinad" data-aiinad-inv="22268266355"></ins>');
                    // document.write('</div>');
                    document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage@dividelong02"><\/script>');
                }else{
                    document.write('<div class="img-box" data-id="' + adArray[i] + '">');
                    document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/' + adArray[i] + '"><\/script>');
                    document.write('</div>');
                }

            }
        

        // 안드로이드 업데이트용
        if (location.href.indexOf('/News/Read') > -1 && navigator.userAgent.indexOf('Update') > -1) {
            $('.end-ad-container').addClass('blind');
        }
    </script>
</div>
<!-- main -->
<!-- main -->
    </div>
    <!-- // container end -->

</div>
<!-- // wrap -->


<!-- 중복 선택 불가 안내 팝업 -->
<section id="article-sympathy-exist-popup" class="popup-alert already-check">
    <div class="inner">
        <h1 class="title">중복 선택 불가 안내</h1>
        <p>
            이미 공감 표현을 선택하신<br>
            기사입니다. 변경을 원하시면 취소<br>
            후 다시 선택해주세요.
        </p>
        <div class="btn-area">
            <button type="button" onclick="$(this).closest('.popup-alert').closePopup();">확인</button>
        </div>
    </div>
</section>
<!-- // 중복 선택 불가 안내 팝업 -->

<!-- 구독 취소 선택 팝업 -->
<section id="delete-subscription-popup" class="popup-alert">
    <div class="inner">
        <h1 class="title">구독 취소</h1>
        <p>구독을 취소하시겠습니까?</p>
        <div class="btn-area">
            <button type="button" class="gray" onclick="$(this).closest('.popup-alert').closePopup();">아니오</button>
            <button type="button" onclick="$(this).closest('.popup-alert').closePopup(); subscribeArticle();">네</button>
        </div>
    </div>
</section>
<!-- // 구독 취소 선택 팝업 -->

<!-- 공유하기 팝업 -->
<section id="pop-share" class="popup-alert">
    <div class="inner">
        <h1 class="title">공유하기</h1>
        <button class="btn-close" onClick="$(this).closest('.popup-alert').closePopup();">
            <span class="blind">닫기</span>
        </button>
        <div class="share-box">
            <a class="kakaotalk" href="javascript:shareKakaotalk()">
                <span class="text">카카오톡</span>
            </a>
            <a class="facebook"
               href="javascript:onClickShareFB()">
                <span class="text">페이스북</span>
            </a>
            <a class="twitter"
               href="javascript:onClickShareTwitter()">
                <span class="text">트위터</span>
            </a>
            <a class="mail" href="javascript:onClickShareWithEmail()">
                <span class="text">메일</span>
            </a>
            <a class="sms"href="javascript:onClickShareWithSms()">
                <span class="text">SMS</span>
            </a>
            <a class="url" href="javascript:copyCurrentUrlToClipboard()">
                <span class="text">링크복사</span>
            </a>
        </div>
    </div>
</section>
<!-- // 공유하기 팝업 -->

<!-- 구독 추가 토스트 팝업 -->
<section id="subscribe-toast" class="popup-toast">
    구독이 추가 되었습니다.
</section>
<!-- // 구독 추가 토스트 팝업 -->

<!-- 구독 취소 토스트 팝업 -->
<section id="unsubscribe-toast" class="popup-toast">
    구독이 취소 되었습니다.
</section>
<!-- // 구독 취소 토스트 팝업 -->

<!-- 구독 취소 토스트 팝업 -->
<section id="save-article-toast" class="popup-toast">
    기사가 저장 되었습니다.
</section>
<!-- // 구독 취소 토스트 팝업 -->

<!-- 구독 취소 토스트 팝업 -->
<section id="delete-article-toast" class="popup-toast">
    기사 저장이 취소되었습니다.
</section>
<!-- // 구독 취소 토스트 팝업 -->

<!-- 링크 복사 토스트 팝업 -->
<section id="toast-save-link" class="popup-toast">
    링크가 복사되었습니다.
</section>
<!-- // 링크 복사 토스트 팝업 -->
<!-- 메일로 공유하기 팝업 -->
<section id="mail-share-popup" class="popup">
    <!-- header -->
    <div class="header">
        <div class="left">
            <a class="logo" href="javascript:;">
                <span class="blind">한국일보</span>
            </a>
        </div>
        <div class="right">
            <button type="button" class="btn-close" onclick="$(this).closest('.popup').closePopup();">
                <span class="blind">닫기</span>
            </button>
        </div>
    </div>
    <!-- // header -->
    <!-- container sub-section -->
    <div class="container email-share">
        <h2>이메일로 기사 공유하기</h2>
        <article>
            <h3 class="share-tit">보내는 기사</h3>
            <p class="news-tit">“대우, 정치적 판단 오류로”…<br/>
                외환위기 그리고 김우중의 한탄</p>
        </article>
        <article>
            <h3>받으실 분</h3>
            <input id="receiver-input" type="text" class="input-text" name="" placeholder="이메일">
            <p id="receiver-guide-msg" class="notice-gray">여러사람에게 보낼 경우 메일주소는 세미콜론(;)으로 구분해 주세요.<br/>
                (최대 5개)</p>
        </article>
        <article>
            <h3>보내는 분</h3>
            <input id="sender-name-input" type="text" class="input-text" name="" placeholder="이름">
            <p id="sender-name-guide-msg" class="notice-red"></p>
            <input id="sender-email-input" type="text" class="input-text" name="" placeholder="이메일">
            <p id="sender-email-guide-msg" class="notice-red"></p>
            <textarea id="sender-ps-input" class="textarea-text" placeholder="함께 보내는 메세지"></textarea>
        </article>
        <a id="mail-send-btn" href="javascript:submit()" class="btn-full middle disabled"  >메일 전송</a>
    </div>
    <!-- // container sub-section -->
</section>
<section id="mail-share-complete-popup" class="popup-alert">
    <div class="inner">
        <h1 class="title">전송완료</h1>
        <p>기사가 메일로 전송되었습니다.</p>
        <div class="btn-area">
            <button type="button"
                    onClick="$(this).closest('.popup-alert').closePopup(); $('#mail-share-popup').closePopup();">확인
            </button>
        </div>
    </div>
</section>
<script>
    var articleTitle;
    var articleContent;
    var articleUrl;
    var articleSection;
    var receiverList;
    var senderName;
    var senderEmail;
    var senderPs;
    var emailRegex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    var isValidSenderName = false;
    var isValidSenderEmail = false;
    var isValidReceiver = false;

    var receiverGuideMsg = $('#receiver-guide-msg');

    /**
     * 받으실 분 empty 체크
     */
    $('#receiver-input').on('keyup', function (input) {
        if (input.target.value.length === 0) {
            isValidReceiver = false;
        } else {
            isValidReceiver = true;
        }
        checkValidation();
    });

    /**
     * 보내는 분 이름 validation 체크
     */
    $('#sender-name-input').on('keyup', function (input) {
        senderName = input.target.value;
        if (senderName.length === 0) {
            isValidSenderName = false;
            $('#sender-name-guide-msg').html('보내는 분의 이름을 입력해주세요.');
        } else {
            isValidSenderName = true;
            $('#sender-name-guide-msg').html('');
        }
        checkValidation();
    });

    /**
     * 보내는 분 이메일 validation 체크
     */
    $('#sender-email-input').on('keyup', function (input) {
        senderEmail = input.target.value;
        if (!emailRegex.test(senderEmail)) {
            isValidSenderEmail = false;

            $('#sender-email-guide-msg').html('올바른 이메일 형식이 아닙니다.');
        } else {
            isValidSenderEmail = true;
            $('#sender-email-guide-msg').html('')
        }
        checkValidation();
    });

    /**
     * 메일 전송
     */
    function submit() {
        // 받는 사람 이메일 validation check
        receiverList = $('#receiver-input').val().split(';');
        var filteredReceiverList = [];

        // 빈 값이 아닌것만 골라낸다.
        for (var i = 0; i < receiverList.length; i++) {
            if (receiverList[i] !== '') {
                filteredReceiverList.push(receiverList[i]);
            }
        }

        for (var j = 0; j < filteredReceiverList.length; j++) {
            if (filteredReceiverList[j] !== '' && !emailRegex.test(filteredReceiverList[j])) {
                receiverGuideMsg.removeClass('notice-gray blind').addClass('notice-red');
                receiverGuideMsg.text("올바른 이메일 형식이 아닙니다.");
                return;
            }
        }

        if (filteredReceiverList.length > 5) {
            isValidReceiver = false;
            receiverGuideMsg.removeClass('notice-gray blind').addClass('notice-red');
            receiverGuideMsg.text("이메일은 최대 5명까지 보내실 수 있습니다.");
            return;
        }

        // 보내는 분 이메일 체크
        if (!isValidSenderEmail) {
            return;
        }

        // 보내는 분 이름 체크
        if (!isValidSenderEmail) {
            return;
        }

        // 받는 분 체크
        if (!isValidReceiver) {
            return;
        }

        $.ajax({
            url: '/article/share',
            method: 'POST',
            data: JSON.stringify({
                articleId: $('#articleId').val(),
                receiverList: filteredReceiverList,
                articleTitle: $('#articleTitle').val(),
                articleContent: $('#articleContents').val(),
                articleUrl: window.location.href,
                articleSection: $("#articleSection").val(),
                imagePath: $('#articleImageUrl').val(),
                senderName: senderName,
                senderEmail: senderEmail,
                senderPs: $('#sender-ps-input').val(),
                type: 'Email',
                activityType: 'Reaction',
                activityReactionType: 'Share',
            }),
            contentType: 'application/json',
            success: function (response) {
                // console.log('기사 이메일로 공유 성공');
                var flag = response;
                // 기사 공유 성공
                if (flag) {
                    $('#mail-share-complete-popup').openPopup();
                } else {
                    // console.log('기사 공유 실패');
                }
            },
            fail: function () {
                // console.log('기사 이메일로 공유 실패');
            },
            complete: function() {
                $('#receiver-input').val('');
                $('#sender-name-input').val('');
                $('#sender-email-input').val('');
                $('#sender-ps-input').val('');
                isValidReceiver = false;
                isValidSenderName = false;
                isValidSenderEmail = false;
            }
        })

    }

    function checkValidation() {
        if (isValidReceiver && isValidSenderEmail && isValidSenderName) {
            $('#mail-send-btn').removeClass('disabled')
        } else {
            $('#mail-send-btn').addClass('disabled')
        }
    }


</script>
<!-- 메일로 공유하기 팝업 -->
<!-- // end_popup -->


<script src="/js/ui.js"></script>
<script src="/js/split.js"></script>


<script src="/js/hmap/hkAnalTag_hub.min.js"></script>
<script>
    // 인풋 자동 완성 기능 때문에 fake input 생성
    function offAutocomplete() {
        var E = $('input[type="text"][autocomplete="off"]');
        for (var i = 0 ; i < E.length ; i++) {
            fakeInput = '<input type="text" style="position:absolute;left:-9999px;top:-9999px;width:1px;height:1px;" tabindex="-1">';
            $(fakeInput).insertAfter(E[i]);
        }
    }

    try {
        var userAgent = window.navigator.userAgent;
        var isChrome = userAgent.indexOf('Chrome');
        var isChromeMobile = userAgent.indexOf('CriOS');
        if (isChrome || isChromeMobile) {
            offAutocomplete();
        }
    } catch (e) {

    }
</script>


<!-- 뷰저블 스크립트 -->
<script type="text/javascript">
    (function(w, d, a){
        w.__beusablerumclient__ = {
            load : function(src){
                var b = d.createElement("script");
                b.src = src; b.async=true; b.type = "text/javascript";
                d.getElementsByTagName("head")[0].appendChild(b);
            }
        };w.__beusablerumclient__.load(a);
    })(window, document, "//rum.beusable.net/script/b201026e102031u720/213119441d");
</script>


<div id="hkpage_success"></div>

<script src="/js/split/slickExec.js"></script><!-- 카드 슬라이더 .card-slider -->

<!-- endPage -->
<input id="articleId" type="hidden" value="A2022032411350002138"/>
<input id="shoulderType" type="hidden" value="Series"/>
<input id="shoulderId" type="hidden" value="7231"/>
<input id="articleContents" type="hidden" value="
한국일보는 114주년 세계 여성의 날(3월 8일)을 맞아 &#039;페미니즘을 거부하는 당신에게&#039;(관련 기사: https://www.hankookilbo.com/Collect/7231)라는 기획 보도를 했습니다. 성평등에 가장 뒤쳐진 국가이면서도, 여성혐오로 얼룩진 사회에 대한 진단이었습니다. 특히 최근 페미니즘이 사회의 적폐로 통하는 사실에 주목, 페미니즘이 왜"/>
<input id="articleTitle" type="hidden" value="&#034;혐오 메일 보내주신&#034;, 페미니즘을 거부하는 당신에게 답합니다"/>
<input id="articleSection" type="hidden" value="사회"/>
<input id="articleImageUrl" type="hidden" value="https://newsimg-hams.hankookilbo.com/2022/03/24/fd7a627d-c3b1-4483-a8d5-89c3619b42d8_t.jpg"/>
<script src="/js/split/endPage.js?ver=3.0.7"></script>
<script src="/js/split/slickExec.js"></script>
<script src="//developers.kakao.com/sdk/js/kakao.min.js"></script>
<script async defer crossorigin="anonymous"
        src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v6.0&appId=1241983985912870&autoLogAppEvents=1"></script>
<script>Kakao.init('e62df5186f0758def8f14c53e64d7b9d');       // 사용할 앱의 JavaScript 키를 설정</script>

<script>
    // 좋아요 버튼 애니메이션 프레임
    var targetFrames = [];


    /**
     * 부고 기사 조의 버튼 리스너
     */
    if (endBtnObituary) {
        endBtnObituary.$btn.on('click', function (event) {
            onClickObituaryBtn(event);
        });
    }

    /**
     * 기사 좋아요 버튼 리스너
     */
    if (endBtnLike) {
        endBtnLike.$btn.on('click', function (event) {
            if (endBtnDislike.$btn.hasClass('on')) {
                $('#article-sympathy-exist-popup').openPopup();
                return;
            }
            onClickLikeArticleBtn(event);
        });
    }

    /**
     * 싫어요 버튼 클릭 리스너
     */
    if (endBtnDislike) {
        endBtnDislike.$btn.on('click', function (event) {
            if (endBtnLike.$btn.hasClass('on')) {
                $('#article-sympathy-exist-popup').openPopup();
                return;
            }

            onClickDislikeArticleBtn(event);
        });
    }

    init();

    /**
     * 기사 정보 초기화 - 좋아요, 싫어요, 기사 구독, 기사 저장 상태 체크
     */
    function init() {
        getArticleSaveStatus();
        getSympathyCnt();
        getArticleSubscriptionStatus();
        getLikeArticleStatus();
        getDislikeArticleStatus();
        addViewCnt();
    }



    /**
     * 기사 공감 개수 조회
     */
    function getSympathyCnt() {
        $.ajax({
            url: '/article/' + 'A2022032411350002138' + '/sympathy-count',
            method: 'GET',
            success: function(response) {
                // console.log('기사 공감 토탈 개수 조회 -> 성공');
                // console.log(response);
                var totalCnt = response.likeCnt + response.dislikeCnt;
                $('#top-sympathy-cnt').html(totalCnt);
                $('#top-like-cnt').html(response.likeCnt);
                $('#top-dislike-cnt').html(response.dislikeCnt);
                $('#bottom-like-cnt').html(response.likeCnt);
                $('#bottom-dislike-cnt').html(response.dislikeCnt);
                $('#bottom-obituary-cnt').html(response.likeCnt);
            },
            fail: function() {
                // console.log('기사 공감 토탈 개수 조회 -> 실패');
            }
        });
    }

    /**
     * 기사 조회 수 카운팅
     */
    function addViewCnt() {
        if(Cookies.get('accessToken') != null) {
            $.ajax({
                url: '/article/' + 'A2022032411350002138' + '/count',
                method: 'POST',
                success: function(response) {
                },
                fail: function() {
                }
            });
        }
    }

    /**
     * 기사 저장 상태 조회
     */
    function getArticleSaveStatus() {
        if (Cookies.get('accessToken') !== undefined) {
            $.ajax({
                url: '/article/activity/exist?articleId=' + 'A2022032411350002138' + '&activityType=Save',
                method: 'GET',
                success: function (response) {
                    var flag = response;
                    // console.log('기사 저장 상태 조회 -> 성공');
                    // console.log(response);
                    if (flag) {
                        $('.btn-save').addClass('on')
                    } else {
                        $('.btn-save').removeClass('on')
                    }
                },
                fail: function (response) {
                    // console.log('기사 저장 상태 조회 -> 실패;');
                    // console.log(response);
                }
            });
        }
    }

    /**
     * 기사 저장 버튼 클릭
     */
    function onClickSaveArticleBtn() {
        // 로그인 확인
        if (Cookies.get('accessToken') === undefined) {
            $('#sign-in-request-popup').addClass('on');
            $('#comment-dimmed').addClass('on');
            return;
        }

        // 기사 저장 api를 쏜다 -> 중복체크는 controller에서 한다.
        $.ajax({
            url: '/article/activity',
            method: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({
                articleId: 'A2022032411350002138',
                activityType: 'Save'
            }),
            success: function (response) {
                // console.log('기사 저장 -> 성공');
                var flag = response;
                if (flag) {
                    // 기사 저장 css 토글
                    // on이면 추가 popup off면 제거 popup
                    $('.btn-save').toggleClass('on');
                    if ($('.btn-save').hasClass('on')) {
                        $('#save-article-toast').addClass('on');
                        setTimeout(function () {
                            $('#save-article-toast').removeClass('on');
                        }, 2000)
                    } else {
                        $('#delete-article-toast').addClass('on');
                        setTimeout(function () {
                            $('#delete-article-toast').removeClass('on');
                        }, 2000)
                    }
                    // css를 바꾼다
                } else {
                    // console.log('기사 저장 -> 실패')
                }
            },
            fail: function () {
                // console.log('기사 저장 -> 에러')
            },
            complete: function() {
                $('.btn-more').removeClass('on');
            }
        })
    }

    /**
     * 문자로 공유하기
     */
    function onClickShareWithSms() {
        // console.log(window.location.href);
        if (navigator.userAgent.indexOf('Mobile-App') > -1) {
            var data = {
                type: 'SMS_SHARE',
                url: 'https://hankookilbo.com/News/Read/A2022032411350002138?did=sms',
                title: '"혐오 메일 보내주신", 페미니즘을 거부하는 당신에게 답합니다',
            };
            window.ReactNativeWebView.postMessage(JSON.stringify(data));
        } else {
            if (navigator.userAgent.match(/iPhone/i) != null) {
                location.href = "sms:&body=" + 'https://hankookilbo.com/News/Read/A2022032411350002138?did=sms';
                // TODO vm 이전으로 인해 공유하기 주석처리 차 후 아래 주석 풀고 사용해야 됨
                // location.href = "sms:&body=" + window.location.href;
            } else {
                location.href = "sms:?body=" + 'https://hankookilbo.com/News/Read/A2022032411350002138?did=sms';
                // TODO vm 이전으로 인해 공유하기 주석처리 차 후 아래 주석 풀고 사용해야 됨
                // location.href = "sms:?body=" + window.location.href;
            }
        }
        saveShareActivity()
    }

    /**
     * url 복사
     */
    function copyCurrentUrlToClipboard() {
        var dummy = document.createElement('input'),
            text = "https://m.hankookilbo.com" + location.pathname + location.search;
            // TODO vm 이전으로 인해 공유하기 주석처리 차 후 아래 주석 풀고 사용해야 됨
            // text = location.protocol +"//" + (location.host.indexOf('.')>-1? location.host.split('.').slice(1).join('.') : location.host) + location.pathname + location.search;

        setTimeout(
            () => {
                document.body.appendChild(dummy);
                dummy.value = text;
                dummy.select();
                document.execCommand('copy');
                document.body.removeChild(dummy);
                $('#toast-save-link').openPopup();
                $('#pop-share').closePopup();
            }
        );
        saveShareActivity();
    }

    /**
     * 카카오로 공유하기
     */
    function shareKakaotalk() {
        if (navigator.userAgent.indexOf('Mobile-App') > -1) {
            var data = {
                type: 'KAKAO_SHARE',
                url: 'https://hankookilbo.com/News/Read/A2022032411350002138?did=kk',
                title: $('#articleTitle').val(),
                imageUrl: 'https://newsimg-hams.hankookilbo.com/2022/03/24/fd7a627d-c3b1-4483-a8d5-89c3619b42d8.jpg'
            };
            window.ReactNativeWebView.postMessage(JSON.stringify(data));
        } else {
            Kakao.Link.sendDefault({
                objectType: "feed"
                , content: {
                    title: $('#articleTitle').val(),
                    description: $('#articleContents').val(),
                    imageUrl: 'https://newsimg-hams.hankookilbo.com/2022/03/24/fd7a627d-c3b1-4483-a8d5-89c3619b42d8.jpg',   // 썸네일 이미지
                    link: {
                        mobileWebUrl: 'https://hankookilbo.com/News/Read/A2022032411350002138?did=kk',   // 모바일 카카오톡에서 사용하는 웹 링크 URL
                        webUrl: 'https://hankookilbo.com/News/Read/A2022032411350002138?did=kk' // PC버전 카카오톡에서 사용하는 웹 링크 URL
                    }
                }
            });
        }
    }

    /**
     * 이메일로 공유하기
     */
    function onClickShareWithEmail() {
        $('#pop-share').closePopup();
        $('#mail-share-popup').openPopup();
        articleTitle = '메일 공유하기 테스트 제목';
        articleContent = '메일 공유하기 내용';
        articleUrl = "https://m.hankookilbo.com" + location.pathname + location.search;
        // TODO vm 이전으로 인해 공유하기 주석처리 차 후 아래 주석 풀고 사용해야 됨
        // articleUrl = location.protocol +"//" + (location.host.indexOf('.')>-1? location.host.split('.').slice(1).join('.') : location.host) + location.pathname + location.search;
        articleSection = '정치';
    }


    /**
     * 페이스북 공유 클릭
     */
    function onClickShareFB() {
        if (navigator.userAgent.indexOf('Mobile-App') > -1) {
            var data = {
                type: 'FACEBOOK_SHARE',
                url: 'https://hankookilbo.com/News/Read/A2022032411350002138?did=fa',
                title: $('#articleTitle').val(),
                imageUrl: 'https://newsimg-hams.hankookilbo.com/2022/03/24/fd7a627d-c3b1-4483-a8d5-89c3619b42d8.jpg'
            };
            window.ReactNativeWebView.postMessage(JSON.stringify(data));
        } else {
            var token;
            FB.login(function (response) {
                // console.log("페이스북 로그인");
                token = response.authResponse.accessToken;

                FB.api('/','POST', {"id":'https://m.hankookilbo.com' + '/News/Read/A2022032411350002138?did=fa', "scrape": "true", "access_token": token}, function(res) {
                    window.open('https://www.facebook.com/sharer/sharer.php?u=https://hankookilbo.com/News/Read/A2022032411350002138?did=fa','facebook-share-dialog','width=800,height=600');
                });
            });

        }
        saveShareActivity();

    }

    /**
     * 트위터 공유 클릭
     */
    function onClickShareTwitter() {
        if (navigator.userAgent.indexOf('Mobile-App') > -1) {
            var data = {
                type: 'TWITTER_SHARE',
                url: 'https://hankookilbo.com/News/Read/A2022032411350002138?did=tw',
                title: '"혐오 메일 보내주신", 페미니즘을 거부하는 당신에게 답합니다'
            };
            window.ReactNativeWebView.postMessage(JSON.stringify(data));
        } else {
            window.open('https://twitter.com/share?text="혐오 메일 보내주신", 페미니즘을 거부하는 당신에게 답합니다&url=https://hankookilbo.com/News/Read/A2022032411350002138?did=tw' , 'twitter-popup', 'height=350,width=600');
        }

        saveShareActivity();
    }

    /**
     * 공유한 기록 저장
     */
    function saveShareActivity() {
        if (Cookies.get('accessToken') != null) {
            $.ajax({
                url: '/article/share',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({
                    type: 'Sns',
                    articleId: 'A2022032411350002138',
                    activityType: 'Reaction',
                    activityReactionType: 'Share'
                }),
                success: function(response) {
                    // console.log('share save success')
                },
                fail: function () {
                    // console.log('share save fail')
                }
            })
        }
    }

    /**
     * 기사 구독 버튼 클릭
     */
    function onClickSubscribeArticleBtn(location) {
        // 색이 바뀌기 때문에 원래 색으로 다시 바꿔준다.
        var prevStatus = $('input:checkbox[id="editor-subscribe"]').is(":checked");
        if (location === 'bottom') {
            prevStatus = !prevStatus;
        }
        $('#editor-subscribe').prop('checked',prevStatus);

        // 로그인 확인
        if (Cookies.get('accessToken') === undefined) {
            $('#sign-in-request-popup').addClass('on');
            $('#comment-dimmed').addClass('on');
            return;
        }

        // 구독이 되어 있으면
        if (prevStatus) {
            $('#delete-subscription-popup').openPopup();
        } else {
            subscribeArticle();
        }
    }

    /**
     * 기사 구독
     */
    function subscribeArticle() {
        var prevStatus = $('input:checkbox[id="editor-subscribe"]').is(":checked");
        // 기사 구독 api를 쏜다 -> 중복체크는 controller에서 한다.
        $.ajax({
            url: '/article/activity',
            contentType: 'application/json',
            method: 'POST',
            data: JSON.stringify({
                activityType: 'Subscription',
                activitySubscriptionType: 'Series',
                activitySubscriptionId: '7231'
            }),
            success: function (response) {
                // console.log('기사 구독 -> 성공');
                var flag = response;
                if (flag) {
                    // css를 바꾼다
                    $('#editor-subscribe').prop('checked',!prevStatus);

                    // 구독이 안돼 있었으면
                    if (!prevStatus) {
                        $('#subscribe-toast').show();
                        setTimeout(function() {
                            $('#subscribe-toast').hide();
                        }, 2000);
                    } else {
                        $('#unsubscribe-toast').show();
                        setTimeout(function() {
                            $('#unsubscribe-toast').hide();
                        }, 2000);
                    }
                } else {
                    // console.log('기사 구독 -> 실패')
                }
            },
            fail: function () {
                // console.log('기사 구독 -> 에러')
            },
            complete: function() {
                $('.btn-more').removeClass('on');
            }
        })
    }

    /**
     * 기사 구독 상태 조회
     */
    function getArticleSubscriptionStatus() {
        if (Cookies.get('accessToken') !== undefined) {
            $.ajax({
                url: '/article/activity/exist?activityType=Subscription&activitySubscriptionType=Series&activitySubscriptionId=7231',
                method: 'GET',
                success: function (response) {
                    var flag = response;
                    // console.log('기사 구독 상태 조회 -> 성공');
                    // console.log(response);
                    if (flag) {
                        $('#editor-subscribe').prop('checked', true);
                    } else {
                        $('#editor-subscribe').prop('checked', false);
                    }
                },
                fail: function (response) {
                    // console.log('기사 저장 상태 조회 -> 실패');
                    // console.log(response);
                }
            });
        }
    }


    /**
     * 기사 좋아요 상태 조회
     */
    function getLikeArticleStatus() {
        // if (getCookie('accessToken') !== undefined) {
        $.ajax({
            url: '/article/activity/exist?articleId=' + 'A2022032411350002138'
                + '&activityType=Reaction&activityReactionType=Sympathy&activityReactionSympathyType=Like',
            method: 'GET',
            success: function (response) {
                var flag = response;
                // console.log('기사 좋아요 상태 조회 -> 성공');
                // console.log(response);
                if (flag) {
                    if (endBtnLike) {
                        targetFrames = [endBtnLike.startA, endBtnLike.endA];
                        endBtnLike.anim.playSegments([targetFrames], true);
                        endBtnLike.$btn.addClass('on');
                    }
                    if (endBtnObituary) {
                        targetFrames = [endBtnObituary.startA, endBtnObituary.endA];
                        endBtnObituary.anim.playSegments([targetFrames], true);
                        endBtnObituary.$btn.addClass('on')
                    }
                } else {
                    // $('.btn-subsc').removeClass('on');
                }
            },
            fail: function (response) {
                // console.log('기사 저장 상태 조회 -> 실패');
                // console.log(response);
            }
        });
        // }
    }

    /**
     * 기사 싫어요 상태 조회
     */
    function getDislikeArticleStatus() {
        // if (getCookie('accessToken') !== undefined) {
        $.ajax({
            url: '/article/activity/exist?articleId=' + 'A2022032411350002138'
                + '&activityType=Reaction&activityReactionType=Sympathy&activityReactionSympathyType=Dislike',
            method: 'GET',
            success: function (response) {
                var flag = response;
                // console.log('기사 싫어요 상태 조회 -> 성공');
                // console.log(response);
                if (flag) {
                    if (endBtnDislike) {
                        targetFrames = [endBtnDislike.startA, endBtnDislike.endA];
                        endBtnDislike.anim.playSegments([targetFrames], true);
                        endBtnDislike.$btn.addClass('on')
                    }
                } else {
                }
            },
            fail: function (response) {
                // console.log('기사 저장 상태 조회 -> 실패');
                // console.log(response);
            }
        });
        // }
    }

    /**
     * 기사 부고 버튼 클릭
     */
    function onClickObituaryBtn(event) {
        event.stopImmediatePropagation();
        // 기사 좋아요 api를 쏜다 -> 중복체크는 controller에서 한다.
        $.ajax({
                url: '/article/activity',
                contentType: 'application/json',
                method: 'POST',
                data: JSON.stringify({
                    articleId: $('#articleId').val(),
                    activityType: 'Reaction',
                    activityReactionType: 'Sympathy',
                    activityReactionSympathyType: 'Like'
                }),
                success: function (response) {
                    var flag = response;
                    // console.log(flag);
                    if (flag) {
                        // console.log('기사 부고 -> 성공');
                        var totalCount = parseInt($('#sympathyCntSpan').html());
                        endBtnObituary.$btn.toggleClass('on');
                        // css를 바꾼다
                        if (endBtnObituary.$btn.hasClass('on')) {
                            targetFrames = [endBtnObituary.startA, endBtnObituary.endA];
                            endBtnObituary.anim.playSegments([targetFrames], true);
                            var count = parseInt($('#bottom-obituary-cnt').html());
                            // console.log(count);
                            $('#bottom-obituary-cnt').html(count + 1);
                            $('#sympathyCntSpan').html(totalCount + 1);
                        } else {
                            targetFrames = [endBtnObituary.startB, endBtnObituary.endB];
                            endBtnObituary.anim.playSegments([targetFrames], true);
                            var count = parseInt($('#bottom-obituary-cnt').html());
                            $('#bottom-obituary-cnt').html(count - 1);
                            $('#sympathyCntSpan').html(totalCount - 1);
                        }

                    } else {
                        // console.log('기사 부고 -> 실패')
                    }
                },
                fail: function () {
                    // console.log('기사 좋아요 -> 에러')
                }
            }
        )
    }

    /**
     * 기사 좋아요 버튼 클릭
     */
    function onClickLikeArticleBtn(event) {
        event.stopImmediatePropagation();
        // 기사 좋아요 api를 쏜다 -> 중복체크는 controller에서 한다.
        $.ajax({
                url: '/article/activity',
                contentType: 'application/json',
                method: 'POST',
                data: JSON.stringify({
                    articleId: 'A2022032411350002138',
                    activityType: 'Reaction',
                    activityReactionType: 'Sympathy',
                    activityReactionSympathyType: 'Like'
                }),
                success: function (response) {
                    var flag = response;
                    // console.log(flag);
                    if (flag) {
                        // console.log('기사 좋아요 -> 성공');
                        var totalCount = parseInt($('#top-sympathy-cnt').html());
                        endBtnLike.$btn.toggleClass('on');
                        // css를 바꾼다
                        if (endBtnLike.$btn.hasClass('on')) {
                            targetFrames = [endBtnLike.startA, endBtnLike.endA];
                            endBtnLike.anim.playSegments([targetFrames], true);
                            var count = parseInt($('#bottom-like-cnt').html());
                            // console.log(count);
                            $('#top-like-cnt').html(count + 1);
                            $('#bottom-like-cnt').html(count + 1);
                            $('#top-sympathy-cnt').html(totalCount + 1);
                        } else {
                            targetFrames = [endBtnLike.startB, endBtnLike.endB];
                            endBtnLike.anim.playSegments([targetFrames], true);
                            var count = parseInt($('#bottom-like-cnt').html());
                            // console.log(count);
                            $('#top-like-cnt').html(count - 1);
                            $('#bottom-like-cnt').html(count - 1);
                            $('#top-sympathy-cnt').html(totalCount - 1);
                        }

                    } else {
                        // console.log('기사 좋아요 -> 실패')
                    }
                },
                fail: function () {
                    // console.log('기사 좋아요 -> 에러')
                }
            }
        )
    }

    /**
     * 기사 싫어요 버튼 클릭
     */
    function onClickDislikeArticleBtn(event) {
        event.stopImmediatePropagation();
        // 기사 싫어요 api를 쏜다 -> 중복체크는 controller에서 한다.
        $.ajax({
            url: '/article/activity',
            contentType: 'application/json',
            method: 'POST',
            data: JSON.stringify({
                articleId: 'A2022032411350002138',
                activityType: 'Reaction',
                activityReactionType: 'Sympathy',
                activityReactionSympathyType: 'Dislike'
            }),
            success: function (response) {
                var flag = response;
                // console.log(flag);
                var totalCount = parseInt($('#top-sympathy-cnt').html());
                endBtnDislike.$btn.toggleClass('on');
                if (flag) {
                    // console.log('기사 싫어요 -> 성공');
                    // css를 바꾼다
                    if (endBtnDislike.$btn.hasClass('on')) {
                        targetFrames = [endBtnDislike.startA, endBtnDislike.endA];
                        endBtnDislike.anim.playSegments([targetFrames], true);
                        var count = parseInt($('#bottom-dislike-cnt').html());
                        $('#bottom-dislike-cnt').html(count + 1);
                        $('#dislikeCntLi').html(count + 1);
                        $('#top-sympathy-cnt').html(totalCount + 1);
                    } else {
                        targetFrames = [endBtnDislike.startB, endBtnDislike.endB];
                        endBtnDislike.anim.playSegments([targetFrames], true);
                        var count = parseInt($('#bottom-dislike-cnt').html());
                        $('#bottom-dislike-cnt').html(count - 1);
                        $('#dislikeCntLi').html(count - 1);
                        $('#top-sympathy-cnt').html(totalCount - 1);
                    }
                } else {
                    // console.log('기사 싫어요 -> 실패')
                }
            },
            fail: function () {
                // console.log('기사 싫어요 -> 에러')
            }
        })
    }

    /**
     * 이전 기사 설정
     */
    if (Cookies.get('curr_article')) {
        Cookies.set('prev_article', Cookies.get('curr_article'), { path: '/' });
    }
    Cookies.set('curr_article', 'A2022032411350002138', { path: '/' });

    if (Cookies.get('prev_article') !== undefined && Cookies.get('prev_article') !== Cookies.get('curr_article')) {
        $('#top-right-back-btn').removeClass('blind');
        $('#top-right-back-btn').attr("href", "/News/Read/" + Cookies.get('prev_article'));
    } else {
        $('#top-right-back-btn').addClass('blind');
    }

    /**
     * 관심 있을 만한 뉴스
     */
    Cookies.set('read_article', $('#articleId').val(), {path: '/'});

    /**
     * 닫기 버튼 눌렀을 때
     */
    $('#top-right-close-btn').on('click', function() {
        removeLastReadArticle();
        Cookies.remove('prev_article');
        Cookies.remove('curr_article');
        // console.log(Cookies.get('closeUrl'));
        if (Cookies.get('closeUrl') === undefined) {
            location.replace('/');
        } else {
            location.replace(Cookies.get('closeUrl'))
        }
    });
</script>
<!-- // endPage -->
</body>
</html>
