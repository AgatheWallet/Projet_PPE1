<!DOCTYPE html>
<html lang="ko-KR">
<head>
    <!-- meta -->
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=0">
<meta name="format-detection" content="telephone=no">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta name="referrer" content="unsafe-url">

<link rel="icon" href="/images/favicon.ico" type="image/x-icon">
<!-- // meta -->

    <!-- seo -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53476308-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-53476308-1');
</script>



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPZ8BHZPSJ"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-ZPZ8BHZPSJ');
</script>






<!-- (최종) 통합한국일보닷컴 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HR08PM6YWZ"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-HR08PM6YWZ');
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53476308-12"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-53476308-12');
</script>


<!-- (최종) pc 한국일보닷컴 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53476308-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-53476308-2');
</script>






<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-59599H7');</script>
<!-- End Google Tag Manager -->


<script>


</script>

<meta name="title" content="&#034;여자친구가 페미입니다. 헤어져야 할까요&#034;">
        <meta name="keywords" content="페미니즘,젠더폭력,젠더고정관념,여성혐오,젠더,남성혐오">
        <meta name="description" content="▶ 뉴스레터 구독하기 https://www.hankookilbo.com/NewsLetter/herspective Q. 안녕하세요, 20대 취업 준비생입니다. 3개월 전 지금의 여자친구를 소개팅으로 만나 알콩달콩 즐겁게 연애를 하고 있는데요.  최근 들어 여자친구가 &#039;페미&#039;가 아닌가 하는 의심이 자꾸 듭니다. 휴대폰으로 페미니즘 관련 기사나 콘텐츠를 읽는 모 - 페미니즘,젠더폭력,젠더고정관념,여성혐오,젠더,남성혐오">

        <meta property="og:url" content="https://www.hankookilbo.com/News/Read/A2022110213150005119?t=20221231022344">
        <meta property="og:site_name" content="한국일보">
        <meta property="og:locale" content="ko_KR">
        <meta property="og:type" content="article" >
        <meta property="og:title" content="&#034;여자친구가 페미입니다. 헤어져야 할까요&#034;" >
        <meta property="og:description" content="▶ 뉴스레터 구독하기 https://www.hankookilbo.com/NewsLetter/herspective Q. 안녕하세요, 20대 취업 준비생입니다. 3개월 전 지금의 여자친구를 소개팅으로 만나 알콩달콩 즐겁게 연애를 하고 있는데요.  최근 들어 여자친구가 &#039;페미&#039;가 아닌가 하는 의심이 자꾸 듭니다. 휴대폰으로 페미니즘 관련 기사나 콘텐츠를 읽는 모" >
        <meta property="og:image" content="https://newsimg.hankookilbo.com/cms/articlerelease/2022/12/01/53eb813a-4bfa-4910-a672-55924b8d44e0.jpg?t=20221231022344" >
        <meta property="og:image:width" content="1200">
        <meta property="og:image:height" content="630">

        <meta property="article:author" content="https://www.facebook.com/hkilbo">
        <meta property="article:publisher" content="https://www.facebook.com/hkilbo">

        <meta name="twitter:site" content="@hankookilbo" >
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:url" content="https://www.hankookilbo.com/News/Read/A2022110213150005119?t=20221231022344">
        <meta name="twitter:title" content="&#034;여자친구가 페미입니다. 헤어져야 할까요&#034;" >
        <meta name="twitter:description" content="▶ 뉴스레터 구독하기 https://www.hankookilbo.com/NewsLetter/herspective Q. 안녕하세요, 20대 취업 준비생입니다. 3개월 전 지금의 여자친구를 소개팅으로 만나 알콩달콩 즐겁게 연애를 하고 있는데요.  최근 들어 여자친구가 &#039;페미&#039;가 아닌가 하는 의심이 자꾸 듭니다. 휴대폰으로 페미니즘 관련 기사나 콘텐츠를 읽는 모" >
        <meta name="twitter:image" content="https://newsimg.hankookilbo.com/cms/articlerelease/2022/12/01/53eb813a-4bfa-4910-a672-55924b8d44e0.jpg?t=20221231022344" >
        <meta name="twitter:creator" content="@hankookilbo" >

        <meta property="article:published_time" content="2022-12-06T20:00:00.000+0900">
        <meta property="article:section" content="사회">
            <meta property="article:section2" content="사회일반">
        <meta property="article:section3" content="젠더무물">
        <meta property="dable:item_id" content="A2022110213150005119">
            <meta property="dable:author" content="이혜미 허스펙티브랩장 herstory@hankookilbo.com">
            <meta property="dable:title" content="&#034;여자친구가 페미입니다. 헤어져야 할까요&#034;">
            <meta property="dable:image" content="https://newsimg.hankookilbo.com/cms/thumbnail/articlerelease/2022/11/02/A2022110213150005119.jpg?t=20221231022344">
        <meta property="fb:pages" content="157370204315766" >
<meta name="robots" content="max-image-preview:large">

<title>&#034;여자친구가 페미입니다. 헤어져야 할까요&#034;</title>
<!-- // seo -->

    <!-- header-script -->
    <link rel="stylesheet" href="/css/lib/ion.rangeSlider.min.css">
<link rel="stylesheet" href="/css/lib/datepicker.min.css">
<link rel="stylesheet" href="/css/lib/jquery.mCustomScrollbar.min.css">
<link rel="stylesheet" href="/css/style_web.css?v=3271a5bad947a67ab0ea42a0ecb01999">


<script src="/js/lib/jquery-1.12.4.min.js"></script>
<!-- [if lt IE 9]>
<script src="/js/lib/selectivizr.min.js"></script>
<![endif]-->
<script src="/js/lib/modernizr-custom.js"></script>
<script src="/js/lib/detectizr.min.js"></script>
<script src="/js/lib/jquery.cookie.min.js"></script>
<script src="/js/vendor.js"></script>
<script src="/js/split/popup.js"></script>
<script src="/js/split/icheck.js"></script>
<script src="/js/split/customScroll.js"></script>

<script src="/js/article-notice.js"></script>
<script src="/js/common.js?v=815b25c9c945595e9928781a3c4693a5"></script>
<script src="/js/lib/hangul.min.js" type="text/javascript"></script>

<link rel="stylesheet" href="https://uicdn.toast.com/tui.chart/latest/tui-chart.min.css">
<script src="https://uicdn.toast.com/tui.chart/latest/tui-chart-all.min.js"></script>
<script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=xuh6ou62fp"></script>
<script>
    // 기본 이미지
    (function(){
        var NOTFOUNDSRC = '/images/Default-Image.png';
        document.addEventListener('error', function(e){
            // image 404
            if(e.target.nodeName.toLowerCase() == 'img' && e.target.getAttribute('src') != NOTFOUNDSRC){
                e.target.src = NOTFOUNDSRC;
            }
        }, true);
    })();

    // 기사 닫기 클릭 시 돌아갈 url 정의
    if ('' != 'MAIN') {
        
        Cookies.set('closeUrl', '/', { path: '/' });
        
    }

    // CDN 제외 설정
    $.ajaxSetup({
        beforeSend : function(xhr){
            xhr.setRequestHeader("Cache-Control", "no-cache");
        }
    });


    // 체류시간
    // document.cookie = 'uv_stay_id' + "=" + generateUuid() + "; path=/";
    var stayId = generateUuid();

    // 방문자
    if (!Cookies.get('uv_user_id')) {
        var date = new Date();

        date.setFullYear(date.getFullYear() + 1);

        var expireDate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);
        var expires = "; expires=" + expireDate.toUTCString();

        document.cookie = 'uv_user_id' + "=" + generateUuid() + expires + "; path=/";

    }

    // 세션
    if (!Cookies.get('uv_session_id')) {
        var date = new Date();

        date.setTime(date.getTime() + (30 * 1000 * 60));
        var expires = "; expires=" + date.toUTCString();

        document.cookie = 'uv_session_id' + "=" + generateUuid() + "; path=/";

    }

    // 로그인 flag
    loggedIn = Cookies.get('accessToken');

</script>

<script src="https://www.gstatic.com/firebasejs/7.13.2/firebase.js"></script>
<script>

    var isPcChrome = (-1 !== navigator.userAgent.indexOf('Chrome'));
    if (isPcChrome) {
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyCj96NqzMc42ZMLCv4GqbnKErMsqalgUng",
            authDomain: "hankookilbo-25efe.firebaseapp.com",
            databaseURL: "https://hankookilbo-25efe.firebaseio.com",
            projectId: "hankookilbo-25efe",
            storageBucket: "hankookilbo-25efe.appspot.com",
            messagingSenderId: "115606840922",
            appId: "1:115606840922:web:93245197d8f8586d46da63",
            measurementId: "G-2RZDGBVQK4"
        };
        firebase.initializeApp(config);

        var messaging = firebase.messaging();

        //token값 알아내기
        messaging.requestPermission()
            .then(function () {
                // console.log("Have permission");
                return messaging.getToken();
            })
            .then(function (token) {
                Cookies.set('FCM-TOKEN', token, {path: '/'});
                var cft = Cookies.get('FCM-TOKEN');
                // if(!Boolean(cft)){
                // Cookies.set('fid', guid(), {path: '/'});
                var appuserPushId = Cookies.get('appuserPushId')
                fcmLoading(appuserPushId, cft);
                // console.log("###################### : " + token);
                // }

            })
            .catch(function (arr) {
                console.log("Error Occured");
            });

        messaging.onMessage(function(payload) {
            console.log('Message received. ', payload);
            generateFcmToast(payload);
            // ...
        });

        function fcmLoading(appuserPushId, token) {
            if (Boolean(appuserPushId)) {
                data = {
                    'appuserPushId': appuserPushId
                    , 'appuserPushKey': token
                };
            } else {
                data = {
                    'appuserPushId': appuserPushId
                    , 'appuserPushKey': token
                    , 'appuserPushAgreeyn': 'Y'
                    , 'appuserAlarmSokbo': 'Y'
                    , 'appuserAlarmSubscribe': 'Y'
                    , 'appuserAlarmReply': 'Y'
                    , 'appuserAlarmMarketing': 'Y'
                    , 'appuserAlarmEtiquetteTime': 'Y'
                };
            }
            $.ajax({
                url: '/main-fcm-loading',
                method: 'GET',
                dataType: 'json',
                contentType: 'application/json',
                data: data,
                success: function (response) {
                    if (response.code === '0000') {
                        Cookies.set('appuserPushId', response.data.view.appuserPushId, {path: '/'});
                    }
                },
                fail: function (response) {
                }
            });
        }
    }
</script>



<!-- // header-script -->
    <!-- FCM script -->
    <div class="toast-container imp-toast">

    <!-- 로그인/회원가입 -->
    <div class="toast-item login-box-tst">
        <div class="toast-inner">
            <h4 class="tit">
                <p>읽는 재미의 발견</p>
                <p>새로워진 한국일보<a href="javascript:openSignInPopUp();" class="more-txt">로그인/회원가입</a></p>
            </h4>
            <ul class="desc">
                <li>관심과 취향에 맞게 내맘대로 메인 뉴스 설정</li>
                <li>구독한 콘텐츠는 마이페이지에서 한번에 모아보기</li>
                <li>속보, 단독은 물론 관심기사와 활동내역까지 알림</li>
            </ul>
            <a href="/Intro/Intro2022" class="join-button">자세히보기</a>
            <a href="javascript:void(0);" class="close a11y" onclick="fnOneDayNotView()">닫기</a>
        </div>
    </div>
</div>

<script type="text/javascript">
    var $loginBox = $('.toast-container .toast-item.login-box-tst');
    var $PUSH_TYPE = {
      SOKBO : {
        class: "sokbo-mark",
        name: "속보"
      },
      EXCLUSIVE : {
        class: "exclusive-mark",
        name: "단독"
      },
      SUBSCRIBE : {
        class: "subscribe-mark",
        name: "구독"
      },
      REACTION : {
        class: "reaction-mark",
        name: "추천"
      },
      COMMON : {
        class: "common-mark",
        name: "주요"
      },
      NOTICE : {
        class: "notice-mark",
        name: "공지"
      },
      EVENT : {
        class: "event-mark",
        name: "알림"
      },
      REPLY : {
        class: "reply-mark",
        name: ""
      }
    };

    generateSokboToast = function(redisJson) {
        var readArticles = decodeURIComponent(this.getFCMCookie('hk_sokbo_article_viewend'));
        var denialAlarmType = decodeURIComponent(this.getFCMCookie('hk_denial_alarm_type'));
        for (var i = 0; i < redisJson.articles.length; i++){
            var expire_time = moment(redisJson.articles[i].expire_time, 'YYYY-MM-DD hh:mm:ss').format('YYYY-MM-DD hh:mm:ss');
            var now = moment().format('YYYY-MM-DD hh:mm:ss');
            var isNowDeploy = moment(expire_time).isAfter(now);

            if(!isNowDeploy){
                return false;
            }
            if(readArticles.includes(redisJson.articles[i].article_id) || denialAlarmType.includes(redisJson.articles[i].article_type)){
                break;
            }
            var html = '';

            html += '<div class="toast-item" data-push-id="'+ redisJson.articles[i].apppush_Id +'">';
            html += '    <div class="toast-inner-wrapper">';
            html += '        <div class="title">';

            if(Object.keys($PUSH_TYPE).indexOf(redisJson.articles[i].article_type) > -1){
                html += '            <span class="badge '+ $PUSH_TYPE[redisJson.articles[i].article_type].class +'">'+ $PUSH_TYPE[redisJson.articles[i].article_type].name +'</span>';
            }
            if(redisJson.articles[i].article_title.trim() !== "한국일보"){
                html += '           <h4 class="title-text"><a href="/webpool-click/?i='+redisJson.articles[i].apppush_Id+'&c='+redisJson.articles[i].article_id+'">' + redisJson.articles[i].article_title + '</a></h4>';
            }

            html += '        </div>'
            html += '        <div class="contents">';

            if(Object.keys($PUSH_TYPE).indexOf(redisJson.articles[i].article_type) > -1){
                html += '            <a href="/webpool-click/?i='+redisJson.articles[i].apppush_Id+'&c='+redisJson.articles[i].article_id+'"><p>' + redisJson.articles[i].article_contents.replace(new RegExp("\\["+ $PUSH_TYPE[redisJson.articles[i].article_type].name +"\\]" , "g"), "") + '</p></a>';
            } else {
                html += '            <a href="/webpool-click/?i='+redisJson.articles[i].apppush_Id+'&c='+redisJson.articles[i].article_id+'"><p>' + redisJson.articles[i].article_contents + '</p></a>';
            }

            if(redisJson.articles[i].article_image !== '' || redisJson.articles[i].article_image !== null){
                html += '           <div class="img-box">';
                html += '               <img src="' + redisJson.articles[i].article_image + '" alt="">';
                html += '           </div>';
            }

            html += '        </div>';
            html += '    </div>';
            html += '    <div class="actions">';
            html += '        <button type="button" class="btn-alarm" data-denial="' + redisJson.articles[i].article_type +'">알림설정</button>';
            html += '        <button type="button" class="btn-close">알림 닫기</button>';
            html += '    </div>';
            html += '</div>';
            $loginBox.before(html);
            autoRemoveToast(redisJson.articles[i].apppush_Id);

            // 만료시간체크 : 존재하면 내용 분석하여 만료시간이 현재시간이내이면 노출
            // 쿠키노출체크 : 노출할경우 쿠키에 해당 기사 노출확인후 최종 노출
            // 노출한 경우 해당기사키 쿠키에 저장
            // 쿠키명 : hk_sokbo_article_viewend
            var fcmArticleId = getFCMCookie('hk_sokbo_article_viewend');
            var cookieData = Boolean(fcmArticleId) ? decodeURIComponent(fcmArticleId) + ',' + redisJson.articles[i].article_id : redisJson.articles[i].article_id;
            this.setFCMCookie('hk_sokbo_article_viewend', cookieData, 1);
            // 쿠키내용 : 기사키,기사키,기사키
            // 쿠키만료시간 : 1일
            // 쿠키 등록
        }
        $(".toast-container .toast-item:not(.login-box-tst)").addClass("show");

    }

    generateFcmToast = function(rst) {
        var html = '';
        var readArticles = decodeURIComponent(this.getFCMCookie('hk_sokbo_article_viewend'));
        var denialAlarmType = decodeURIComponent(this.getFCMCookie('hk_denial_alarm_type'));
        if(denialAlarmType.includes(denialAlarmType.includes(rst.data.apppush_type))){
            return false;
        }
        if(readArticles.includes(denialAlarmType.includes(rst.data.apppush_type))){
            return false;
        }
        var appuserPushId = Cookies.get('appuserPushId');

        html += '<div class="toast-item" data-push-id="'+ rst.fcmMessageId +'">';
        html += '    <div class="toast-inner-wrapper">';
        html += '        <div class="title">';

        if(Object.keys($PUSH_TYPE).indexOf(rst.data.apppush_type) > -1){
            html += '            <span class="badge '+ $PUSH_TYPE[rst.data.apppush_type].class +'">'+ $PUSH_TYPE[rst.data.apppush_type].name +'</span>';
        }
        if(rst.notification.title.trim() !== "한국일보"){
            html += '            <h4 class="title-text"><a href="'+ rst.data.uri + '&a=' + appuserPushId +'">' + rst.notification.title + '</a></h4>';
        }

        html += '        </div>';
        html += '        <div class="contents">';

        if(Object.keys($PUSH_TYPE).indexOf(rst.data.apppush_type) > -1){
            html += '            <a href="'+ rst.data.uri + '&a=' + appuserPushId +'"><p>' + rst.notification.body.replace(new RegExp("\\["+ $PUSH_TYPE[rst.data.apppush_type].name +"\\]" , "g"), "") + '</p></a>';
        } else {
            html += '            <a href="'+ rst.data.uri + '&a=' + appuserPushId +'"><p>' + rst.notification.body + '</p></a>';
        }

        if(rst.notification.image !== '' || rst.notification.image !== null){
            html += '            <div class="img-box">';
            html += '                <img src="' + rst.notification.image + '" alt="">';
            html += '            </div>';
        }
        html += '        </div>';
        html += '    </div>';
        html += '    <div class="actions">';
        html += '        <button type="button" class="btn-alarm" data-denial="' + rst.data.apppush_type +'">알림설정</button>';
        html += '        <button type="button" class="btn-close">알림 닫기</button>';
        html += '    </div>';
        html += '</div>';
        $loginBox.before(html);
        autoRemoveToast(rst.fcmMessageId);
        // 만료시간체크 : 존재하면 내용 분석하여 만료시간이 현재시간이내이면 노출
        // 쿠키노출체크 : 노출할경우 쿠키에 해당 기사 노출확인후 최종 노출
        // 노출한 경우 해당기사키 쿠키에 저장
        // 쿠키명 : hk_sokbo_article_viewend
        // let fcmArticleId = getFCMCookie('hk_sokbo_article_viewend');
        // let cookieData = Boolean(fcmArticleId) ? decodeURIComponent(fcmArticleId) + ',' + redisJson.articles[i].article_id : redisJson.articles[i].article_id;
        // this.setFCMCookie('hk_sokbo_article_viewend', cookieData, 1);
        // 쿠키내용 : 기사키,기사키,기사키
        // 쿠키만료시간 : 1일
        // 쿠키 등록
        $(".toast-container .toast-item:not(.login-box-tst)").addClass("show");
    }


    /* top notice EVT */
    function closeNotice() {
        $("#topNotiArea .close").on('click', function () {
            $("#topNotiArea .close").css("display", "none");
            $("#topNotiArea").slideUp(500);
        });
    }

    function showAlarm() {
        var redisJson = [];

        $.ajax({
            url: "https://api.hankookilbo.com/api/readredis",
            method: "POST",
            data: {'key' : 'whk_sokbo_article'},
            success: function (response) {
                if(response.code === '0000'){
                    if(response.data !== 'notfound'){
                        redisJson = JSON.parse(response.data);
                        generateSokboToast(redisJson);
                    }
                }
            },
            fail: function (err) {
            }
        });
    }
    // hk_denial_alarm_type
    function setDenialAlarmType(denialType){
        this.setFCMCookie('hk_denial_alarm_type', denialType, 1);
    }

    function getFCMCookie(key){
        key = new RegExp(key + '=([^;]*)');
        return key.test(document.cookie) ? unescape(RegExp.$1) : ''; // 인자로 받은 키에 해당하는 키가 있으면 값을 반환
    }

    function setFCMCookie(key, value, expiredays) {
        var todayDate = new Date();
        todayDate.setDate(todayDate.getDate() + expiredays); // 현재 시각 + 일 단위로 쿠키 만료 날짜 변경
        //todayDate.setTime(todayDate.getTime() + (expiredays * 24 * 60 * 60 * 1000)); // 밀리세컨드 단위로 쿠키 만료 날짜 변경
        document.cookie = key + "=" + escape(value) + "; path=/; expires=" + todayDate.toGMTString() + ";";
    }

    function deleteCookie(name) {
        document.cookie = name + '=; expires=Thu, 01 Jan 1999 00:00:10 GMT;';
    }

    function hideAlarm() {
        $(document).on("click", '.imp-toast .btn-close', function () {
            var $this = $(this);
            $this.parents(".toast-item").removeClass("show").addClass("hide");
        });

        $(document).on("click", '.login-box-tst .close', function () {
            $('.login-box-tst').removeClass("show").addClass("hide");
        });
    }

    function toggleAlarm() {
        $(document).on("click", '.imp-toast .btn-alarm', function () {
            var $this = $(this);
            if (!($this.hasClass("btn-alarm-disable"))) {
                $this.addClass("btn-alarm-disable");
                console.log('### ' + $this.data('denial'));
                var denialType = $this.data('denial');

                var hk_denial_alarm_type = getFCMCookie('hk_denial_alarm_type');
                if(hk_denial_alarm_type.includes(denialType)) {
                    return false;
                }
                denialType = Boolean(hk_denial_alarm_type) ? decodeURIComponent(hk_denial_alarm_type) + ',' + denialType : denialType;
                setDenialAlarmType(denialType);
            } else {
                $this.removeClass("btn-alarm-disable");
                var hk_denial_alarm_type = getFCMCookie('hk_denial_alarm_type');
                var denialType = $this.data('denial');

                if(hk_denial_alarm_type.includes(denialType)){
                    var str = hk_denial_alarm_type;
                    var arr = str.split(',');
                    var filtered = arr.filter((element) => element !== denialType);
                    deleteCookie('hk_denial_alarm_type');
                    setDenialAlarmType(filtered.join());
                }

            }
        });
    }

    function fnOneDayNotView(){
        this.setFCMCookie('hk_denial_login_area', 'Y', 1);
    }

    function loginInfoView(){
        if(!Boolean(Cookies.get('accessToken'))){
            if(!Boolean(getFCMCookie('hk_denial_login_area'))){
                var $loginBox = $('.toast-container .toast-item.login-box-tst');

                $loginBox.addClass("show");
            }
        }
    }

    // 웹푸시 자동삭제(10분)
    var FCM_TOAST_LOG = {};
    function autoRemoveToast(fcmMessageId){
        FCM_TOAST_LOG[fcmMessageId] = setTimeout(function(){
            $(".toast-item[data-push-id='"+ fcmMessageId +"']").find('.btn-close').trigger("click");
            delete FCM_TOAST_LOG[fcmMessageId];
        }, 600000);
    };

    $(function () {
        showAlarm();
        // 상단 탑 노티영역 닫기
        closeNotice();
        loginInfoView();
        // 푸시알람 표시
        // initAlarm();
        // 속보 / 단건 조회
        setInterval(
            () =>
            showAlarm()
            , 1000 * 60 * 1
        );

        // 푸시알람 닫기, 알람끄기 토글
        hideAlarm();
        toggleAlarm();



    });
</script>


<!-- // FCM script -->


    <script type="text/javascript" src="//send.mci1.co.kr/delivery/js/30000392/22176912384" async></script>

    <!-- google ad sence -->
    <script data-ad-client="ca-pub-2704741335862169" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <script data-ad-client="ca-pub-9575884151581415" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6N5VSF0VLL"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-6N5VSF0VLL');
    </script>
    <script>
        var _searchHost = '';
        try{
            _searchHost = 'https://search.hankookilbo.com';
        }catch(e){
            _searchHost = 'https://search.hankookilbo.com';
        }
    </script>
<style>
    .module-slider  .img-box img,
    .module-vs .img-list .img-box img,
    .module-intro .img-box img {
        width: 100% !important;
        height: 100% !important;
        padding: 0;
    }
</style>
<!-- Dable 스크립트 / 문의 media@dable.io -->
<script>
    (function(d,a,b,l,e,_) {
        d[b]=d[b]||function(){(d[b].q=d[b].q||[]).push(arguments)};e=a.createElement(l);
        e.async=1;e.charset='utf-8';e.src='//static.dable.io/dist/plugin.min.js';
        _=a.getElementsByTagName(l)[0];_.parentNode.insertBefore(e,_);
    })(window,document,'dable','script');
    dable('setService', 'hankookilbo.com');
    dable('sendLogOnce');
</script>
</head>
<body>
    <input type="hidden" id="fileServer" value="https://newsimg.hankookilbo.com"/>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-59599H7"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --><!-- wrap -->
<div class="wrap imp-end">
    <!-- .container .end -->
    <!-- end: end 페이지 기본 -->
    <div class="container  end-uni ">
        <!-- .end-header -->
<div class="end-header">
    <!-- .col-left -->
    <div class="col-left">
        <a href="javascript:onClickLogo()" class="logo">
            <span class="blind">한국일보</span>
        </a>
        <div class="wrap-dep1">
            <div class="depth1-grp clearfix">
                <a href="javascript:void(0);" class="innerlink depth1-grp-tit">
                    사회</a>
            </div>
            <div class="slt-panel">
                <ul class="slt-grp">
                    <li class="item step1"><a href="/News/Politics" class="innerlink">정치</a></li>
                        <li class="item step1"><a href="/News/Economy" class="innerlink">경제</a></li>
                        <li class="item step1"><a href="/News/Society" class="innerlink">사회</a></li>
                        <li class="item step1"><a href="/News/World" class="innerlink">국제</a></li>
                        <li class="item step1"><a href="/News/Culture" class="innerlink">문화</a></li>
                        <li class="item step2"><a href="/News/Enter" class="innerlink">연예</a></li>
                        <li class="item step2"><a href="/Sports" class="innerlink">스포츠</a></li>
                        <li class="item step2"><a href="/News/People" class="innerlink">사람</a></li>
                        <li class="item step2"><a href="/News/Life" class="innerlink">라이프</a></li>
                        <li class="item step3"><a href="/Opinion" class="innerlink">오피니언</a></li>
                        <li class="item step3"><a href="/my/subscriptionChannelMain/ALL" class="innerlink">구독<sup class="hk-color">+</sup></a></li>
                </ul>
            </div>
            <nav class="wrap-dep2 clearfix">
                <ul class="depth2-pnl clearfix">
                    <!-- .col-menu -->
                    <li class="item type01">
                                <dl class="depth2-grp">
                                    <dt><a href="/News/Politics" class="innerlink">정치</a></dt>
                                    <dd><a href="/News/Politics/HA01" class="innerlink">국회/정당</a></dd>
                                        <dd><a href="/News/Politics/HA02" class="innerlink">청와대</a></dd>
                                        <dd><a href="/News/Politics/HA03" class="innerlink">외교</a></dd>
                                        <dd><a href="/News/Politics/HA04" class="innerlink">국방/북한</a></dd>
                                        <dd><a href="/News/Politics/HA99" class="innerlink">정치일반</a></dd>
                                        </dl>
                            </li>
                        <li class="item type01">
                                <dl class="depth2-grp">
                                    <dt><a href="/News/Economy" class="innerlink">경제</a></dt>
                                    <dd><a href="/News/Economy/HB01" class="innerlink">경제정책</a></dd>
                                        <dd><a href="/News/Economy/HB02" class="innerlink">산업</a></dd>
                                        <dd><a href="/News/Economy/HB03" class="innerlink">금융/증권</a></dd>
                                        <dd><a href="/News/Economy/HB04" class="innerlink">부동산</a></dd>
                                        <dd><a href="/News/Economy/HB05" class="innerlink">IT/과학</a></dd>
                                        <dd><a href="/News/Economy/HB99" class="innerlink">경제일반</a></dd>
                                        </dl>
                            </li>
                        <li class="item type01">
                                <dl class="depth2-grp">
                                    <dt><a href="/News/Society" class="innerlink">사회</a></dt>
                                    <dd><a href="/News/Society/HC01" class="innerlink">사건/사고</a></dd>
                                        <dd><a href="/News/Society/HC02" class="innerlink">법원/경찰</a></dd>
                                        <dd><a href="/News/Society/HC03" class="innerlink">교육</a></dd>
                                        <dd><a href="/News/Society/HC04" class="innerlink">노동</a></dd>
                                        <dd><a href="/News/Society/HC05" class="innerlink">보건/복지</a></dd>
                                        <dd><a href="/News/Society/HC06" class="innerlink">날씨/환경</a></dd>
                                        <dd><a href="/News/Society/HC99" class="innerlink">사회일반</a></dd>
                                        </dl>
                            </li>
                        <li class="item type01">
                                <dl class="depth2-grp">
                                    <dt><a href="/News/World" class="innerlink">국제</a></dt>
                                    <dd><a href="/News/World/HD01" class="innerlink">아시아/호주</a></dd>
                                        <dd><a href="/News/World/HD02" class="innerlink">미국/중남미</a></dd>
                                        <dd><a href="/News/World/HD03" class="innerlink">유럽</a></dd>
                                        <dd><a href="/News/World/HD04" class="innerlink">중동/아프리카</a></dd>
                                        <dd><a href="/News/World/HD05" class="innerlink">글로벌 이슈</a></dd>
                                        <dd><a href="/News/World/HD99" class="innerlink">국제일반 </a></dd>
                                        </dl>
                            </li>
                        <li class="item type01">
                                <dl class="depth2-grp">
                                    <dt><a href="/News/Culture" class="innerlink">문화</a></dt>
                                    <dd><a href="/News/Culture/HE01" class="innerlink">책</a></dd>
                                        <dd><a href="/News/Culture/HE02" class="innerlink">공연/전시</a></dd>
                                        <dd><a href="/News/Culture/HE99" class="innerlink">문화일반</a></dd>
                                        </dl>
                            </li>
                        <li class="item type01">
                                <dl class="depth2-grp">
                                    <dt><a href="/News/Enter" class="innerlink">연예</a></dt>
                                    <dd><a href="/News/Culture/HF99" class="innerlink">연예일반</a></dd>
                                        <dd><a href="/News/Culture/HF02" class="innerlink">영화</a></dd>
                                        <dd><a href="/News/Culture/HF03" class="innerlink">방송</a></dd>
                                        <dd><a href="/News/Culture/HF04" class="innerlink">음악</a></dd>
                                        <dd><a href="/News/Culture/HF05" class="innerlink">실시간 연예</a></dd>
                                        <dd><a href="/News/Culture/HF06" class="innerlink">포토 뉴스</a></dd>
                                        </dl>
                            </li>
                        <li class="item type01">
                                <dl class="depth2-grp">
                                    <dt><a href="/Sports" class="innerlink">스포츠</a></dt>
                                    <dd><a href="/News/Sports/HG01" class="innerlink">야구</a></dd>
                                        <dd><a href="/News/Sports/HG02" class="innerlink">축구</a></dd>
                                        <dd><a href="/News/Sports/HG03" class="innerlink">농구</a></dd>
                                        <dd><a href="/News/Sports/HG04" class="innerlink">배구</a></dd>
                                        <dd><a href="/News/Sports/HG05" class="innerlink">해외스포츠</a></dd>
                                        <dd><a href="/News/Sports/HG06" class="innerlink">골프</a></dd>
                                        <dd><a href="/News/Sports/HG99" class="innerlink">스포츠일반</a></dd>
                                        </dl>
                            </li>
                        <li class="item type01">
                                <dl class="depth2-grp">
                                    <dt><a href="/News/People" class="innerlink">사람</a></dt>
                                    <dd><a href="/News/People/HH01" class="innerlink">인터뷰 </a></dd>
                                        <dd><a href="/News/People/HH02" class="innerlink">인사/동정</a></dd>
                                        <dd><a href="/News/People/HH03" class="innerlink">부고</a></dd>
                                        <dd><a href="/News/People/HH99" class="innerlink">사람일반</a></dd>
                                        </dl>
                            </li>
                        <li class="item type01">
                                <dl class="depth2-grp">
                                    <dt><a href="/News/Life" class="innerlink">라이프</a></dt>
                                    <dd><a href="/News/Life/HI01" class="innerlink">음식 </a></dd>
                                        <dd><a href="/News/Life/HI02" class="innerlink">여행 </a></dd>
                                        <dd><a href="/News/Life/HI03" class="innerlink">건강 </a></dd>
                                        <dd><a href="/News/Life/HI04" class="innerlink">블론디</a></dd>
                                        <dd><a href="/News/Life/HI05" class="innerlink">백운산 오늘의 운세</a></dd>
                                        <dd><a href="/News/Life/HI99" class="innerlink">라이프일반</a></dd>
                                        </dl>
                            </li>
                        <li class="item type01">
                                <dl class="depth2-grp">
                                    <dt><a href="/News/Local" class="innerlink">지역</a></dt>
                                    <dd><a href="/News/Local/HJ01" class="innerlink">수도권</a></dd>
                                        <dd><a href="/News/Local/HJ02" class="innerlink">대전/충청/강원</a></dd>
                                        <dd><a href="/News/Local/HJ03" class="innerlink">대구/경북</a></dd>
                                        <dd><a href="/News/Local/HJ04" class="innerlink">부산/경남</a></dd>
                                        <dd><a href="/News/Local/HJ05" class="innerlink">광주/전라/제주</a></dd>
                                        </dl>
                            </li>
                        </ul>

                <ul class="depth2-pnl clearfix">
                    <li class="item type02">
                        <dl class="depth2-grp">
                            <dt><a href="/Opinion">오피니언</a></dt>
                            <dd><a href="/Opinion/HK01" class="innerlink">사설</a></dd>
                                <dd><a href="/Opinion/HK02" class="innerlink">칼럼</a></dd>
                                <dd><a href="/Opinion/HK03" class="innerlink">만평</a></dd>
                                <dd><a href="/Opinion/HK04" class="innerlink">사고알림</a></dd>
                                </dl>
                    </li>
                    <li class="item type02">
                        <dl class="depth2-grp">
                            <dt><a href="/Focus">포커스 취재</a></dt>
                            <dd><a href="/Focus/HL01" class="innerlink">기획/연재</a></dd>
                                <dd><a href="/Focus/Interactive" class="innerlink">인터랙티브</a></dd>
                                <dd><a href="/Focus/HL02" class="innerlink">뉴잼</a></dd>
                                </dl>
                    </li>
                    <li class="item type02">
                        <dl class="depth2-grp">
                            <dt><a href="/Vertical/Animal">동물</a></dt>
                            <dt><a href="/Vertical/Video">영상</a></dt>
                            <dt><a href="/my/subscriptionChannelMain/ALL">구독<sup class="hk-color">+</sup></a></dt>
                            <dt><a href="/NewsLetter/NewsJam">뉴스레터</a></dt>
                        </dl>
                    </li>
                </ul>

                <!-- 주제판 메뉴 미확정 -->
                <ul class="topic-pnl clearfix">
                    <li class="item type02">
                        <dl class="depth2-grp">
                            <dt><a href="/">주제판</a></dt>
                        </dl>
                    </li>
                </ul>

                <ul class="extra-pnl">
                    <li>
                        <dl class="depth2-grp">
                            <dt><a href="/Notice">공지</a></dt>
                            <dt><a href="http://company.hankookilbo.com/" target="_blank">회사소개</a></dt>
                            <dt><a href="http://company.hankookilbo.com/pr/Ad_center1.aspx" target="_blank">광고안내</a></dt>
                            <dt><a href="http://company.hankookilbo.com/business/Coalition.aspx" target="_blank">사업제휴</a></dt>
                            <dt><a href="http://company.hankookilbo.com/copyright/service_info.aspx" target="_blank">저작물구매안내</a></dt>
                            <dt><a href="https://hkphoto.hankookilbo.com/photosales" target="_blank">사진 검색 & 구매</a></dt>
                            <dt class="korean-times"><a href="http://www.koreatimes.co.kr/" target="_blank"><img src="/images/svg/the_korean_times.svg" alt="The Korean Times"></a></dt>
                        </dl>
                    </li>
                    <li>
                        <dl class="depth2-grp">
                            <dt><a href="/paoin">지면보기</a></dt>
                            <dt><a href="javascript:$('.popup-report').openPopup('fn_onLoadCaptcha');">제보 및 문의</a></dt>
                            <dt><a href="http://company.hankookilbo.com/Subscription/apply.aspx" target="_blank">구독안내</a></dt>
                        </dl>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <div class="mini-title">
        <h2 class="title type1"><a href="/Collect/S2022052509490003290">젠더무물</a></h2>
            <a href="javascript:void(0);" onclick="onClickSubscribeArticleBtn('top')" class="btn-subsc"></a>
        </div>
    <!-- // .col-left -->
    <!-- .col-right -->
    <div class="col-right">
        <div class="side-menu-pnl">
<a href="javascript:goSearchPage();" class="srch-btn" type="submit"></a>
            <a href="javascript:void(0);" class="toggle"></a>
        </div>

        <section class="user-attention-popup">
            <div class="att-header">
                <h4>알림</h4>
                <div class="btn-con">
                    <button class="setting-btn" onclick="$('.popup-alert.modify-form').openPopup();">알림설정</button>
                    <button class="close-btn" onclick="$('.user-attention-popup').toggleClass('on')"></button>
                </div>
            </div>

            <div class="attention-container">
                <ul id="myAlramArea" class="attention-list">
                </ul>
                <button class="view-more-btn" onclick='location.href="/MyPage?Filter=Alarm"'>내 알림 더보기</button>
            </div>

            <div class="popup-alert modify-form">
                <div class="popup-header">
                    <div class="logo"></div>
                    <a href="javascript:void(0)" class="btn-close" onclick="$(this).closest('.popup-alert').closePopup();"></a>
                    <h2 class="tit">알림설정</h2>
                </div>
                <div class="cont">
    <div class="rowner push-agree">
        <p>웹 알림 동의 <span class="optional">(크롬브라우저만 가능)</span></p>
        <ul class="agree-list">
            <li>
                <input type="checkbox" id="push-agree" name="push-agree">
                <label for="push-agree">구독 업데이트 및 주요 알림</label>
            </li>
        </ul>
    </div>
    <button class="btn-main" onclick="alarmSetClose(this)">확인</button>
</div>


<script>
    // 알람설정 닫기
    function alarmSetClose(target) {
        if($("header").hasClass("up-index")) $("header").removeClass("up-index");
        $(target).closest('.popup-alert').closePopup();
    }

    $(function () {
        var appuserPushId = Cookies.get('appuserPushId');
        $('.setting-btn').on('click', function(){
            if(!Boolean(appuserPushId)){
                $('#push-agree').attr('disabled', true);
                return false;
            }
            if (Cookies.get('accessToken') !== undefined) {
                $.ajax({
                    url: "/push-info?appuserPushId=" + appuserPushId,
                    contentType: 'application/json',
                    method: 'GET',
                    async: false,
                    success: function (response) {
                        var appuserPushAgreeyn = response.data.view.appuserPushAgreeyn;
                        if (appuserPushAgreeyn === 'Y') {
                            $('#push-agree').iCheck('check');
                            // $('#push-agree2').iCheck('check');
                        } else {
                            $('#push-agree').iCheck('uncheck');
                            // $('#push-agree2').iCheck('uncheck');
                        }
                    },
                    fail: function () {
                        $('#push-agree').iCheck('uncheck');
                        // $('#push-agree2').iCheck('uncheck');
                    }
                });
            }
        });

        $("#push-agree").on("ifClicked", function(event){
            if (Cookies.get('accessToken') !== undefined) {
                var params = {};

                if (!event.currentTarget.checked) {
                    params = {
                        'appuserPushId': appuserPushId
                        , 'appuserPushAgreeyn': 'Y'
                        , 'appuserAlarmSokbo': 'Y'
                        , 'appuserAlarmSubscribe': 'Y'
                        , 'appuserAlarmReply': 'Y'
                        , 'appuserAlarmMarketing': 'Y'
                        , 'appuserSendBlock': 'Y'
                        , 'appuserPushAgreedate': 'Y'
                    };
                } else {
                    params = {
                        'appuserPushId': appuserPushId
                        , 'appuserPushAgreeyn': 'N'
                        , 'appuserAlarmSokbo': 'N'
                        , 'appuserAlarmSubscribe': 'N'
                        , 'appuserAlarmReply': 'N'
                        , 'appuserAlarmMarketing': 'N'
                        , 'appuserSendBlock': 'N'
                        , 'appuserPushAgreedate': 'N'
                    };
                }
                var url = '/push-agree';
                $.ajax({
                    url: url,
                    contentType: 'application/json',
                    method: 'PATCH',
                    data: JSON.stringify(params),
                    async: false,
                    success: function (response) {
                        if (!event.currentTarget.checked) {
                            $('#push-agree').iCheck('check');
                            // $('#push-agree2').iCheck('check');
                        } else {
                            $('#push-agree').iCheck('uncheck');
                            // $('#push-agree2').iCheck('uncheck');
                        }
                    },
                    fail: function () {
                        if (event.currentTarget.checked) {
                            $('#push-agree').iCheck('check');
                            // $('#push-agree2').iCheck('check');
                        } else {
                            $('#push-agree').iCheck('uncheck');
                            // $('#push-agree2').iCheck('uncheck');
                        }
                    }
                });
            }
        });
    });
</script>


</div>
            <div class="dimmed"></div>
        </section>


        <!-- 읽기모드 -->
        <!-- // .bg-set -->
        <!-- .scale-set -->
        <!-- // .scale-set -->
        <!-- // 읽기모드 -->
        <!-- .tooltip-box -->
        <!-- // .tooltip-box -->
        <!-- .tooltip-box .bookmark-box -->
        </div>
    <!-- // .col-right -->
</div>
<!-- // .end-header -->

<!-- dimmed -->
<div class="dimmed"></div>
<!-- //dimmed -->

<!-- // 구독 취소 팝업 -->
<script src="/js/lib/moment.min.js"></script>
<script src="/js/lib/moment-timezone-with-data.js"></script>
<script>
    function goSearchPage(){
        location.href = _searchHost+"/Search";
    }
    // 엔드페이지 진입시 마지막 읽은 기사를 DB에 저장
    var param = {lastReadArticleId: 'A2022110213150005119'};
    $.ajax({
        url: '/users/me',
        method: 'PATCH',
        contentType: 'application/json',
        data: JSON.stringify(param),
        success: function (response) {
            // console.log(response);
            var flag = response;
            if (flag) {
                // console.log('이어보기 기사 추가 성공')
            } else {
                // console.log('이어보기 기사 추가 실패')
            }
        }
    });


    function onClickLogo() {
        removeLastReadArticle();
        location.replace('https://www.hankookilbo.com');
    }

    $(document).ready(function() {
        //로그인 하지 않고 기사를 보았을때 쿠키에 하루도안 담고 로그인 하면 읽은 기사에 담기
        // 로그인 flag
        loggedIn = Cookies.get('accessToken');
        if (!loggedIn) {
            if(Cookies.get('view_article') == "undefined" || Cookies.get('view_article') == "" || Cookies.get('view_article') == null){
                Cookies.set('view_article', 'A2022110213150005119', {path: '/', expires: 60 * 60 * 24 * 265});
            }else{
                Cookies.set('view_article', Cookies.get('view_article')+','+'A2022110213150005119', {path: '/', expires: 1});
            }
        }else{
            if(Cookies.get('view_article') != "undefined" && Cookies.get('view_article') != null && Cookies.get('view_article') != "") {
                $.ajax({
                    url: "/users/view_article",
                    contentType: 'application/json',
                    method: 'POST',
                    data: JSON.stringify({
                        view_article: Cookies.get('view_article')
                    }),
                    success: function (response) {
                        var flag = response;
                        if (flag) {
                            Cookies.remove('view_article');
                        } else {
                            console.log('기사 구독 -> 실패')
                        }
                    },
                    fail: function () {
                        // console.log('기사 구독 -> 에러')
                    }
                });
            }

        }



        history.pushState(null, null, location.href);
        window.onpopstate = function(event) {
            removeLastReadArticle();
            history.back()
        }
    })

    // (function(){
    //     // 요일 세팅
    //     var today = new Date();
    //     var week = ['일', '월', '화', '수', '목', '금', '토'];
    //     var s = today.getFullYear() + "년 " + (today.getMonth() + 1) + "월 " + today.getDate() + "일 " + week[today.getDay()] + "요일";
    //     $('#top-date').html(s);
    //
    //     $('input[data-el="search-input-in-gnb"]').val('');
    // })();

    $('.srch-btn').on('click' ,function(){
        var searchText = $(this).parent().find('input[data-el="search-input-in-gnb"]').val();
        subGnbSearch(searchText);
    });

    $(function () {
      gnbLoginCheck();
      setTopicMenu();

      var $header = $(".wrap[class*='imp-'] .end-header");
      var $toggle = $header.find(".toggle");
      var $totalMenu = $header.find(".wrap-dep2");

      $(".end-header .depth1-grp-tit").on("click",function(){
        $(".end-header .slt-grp").toggleClass("on");
      });

      $toggle.on("click",function(e){
        e.stopPropagation();

        if($(".container").hasClass("blog")) $header.toggleClass("bg-wh");

        $toggle.toggleClass("on");
        $header.toggleClass("expand");
        if($toggle.hasClass("on")){
          $(".end-header .slt-grp").removeClass("on");
          document.addEventListener("click", closeTotalMenu);
        }
      });

      function closeTotalMenu(e){
        e.stopPropagation();

        $('.user-attention-popup').removeClass("on");
        if(!$(e.target).closest($totalMenu).length) {
          $toggle.removeClass("on");
          $header.removeClass("expand");
          document.removeEventListener("click", closeTotalMenu);
        }
      }
    });

    // 주제판 메뉴
    function setTopicMenu(){
        $.ajax({
            url: "/topic/pan-list",
            method: "GET",
            dataType : "text",
            contentType: "application/json",
            success: function (res) {
                var menuHtml = "";
                JSON.parse(res).forEach(el => {
                    menuHtml += "<dd><a href='/Topic?topicId="+ el.topicId +"' class='innerlink'>"+ el.topicTitle +"</a></dd>";
                });
                $(".end-header .topic-pnl .depth2-grp").append(menuHtml);
            },
            fail: function (err) {
                console.log(err);
            }
        });
    }

    function gnbLoginCheck(){
        if (!Cookies.get('accessToken')) {
            // case.로그아웃 상태일 때 만 표출
            $(".end-header .toggle").before('<a href="javascript:openSignInPopUp();" class="user-info"></a>');
            // case.로그아웃 끝
        } else {
            // case.로그인 상태일 때 만 표출
            $(".end-header .toggle").before('<a href="javascript:alarmToggle();" onclick="window.event.cancelBubble = true" class="alarm"><span class="blind">알람</span><span class="cnt" style="display: none;">0</span></a>');
            $(".end-header .toggle").before('<a href="/MyPage" class="user-info"></a>');
            getMyalarmTotalcnt();
            // case.로그인 끝
        }
    };

    function subGnbSearch(searchTextVal){
        var searchText = searchTextVal;
        Boolean(searchText) ? searchText : searchText = $('input[data-el="search-input-in-gnb"]').val();
        saveSearchRecord(searchText);
        location.href = _searchHost+"/Search?searchText=" + encodeURIComponent(searchText);
    }

    function getMyalarmTotalcnt() {
        if (Cookies.get('accessToken') !== undefined) {
            $.ajax({
                url: '/users/push-myalarm-totalcnt',
                method: 'GET',
                success: function (response) {

                    var cntNum = response.alarmTotalCount;
                    if(response.code === '0000'){
                        if(cntNum > 0) {
                            $('.alarm .cnt').text(cntNum);
                            $('.alarm .cnt').show();
                        } else {
                            $('.alarm .cnt').text('0');
                            $('.alarm .cnt').hide();
                        }
                    } else {
                        $('.alarm .cnt').text('0');
                        $('.alarm .cnt').hide();
                    }
                },
                fail: function (response) {
                    $('.alarm .cnt').text('0');
                    $('.alarm .cnt').hide();
                }
            });
        }
    }

    function alarmToggle() {
        var alarmListPop = $('.user-attention-popup');

        alarmListPop.toggleClass("on");
        if (alarmListPop.hasClass("on")) {
            if (Cookies.get('accessToken') !== undefined) {
                $.ajax({
                    url: '/users/push-myalarm',
                    method: 'GET',
                    success: function (response) {
                        if (response.code === '0000') {
                            var data = response.data;
                            var html = '';
                            var listSize = data.list.length;
                            var now = moment();
                            if (listSize > 0) {
                                for (var i = 0; i < listSize; i++) {
                                    var apppushType = data.list[i].apppushType;
                                    var typeClass = "";
                                    var typeNm = "";
                                    var pushTit = data.list[i].apppushTitle;
                                    var pushConts = data.list[i].apppushContents;
                                    var now = moment().format('YYYYMMDD');
                                    var sendDate = moment(data.list[i].apppushSenddate).format('YYYYMMDD');
                                    var afterDate = timeForToday(moment(data.list[i].apppushSenddate).format('YYYY-MM-DD HH:mm:ss'));
                                    var weekend = moment(sendDate).day();
                                    var weekendNm = '';
                                    switch (weekend.toString()){
                                        case '0':
                                            weekendNm = '일';
                                            break;
                                        case '1':
                                            weekendNm = '월';
                                            break;
                                        case '2':
                                            weekendNm = '화';
                                            break;
                                        case '3':
                                            weekendNm = '수';
                                            break;
                                        case '4':
                                            weekendNm = '목';
                                            break;
                                        case '5':
                                            weekendNm = '금';
                                            break;
                                        case '6':
                                            weekendNm = '토';
                                            break;
                                    }
                                    var isToday = moment(now).diff(sendDate, 'days') < 1 ? ' (오늘)' : '('+weekendNm+')';
                                    if (i > 0) {
                                        var beforeIdx = Number(i - 1);
                                        var tempSendDate = moment(data.list[beforeIdx].apppushSenddate).format('YYYYMMDD');
                                        if (tempSendDate == moment(data.list[i].apppushSenddate).format('YYYYMMDD')) {
                                            sendDate = "";
                                        }
                                    }
                                    var sendDateFormatIng = '';
                                    if (Boolean(sendDate)) {
                                        sendDateFormatIng = moment(sendDate).format('YYYY. MM. DD');
                                    }
                                    if (Boolean(sendDate)) {
                                        html += ' <li class="include-date">';
                                        html += '     <p class="date-box">' + sendDateFormatIng + ' ' + isToday + '</p>';
                                    } else {
                                        html += ' <li>';
                                    }
                                    html += '     <a href="/News/Read/' + data.list[i].articleId + '" onclick="fnAlramClick('+"'"+ data.list[i].apppushId +"'"+ ')">';

                                    var isBadgeUse = false;
                                    if(Object.keys($PUSH_TYPE).indexOf(apppushType) > -1){
                                        typeClass = $PUSH_TYPE[apppushType].class;
                                        typeNm = $PUSH_TYPE[apppushType].name;
                                        pushConts = pushConts.replace(new RegExp("\\["+ $PUSH_TYPE[apppushType].name +"\\]" , "g"), "");
                                        isBadgeUse = true;
                                    } else {
                                        isBadgeUse = false;
                                    }

                                    html += '         <div>';
                                    if(isBadgeUse){
                                        html += '     <mark class="' + typeClass + '">' + typeNm + '</mark>';
                                    }
                                    if(pushTit !== "한국일보"){
                                        html += '       <p class="sub-tit">' + pushTit + '</p>';
                                    }
                                    html += '           <p class="date">' + afterDate + '</p>';
                                    html += '         </div>';
                                    html += '         <h5>' + pushConts + '</h5>';
                                    html += '     </a>';
                                    html += ' </li>';
                                }
                            } else {
                                html += '    <li class="no-alarm">';
                                html += '        <h5>알림한 기사가 없습니다.</h5>';
                                html += '    </li>';
                            }
                            $('#myAlramArea').html(html);
                        }
                    },
                    fail: function (response) {
                    }
                });
            }

        document.addEventListener("click", closeAlarm);
        }

        function closeAlarm(e){
            e.stopPropagation();
            if(!$(e.target).closest(alarmListPop).length) {
                alarmListPop.removeClass("on");
                document.removeEventListener("click", closeAlarm);
            }
        }
    }

    function timeForToday(value) {
        var today = new Date();
        var timeValue = new Date(value);
        var betweenTime = Math.floor((today.getTime() - timeValue.getTime()) / 1000 / 60);

        if (betweenTime < 1) return '방금전';
        if (betweenTime < 60) {
            return betweenTime + '분 전';
        }

        //메세지 수신 후 12시간이 지나면 년월일시분 노출로 요청 하여 로직 변경
        var betweenTimeHour = Math.floor(betweenTime / 60);

        if (betweenTimeHour < 12) {
            return betweenTimeHour + '시간 전';
        } else {
            var timeFormating = moment(timeValue).format('hh시 mm분');
            var isAmPm = moment(timeValue).format('(a)');
            var ampmNm = '';
            switch (isAmPm) {
                case '(am)':
                    ampmNm = '오전';
                    break;
                case '(pm)':
                    ampmNm = '오후';
                    break;
            }

            return ampmNm + ' ' + timeFormating;
        }
    }
    /**
     * 기사 저장 버튼 클릭
     */
    function onClickSaveArticleBtnSide(location) {
        // 로그인 확인
        if (Cookies.get('accessToken') === undefined) {
            $('#sign-in-request-alert').openPopup();
            return;
        }

        // 기사 저장 api를 쏜다 -> 중복체크는 controller에서 한다.
        $.ajax({
            url: '/article/activity',
            method: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({
                articleId: 'A2022110213150005119',
                activityType: 'Save'
            }),
            success: function (response) {
                // console.log('기사 저장 -> 성공');
                var flag = response;
                if (flag) {
                    // 기사 저장 css 토글
                    $('.icon-toolbox-bookmark').toggleClass('on');
                    // on이면 추가 popup off면 제거 popup
                    if ($('.icon-toolbox-bookmark').hasClass('on')) {
                        if (location === 'top') {
                            $('#top-save-article-popup').show();
                        } else {
                            $('#bottom-save-article-popup').show();
                        }
                    } else {
                        if (location === 'top') {
                            $('#top-delete-article-popup').show();
                        } else {
                            $('#bottom-delete-article-popup').show();
                        }
                    }
                    // css를 바꾼다
                } else {
                    // console.log('기사 저장 -> 실패')
                }
            },
            fail: function () {
                // console.log('기사 저장 -> 에러')
            }
        })
    }

    function fnAlramClick(arg){
        if (Cookies.get('accessToken') !== undefined && Boolean(arg)) {
            var params = {};
                params = {
                    'apppushId': arg
                };
            var url = '/alarm-click';
            $.ajax({
                url: url,
                contentType: 'application/json',
                method: 'PATCH',
                data: JSON.stringify(params),
                async: false,
                success: function (response) {
                },
                fail: function () {
                }
            });
        }
    }
</script>
<script>
    /**
     * 최근 검색어 쿠키에서 불러오기
     */
    function setSearchRecord() {
        $('dl[data-el="search-record-list-in-gnb"]').html('<dt>최근 검색어</dt>');
        var searchRecordCookie = Cookies.get('search-record');
        // 최근 검색어가 있으면
        if (searchRecordCookie !== undefined) {
            var searchRecord = searchRecordCookie.split(',');
            // 전체 삭제 버튼 활성화
            $('button[data-el="search-record-delete-all-btn-in-gnb"]').attr('disabled', false);
            // 컨테이너 css class toggle
            $('div[data-el="search-toggle-recent-word"]').removeClass('no-result');

            if (searchRecord.length > 0) {
                searchRecord.reverse();
                for (var i = 0; i < searchRecord.length; i++) {
                    var temp = searchRecord[i].split('_splitter');

                    temp[0] = temp[0].replace(/</g,"&lt;").replace(/>/g,"&gt;");
                    var tempOnAtag = temp[0].replace(/\"/g,"\\\"").replace(/\'/g,"\\\'");

                    $('dl[data-el="search-record-list-in-gnb"]').append('<dd>\n' +
                        '            <a href="javascript:onClickSearchRecord(\'' + tempOnAtag + '\')"><strong>' + temp[0] + '</strong></a>\n' +
                        '            <div class="searched-date">\n' +
                        '                <span>' + temp[1] + '</span>\n' +
                        '            <button class="icon-del" onclick="onClickDeleteSearchRecord(\'' + i + '\', event)">삭제</button>\n' +
                        '                </div>\n' +
                        '                </dd>');
                }
            }
            // 최근 검색어가 없으면
        } else {
            // 전체 삭제 버튼 비활성화
            $('button[data-el="search-record-delete-all-btn-in-gnb"]').attr('disabled', true);
            $('dl[data-el="search-record-list-in-gnb"]').append('<dd> 최근 입력한 검색어가 없습니다. </dd>');
            // 컨테이너 css class toggle
            $('div[data-el="search-toggle-recent-word"]').addClass('no-result');
        }
    }

    function onClickSearchRecord(searchText) {
        location.href = _searchHost + '/Search?searchText=' + encodeURIComponent(searchText);
    }

    function onClickDeleteSearchRecord(index, event) {
        var searchRecordCookie = Cookies.get('search-record');
        var searchRecord = searchRecordCookie.split(',').reverse();
        // Prevent Submit Form Tag
        event.preventDefault();
        event.stopImmediatePropagation();

        // 해당 인덱스 삭제
        searchRecord.splice(Number(index), 1);



        if (searchRecord.reverse().join(',') !== '') {
            Cookies.set('search-record', searchRecord.join(','), {path: '/', expires: 60 * 60 * 24 * 265});
        } else {
            Cookies.remove('search-record');
        }
        setSearchRecord();
    }

    /**
     * 검색어 전체 삭제 listener
     */
    function setSearchRecordDeleteAllListener() {
        $('button[data-el="search-record-delete-all-btn-in-gnb"]').on('click', function () {
            Cookies.remove('search-record');
            setSearchRecord();
        })
    }

    /**
     * 검색어 저장 on off 버튼 listener
     */
    function setSaveSearchRecordOnOffBtnListener() {
        $('button[data-el="search-record-save-off-btn-in-record-in-gnb"]').on('click', function () {
            var flag = Cookies.get('save-search-record-flag');

            if (flag === 'true' || flag === undefined) {
                Cookies.set('save-search-record-flag', 'false', {path: '/', expires: 60 * 60 * 24 * 265});
                $('button[data-el="search-record-save-off-btn-in-record-in-gnb"]').html('검색어 저장 켜기');
                $('button[data-el="search-record-save-off-btn-in-auto-in-gnb"]').html('검색어 저장 켜기');
            } else {
                Cookies.set('save-search-record-flag', 'true', {path: '/', expires: 60 * 60 * 24 * 265});
                $('button[data-el="search-record-save-off-btn-in-record-in-gnb"]').html('검색어 저장 끄기');
                $('button[data-el="search-record-save-off-btn-in-auto-in-gnb"]').html('검색어 저장 끄기');
            }
        });

        $('button[data-el="search-record-save-off-btn-in-auto-in-gnb"]').on('click', function () {
            var flag = Cookies.get('save-search-record-flag');

            if (flag === 'true' || flag === undefined) {
                Cookies.set('save-search-record-flag', 'false', {path: '/', expires: 60 * 60 * 24 * 265});
                $('button[data-el="search-record-save-off-btn-in-record-in-gnb"]').html('검색어 저장 켜기');
                $('button[data-el="search-record-save-off-btn-in-auto-in-gnb"]').html('검색어 저장 켜기');
            } else {
                Cookies.set('save-search-record-flag', 'true', {path: '/', expires: 60 * 60 * 24 * 265});
                $('button[data-el="search-record-save-off-btn-in-record-in-gnb"]').html('검색어 저장 끄기');
                $('button[data-el="search-record-save-off-btn-in-auto-in-gnb"]').html('검색어 저장 끄기');
            }
        })
    }

    /**
     * 검색어 input 리스너 세팅
     */
    function setSearchInputListener() {
         $('button[data-el="search-input-in-gnb-btn"]').off('click.search-input-in-gnb-btn').on('click.search-input-in-gnb-btn', function(){
             var searchText = $(this).parent().find('input[data-el="search-input-in-gnb"]').val();
             saveSearchRecord(searchText);
             location.href = _searchHost + "/Search?searchText=" + encodeURIComponent(searchText);
         })

         $('input[data-el="search-input-in-gnb"]').on('keyup', function (key) {
             //키가 13이면 실행 (엔터는 13)
             var searchText = $(this).val();

             if (key.keyCode == 13 && searchText !== '') {
                 saveSearchRecord(searchText);
                 location.href = _searchHost + "/Search?searchText=" + encodeURIComponent(searchText);
             }

             // 상단 검색에서 자동완성 막기.
             // if( this.dataset.auto !== 'disabled' ){
             //     var param = {
             //        "query": {
             //             "bool": {
             //                 "should": [{
             //                     "term": {
             //                         "PHRASE_Ngram": Hangul.disassemble(key.target.value).join('')
             //                     }
             //                 }],
             //                 "minimum_should_match": 1
             //             }
             //         }
             //     };

        //         var relatedSearchKeywordList = '';
        //         $.ajax({
        //             url: "/Search-auto-complete",
        //             method: "POST",
        //             contentType: 'application/json',
        //             data: JSON.stringify(param),
        //             success: function (response) {
        //                 var $autoCompleteList = $('dl[data-el="auto-complete-list-in-gnb"]');
        //                 $autoCompleteList.html('');
        //                 $autoCompleteList.html('<dt>자동 완성</dt>');
        //                 for (var i = 0; i < response.length; i++) {
        //                     $autoCompleteList.append('<dd>\n' +
        //                         '                        <a href="'+_searchHost+'/Search?searchText=' + encodeURIComponent(response[i]._id) + '"><strong>' + response[i]._id + '</strong></a>\n' +
        //                         '                    </dd>');
        //                     if (i === 0) {
        //                         relatedSearchKeywordList = response[i]._id;
        //                     } else {
        //                         relatedSearchKeywordList += ',' + response[i]._id;
        //                     }
        //                 }
        //                 Cookies.set('relatedSearchKeyword', relatedSearchKeywordList);
        //             },
        //             fail: function (err) {
        //                 // console.log('댓글 등록 -> 댓글 등록 에러');
        //             }
        //         });
        //     }

         });
    }

    /**
     * 최근 검색 기록 추가
     */
    function saveSearchRecord(searchText) {
        // 빈 값 검색 기록에 검색하면 넣지 않고 검색만 한다.
        if ($.trim(searchText) === '') {
            return;
        }

        var searchSaveFlag = Cookies.get('save-search-record-flag');

        // 검색어 저장이 true 이면
        if (searchSaveFlag === 'true' || searchSaveFlag === undefined) {
            var now = new Date();
            var ymd = now.getFullYear() + "." + ('0' + (now.getMonth() + 1)).slice(-2) + "." + now.getDate();
            var searchRecord = Cookies.get('search-record');

            // 빈 값이 아니면
            if (searchRecord !== undefined) {
                var searchRecordList = searchRecord.split(',');

                if (searchRecordList.length === 10) {
                    searchRecordList.reverse();
                    searchRecordList.pop();
                    searchRecordList.reverse();
                    searchRecord = searchRecordList.join(',');
                }

                searchRecord += ',' + searchText + "_splitter" + ymd;
            } else {
                searchRecord = searchText + "_splitter" + ymd;
            }

            Cookies.set('search-record', searchRecord, {path: '/', expires: 60 * 60 * 24 * 265});

            setSearchRecord();
        }
    }

    /**
     * 인기 검색어 조회
     * 2021-04-08 인기검색어 노출 제거.(네이버 실시간 검색 종료)
     */
    function setPopularKeyword() {
        $.ajax({
            url: "/Search-popular-keyword",
            method: "GET",
            success: function (response) {
                // console.log('인기 검색어 조회 성공');
                // console.log(response);
                var popularKeywordList = response;
                var metaKeywordList = [];

                // 기사 개수
                var popularArticleCount = 20;
                // 기사 개수에 따른 분기점
                var popularKeywordCount = 4;

                if (popularKeywordList.length > 0) {
                    $('p[data-el="keyword-created-dt"]').html(getFormattedDate(popularKeywordList[0].createdDt, 'yyyy.mm.dd hh:mm') + ' 기준')
                    for (var i = 0; i < popularArticleCount; i++) {
                        var item = popularKeywordList[i];
                        var articleShoulder = item.articleShoulder !== undefined ? item.articleShoulder.shoulderContents : '';
                        if (i % popularKeywordCount === 0 && i < popularArticleCount) {
                            // 메타에 넣을 배열 준비
                            metaKeywordList.push(item.topic);
                            $('#keyword-' + (i / popularKeywordCount)).html('<a href="'+_searchHost+'/Search?searchText=' + encodeURIComponent(item.topic) + '"><span\n' +
                                '                        class="num">' + parseInt((i / popularKeywordCount) + 1) + '</span>' + item.topic + '</a>')

                            $('#rank-list').append('<li>' + parseInt((i / popularKeywordCount) + 1) + '. ' + item.topic + '</li>');

                            $('#hot-keyword-main-' + i).html('<div class="info-box">\n' +
                                '                        <div class="text-box">\n' +
                                '                            <span class="ttl"><a href="' + getShoulderUrl(item.articleShoulder) + '">' + articleShoulder + '</a></span>\n' +
                                '                            <h3 class="tit"><a href="' + getArticleUrl(item) + '" target=_' + item.articleLinkTargetType + '">' + getArticleCutName(item) + item.articleTitle + '</a></h3>\n' +
                                '                            <span class="date">' + getFormattedDate(item.articleDeployDt, 'yyyy.mm.dd hh:mm') + '</span>\n' +
                                '                        </div>\n' +
                                '                        <div class="img-box video">\n' +
                                '                            <a href="' + getArticleUrl(item) + '" target=_' + item.articleLinkTargetType + '">\n' +
                                '                                <img src="' + getArticleThumbnailFilePath($('#fileServer').val(), item.articleId, item.repAttach) + '" alt>\n' +
                                '                            </a>\n' +
                                '                        </div>\n' +
                                '                    </div>\n' +
                                '                    <p class="text">\n' +
                                '                        <a href="' + getArticleUrl(item) + '" target=_' + item.articleLinkTargetType + '">' + item.articleFrontPanContents + '</a>\n' +
                                '                    </p>')

                        } else if (i % popularKeywordCount !== 0) {
                            $('#hot-keyword-sub-' + parseInt(i / popularKeywordCount)).append('<li><a href="' + getArticleUrl(item) + '" target=_' + item.articleLinkTargetType + '">' + getArticleCutName(item) + item.articleTitle + '</a></li>')
                        }
                    }
                    setTimeout(function() {
                        $('#rank-list').addClass('is-play');
                    }, 500);

                    $('meta[name="news_keywords"]').attr('content', metaKeywordList.join(","));
                    $('.btn-open-search').click(function() {
                        if (location.href.indexOf('/Search') > -1) {
                            location.replace(_searchHost+'/Search?searchText=' + popularKeywordList[0].topic)
                        } else {
                            location.replace(_searchHost+'/Search');
                        }
                    });
                }
            },
            fail: function (err) {
                // console.log('댓글 등록 -> 댓글 등록 에러');
            }
        });
    }

</script>

<script>
    setSearchInputListener();
</script><div class="end-top">
            <!-- .inner -->
            <div class="innerwrap">
                <!-- .col-main -->
                <div class="col-main ">
                    <div class="ttl ">
    <a href="/Collect/S2022052509490003290">젠더무물</a>
</div>
<h2 class="title">
    "여자친구가 페미입니다. 헤어져야 할까요"</h2>
<div class="info">
    <dl class="wrt-text">
        <dt>입력</dt>
        <dd>2022.12.06 20:00</dd>
        </dl>
    </div>
<div class="tool-bar">
    <!-- .tooltip-box -->
    <div class="tooltip-box">
        <button type="button" class="btn-like-all open-tip">
            <span class="blind">좋아요</span>
        </button>
        <!-- .like-detail -->
        <div class="like-detail tooltip">
            <ul>
                <li class="like" id="likeCntLi">0</li>
                <li class="unlike" id="dislikeCntLi">0</li>
            </ul>
        </div>
        <!-- // .like-detail -->
    </div>
    <!-- // .tooltip-box -->
    <span class="count" id="likeTotal">0</span>
    <button type="button" class="btn-comment">
        <span class="blind">댓글달기</span>
    </button>
    <span class="count" id="commentCntSpan_top">0</span>
</div>
</div>
                <!-- // .col-main -->
            </div>
        </div>
        <!-- .end-body -->
        <div class="end-body" style="">
            <!-- .inner -->
            <div class="innerwrap">
                <div class="col-main" itemprop="articleBody">
                    <p class="sub-tit-ll"><11·끝>  페미니즘에 우호적이지 않은 20대 남성</p>
                                <div class="editor-note"><h3 class="title">편집자주</h3><p>'무엇이든 물어보세요'라는 뜻의 밈인 '무물'을 아시나요. 한국일보 허스펙티브가 성평등을 주제로 한 ‘무물 콘텐츠’를 격주 금요일마다 연재합니다. ‘대체 이럴 땐 어떻게 행동해야 하지?’ 일상에서 흔하게 겪을 법한 다양한 고민 상황을 통해, 함께 성평등으로 나아가는 첫걸음을 내디뎌 보아요.</p></div><p class="editor-p">▶ 뉴스레터 구독하기 <a href="https://www.hankookilbo.com/NewsLetter/herspective" target="_blank">https://www.hankookilbo.com/NewsLetter/herspective</a></p><div class="editor-img-box"><img src="https://newsimg.hankookilbo.com/cms/articlerelease/2022/12/01/53eb813a-4bfa-4910-a672-55924b8d44e0.jpg" ><div class="caption"><p>게티이미지뱅크</p></div></div><p class="editor-p"><strong>Q. 안녕하세요, 20대 취업 준비생입니다. 3개월 전 지금의 여자친구를 소개팅으로 만나 알콩달콩 즐겁게 연애를 하고 있는데요. </strong></p><p class="editor-p"><strong>최근 들어 여자친구가 '페미'가 아닌가 하는 의심이 자꾸 듭니다. 휴대폰으로 페미니즘 관련 기사나 콘텐츠를 읽는 모습을 보이더니, 가끔 '젠더 갈등'과 관련해 이슈가 터질 때 저와 언성을 높여 싸우기까지 했습니다. 최근에는 '여성가족부 폐지'를 두고 별 견해가 없다는 저를 향해 "여가부 폐지에 대해 의견이 없을 수 있다는 것 자체가 평생 남성으로서 특권을 누리고 살아온 것 아니느냐"며 쏘아붙이더라고요. 전 제가 특권을 갖고 살아 왔다고 생각하지 않거든요… </strong></p><!-- .ad-banner -->
                            <div class="end-ad-container" data-ad="articleDivide">
                        <script>
                            var loopTotal = 2;
                            var adArray = ['endpage@divide01', 'endpage@divide02', 'endpage@divide03'];

                            var vSectionCd = 'SOCIETY';

                            // 중복 처리
                            var $divideList = $('.end-ad-container[data-ad="articleDivide"]');
                            if ($divideList.length) {
                                for (var i = 0; i < $divideList.length; i++) {
                                    var id = $($divideList[i]).find('.ad-item').attr('data-id');
                                    var adIndex = adArray.indexOf(id);
                                    if (adIndex > -1) {
                                        adArray.splice(adIndex, 1);
                                    }
                                }
                            }

                            var adIndex = 0;
                            var id = adArray[adIndex];
                            if(vSectionCd == "ENTER"){
                                document.write('<div class="ad-item" data-id="e_endpage_1@250x250">');
                                document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/e_endpage_1@250x250"><\/script>');
                                document.write('</div>');
                                document.write('<div class="ad-item" data-id="e_endpage_2@250x250">');
                                document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/e_endpage_2@250x250"><\/script>');
                                document.write('</div>');
                            }else{
                                for (var i = 0; i < loopTotal; i++) {
                                    // 문화 카테고리 오른쪽 배너 고정
                                    if (vSectionCd == "CULTURE" && i == 1) {
                                        document.write('<div class="ad-item" data-id="' + id + '">');
                                        document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/ct_news_r@250x250"><\/script>');
                                        document.write('</div>');

                                        continue;
                                    }

                                    document.write('<div class="ad-item" data-id="' + id + '">');
                                    document.write('<script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/' + id + '-040' + (i+1) + '"><\/script>');
                                    document.write('</div>');
                                }
                            }

                            $( document ).ready(function() {
                                // 스크립트 삭제(태그 개수에 따라 위치가 잡히기 때문에 필요 없는 태그 삭제)
                                $('.end-ad-container[data-ad="articleDivide"] script').remove();
                            });
                        </script>
                    </div>
                <!-- // .ad-banner -->
                        <p class="editor-p"><strong>제가 알기로 '강성 페미'들은 남성을 혐오해 결혼이나 연애를 거부하는 걸로 알고 있습니다. 그런데 제 여자친구는 저를 만나기 전에도 소개팅을 여러 번 하며 연애를 의욕적으로 해온 걸로 알아요. 제 여자친구가 정말 온라인상에서 활동하는 그런 페미라면, 대체 저와 연애는 왜 하는 걸까요. 그리고 헤어져야 할까요. (최철수·27·취업준비생)</strong></p><p class="editor-p">A. 철수님, 안녕하세요. 페미니즘에 대한 오해와 왜곡, 반동(백래시)이 극심한 요즈음, '여자친구가 페미니스트'라는 이유로 고민하고 계실 분들이 적지 않을 것으로 보입니다. 모든 연인들이 완전히 같은 상황에 놓여 있지는 않겠지만요. 먼저 이 같은 질문으로 오늘 이야기를 시작해볼까요. <strong>철수님이 생각하는 페미니즘은 무엇인가요?</strong></p><p class="editor-p">흔히 페미니즘은 '여성 운동' 혹은 '여권 향상'을 위한 활동이나 생각으로 이해됩니다. 동서고금을 막론하고 <strong>불균형한 젠더 권력으로 구성된 세상을 조금 더 평등하게 만드는 움직임 혹은 세상을 바라보는 인식론을 페미니즘</strong>이라 할 수 있죠. </p><p class="editor-p">여러 페미니스트의 정의를 살펴보면요. 미국의 페미니즘 사상가 벨 훅스는 <a href="https://www.hankookilbo.com/News/Read/A2022071909560002014?did=NA" target="_blank">"페미니즘은 성차별주의와 그에 근거한 착취와 억압을 끝내려는 운동(모두를 위한 페미니즘)"</a>이라고 했어요. 여성학자 정희진은 "페미니즘은 협상, 생존, 공존을 위한 운동"이라며 "여성운동은 남자 시스템에 저항하는 것이라기보다는, 남성의 세계관과 경험만을 보편적인 인간의 역사로 만드는 힘을 조금 상대화시키자는 것(페미니즘의 도전)"이라 했어요.</p><p class="editor-p">게다가 <strong>성평등은 남성들에게 부과된 성 역할 부담을 경감하기도 합니다.</strong> 2018년의 연구에 따르면, 성평등에 어떠한 태도를 가지고 있느냐에 따라 남성들의 신체와 정신 건강에도 차이가 있었어요. 전통적 남성성으로부터 멀어질수록 <span style="background-color: initial;">삶의 만족도, 관계만족도, 자아존중감이 커지는 경향을 보였어요. </span>(마경희 등, <a href="https://www.kwdi.re.kr/publications/reportView.do?p=4&amp;idx=122958" target="_blank">'성불평등과 남성의 삶의 질에 관한 연구'</a>)</p><p class="editor-p">이런 관점에서 봤을 때 젠더 권력의 불평등을 바로잡고, 여성의 권리를 확장하는 데 동의하는 페미니스트 연인이 큰 문제가 될까요. 오히려 사랑하는 상대를 위해 여성 권리 향상에 힘을 보태는 결말을 상상할 수 없을까요. 성평등은 '제로 섬 게임'이 아닙니다.</p><div class="editor-img-box"><img src="https://newsimg.hankookilbo.com/cms/articlerelease/2022/12/01/279e5c28-ab8f-4e42-8c98-bbb4bc2682de.jpg" ><div class="caption"><p>안티 페미니스트들은 '여성 상위 시대', '남성 역차별' 등을 주장하고 있지만 기실 가정과 사회, 일터 등에서 한국 여성이 놓인 처지는 조금도 녹록지 않다. 9월 22일 서울 종로구 보신각 앞에서 여성노동연대회의가 주관한 신당역 살인사건 추모 집회에서 참가자들이 구호를 외치고 있다. 이수연 피디</p></div></div><p class="editor-p"><strong>Q. 성평등 좋죠. 여성 권리 향상도 동의하고요. 하지만 우리나라의 페미니즘은 '여성우월주의'로 변질되었다고들 해요. 온라인에서 '한남충'이라는 단어가 난무할 정도로 남성에 대한 적대감도 크고요. 제 여자친구도 그런 생각에 경도되어 있을까 무섭습니다.</strong></p><p class="editor-p">A. 페미니즘의 흐름 중에 남성과의 결합이나 인구 재생산을 거부하는 부류가 있는 것은 맞습니다. 최근 20대 여성들 내에서 확산하는 4B운동(결혼과 출산, 연애, 성관계 등을 거부하는 페미니스트 운동)도 그 일례이지요. 이 모든 것은 개인이 '선택'할 수 있는 삶의 방식입니다. 페미니즘뿐 아니라 어떤 사상이라 할지라도 개인에 따라 다양한 실천과 행동양식을 가지는 것은 자연스러운 일이지요.</p><p class="editor-p">철수님, 한국의 페미니스트와 페미니즘 운동은 굉장히 많은 법과 제도의 변화를 이끌어 왔습니다. 1987년 남녀고용평등법이 제정되었고, 2005년 호주제 폐지를 골자로 한 민법 개정안이 통과되는 등 경제와 사회제도 영역에서 조금씩 변화가 시작되었습니다. 현존하는 제도 중 유일하게 '여성할당제' 성격을 가지고 있는 여성 비례대표 할당제나 여성이사를 최소 1명 두게 하는 자본시장법(올 8월부터 시행)은 해외 사례에 비해 아주 궁색한 정도의 제도적 성평등 보정장치이지만, 그마저도 처벌규정이 없고 강제되지 않아 여성할당이 무척 더디게 이뤄지고 있습니다. 참고로 유럽연합(EU)은 2026년부터 모든 상장기업에 비상임 이사의 40%를 여성으로 채우도록 의무화했습니다. '단 한 명'이라도 여성 이사를 두게 하는 법이 몇 달 전 시행된 한국과는 사뭇 다르죠. 그 밖에 성범죄 피해 비율이나 빈곤율, 성별 임금 격차 등을 살펴보아도 대부분 여성의 삶은 남성의 삶에 한참 못 미칩니다. 법과 제도가 품지 못하는 사적 관계에서의 불평등은 어떻고요. '특권을 느끼지 못하며 살아온 것' 그 자체가 특권일 수 있는 것이고, '남성부' 같은 부처가 없어도 살아올 수 있었던 것 자체가 특권일 수 있는 것이지요. </p><p class="editor-p">당장 철수님더러 페미니즘에 동의하라는 이야기가 아닙니다. 페미니스트와 연애를 이어나가실 계획이라면, 적어도 철수님이 가지고 있는 '페미니즘'에 대한 오해를 풀기 위해 페미니즘은 무엇이며 한국에서 어떤 변화를 이끌어 왔는가를 길게 설명할 필요를 느꼈습니다. 페미니즘에 반감을 가질 수는 있지만, 과연 그것이 온라인상 마타도어나 왜곡이 아닌 실체적 진실에 기반을 두고 있는지를 다시 한번 상기하기 위해서요.</p><p class="editor-p"><strong>Q. 솔직히 페미니스트와 연애를 하는 것이 처음이다 보니 어떻게 해야 할지 여전히 혼란스럽습니다. 그 점만 제외하면 지금 여자친구가 무척 좋거든요. 자기 의견도 확실하고, 의존적이지 않은 모습에 반했어요. 그런데 페미니즘 관련해서도 이렇게 의견이 강할 줄이야... 원만한 연애가 가능할지 모르겠습니다.</strong></p><p class="editor-p">A. "사랑과 연애는 오늘날 우리가 원하는 자유와 평등이 가장 첨예하게 각축을 벌이는 장이 되었고, 이런 긴장과 갈등은 섹슈얼리티를 통해 표출되며, 경제와 결혼 그리고 가족은 예전보다 더욱 복잡하게 얽혀 사랑에 대한 우리의 기대에 영향을 미치고 있다." </p><p class="editor-p">친밀한 관계 맺기와 사랑에 대하여 젠더를 통해 풀어낸 책 '이토록 두려운 사랑'의 저자 김신현경은, 오늘날 사랑과 연애에 대한 사람들의 기대가 혼란 또는 두려움으로 뒤덮이고 있다고 말합니다. '사람들이 자유롭고 평등하지 않은' 곳에서 남녀가 어찌 자유롭고 평등한 연애와 결혼 관계를 맺을 수 있겠느냐는 질문을 던지면서 말이죠. </p><p class="editor-p">페미니즘이 지향하는 바가 결국 '성평등'인 만큼, 친밀한 관계에서 상호 합의하에 평등을 추구하는 것이야말로 건강한 연애를 발전시켜 나가는 첫걸음이 될 수 있습니다. <strong>'평등'이라는 말은 좋은데, 연애생활에서 어떻게 해야 할지 잘 모르겠다고요? </strong><a href="https://www.hankookilbo.com/Collect/7535" target="_blank">젠더무물</a>에서 정리해드릴게요.</p><div class="editor-img-box"><img src="https://newsimg.hankookilbo.com/cms/articlerelease/2022/12/01/52b1f449-551e-4ce4-a24b-f38e35889d2c.jpg" ><div class="caption"><p>게티이미지뱅크</p></div></div><p class="editor-p"><br></p><div class="div-line"></div><h3 class="editor-tit">① 헤게모니적 남성성에서 벗어나기</h3><p class="editor-p"><strong>'헤게모니적 남성성(전통적 남성성)'</strong>은 <u style="text-decoration: underline;">특정 시공간에서 이상적인 남성성이라고 동의되고, 남성 중심 체제를 유지하는 데 필수적인 남성성</u>을 일컫습니다. 예컨대 한국 사회에서는 '규범적 가족 형태'로 여겨지는 4인 가족을 부양하고, 가부장의 권위를 누리며, 학벌이나 직업 등을 갖춘 남성을 표준적 남성으로 상정해 왔죠. </p><p class="editor-p">여성들도 사회에 활발하게 진출하고 경제 활동을 하며 스스로를 부양할 수 있게 되면서 최근 들어 전통적 남성성이 크게 흔들리고 있어요. 모든 남성이 이 같은 남성성을 갖출 수 있는 것도 아닙니다. 자연스럽게 남성 집단 안에서도 우월한 조건을 갖춰 연애와 결혼을 수월하게 하는 이가 있는가 하면, 그렇지 못해 자기비하에 빠지는 이들도 생겨나기 마련이죠. 이는 문화권을 가리지 않는데, 서양에서는 이처럼 지배적인 남성 집단에서 도태되어 연애와 결혼을 모두 포기한 채, 온라인에서 여성혐오 여론을 만들어내는 이들을 '인셀(involuntary celibacy·비자발적 독신)'이라고 부릅니다.</p><p class="editor-p">그런데 위에서 언급했듯, <strong>오히려 전통적 남성성에서 벗어날수록 남성 개인의 삶도 윤택해지고 관계맺기도 수월해집니다.</strong> 심지어 김신현경은 같은 책에서 "여성 혹은 남성으로서의 나는 이 사회에서 어떤 여성성과 남성성을 습득해왔고, 때로는 저항해왔으며, 그 결과 친밀한 관계에서 무엇을 원하는 사람이 되었는지 알려고 하는 노력이 필요하다"고 말합니다. 사회에서 자신이 놓인 위치와 부여된 성 규범 등을 비판적으로 성찰함으로써, 더 나은 관계 맺기가 시작될 수 있다는 거죠. </p><p class="editor-p"><strong>철수씨는 어떤 남성인가요? 사회가 요구하는 '남자는 어떠해야 한다'는 기준이 답답하거나 족쇄처럼 느껴진 적은 없나요?</strong></p><div class="div-line"></div><h3 class="editor-tit">② 페미니즘을 대안으로 상상하기</h3><p class="editor-p">이한 성교육 활동가는 2019년 페미니즘을 접한 남성들을 대상으로 인터뷰 연구를 진행했어요. 그 결과 "많은 남성이 페미니즘을 접한 이후 자신의 삶이 변화했고, 자신의 삶부터 변화시켰다"고 답했다고 해요. 더 나아가 여성혐오 문화가 공공연하게 공유되는 남성 집단에서 벗어나는 행동을 취하기도 합니다. 연구에 포함된 남성들의 말을 옮겨보자면요.</p><p class="editor-p"><em style="font-style:italic;">"페미니즘을 접하기 전까지 제가 되게 남성적이지 않은 사람이라는 열등감이 있었어요. 그런 것에 대한 압박이 있었는데, 페미니즘을 접하고 나서 '나는 그냥 나면 되는구나'라는 깨달음이 생겼죠. 소위 정상적이어야 한다는 압박에서 자유로워졌어요."</em></p><p class="editor-p"><em style="font-style:italic;">"페미니즘을 접한 이후에야 여성들과 친구가 될 수 있었어요. 그 이전까지는 부끄럽다는 식으로 생각했거든요. 지금 생각해보면 여성을 대상화, 타자화된 존재 외의 어떤 것으로 볼 수 없었던 것 같아요. 페미니즘을 접한 이후로 '다들 사람이구나' 생각하게 됐고요."</em></p><div class="div-line"></div><h3 class="editor-tit">③ 페미니스트 연인과 대화하기</h3><p class="editor-p">남성 집단에만 속해 있다 보면 성평등에 무감각해지기 쉽지만, 기실 오늘날 페미니즘은 한국 사회를 뒤흔드는 첨예한 이슈로 부상했습니다. 한국여성정책연구원의 2018년 조사에 따르면 우리나라 20대 여성 중 절반이, 남성 10명 중 1명이 자신을 '페미니스트'라고 인식하고 있다고 답했습니다. 4년 전 결과임을 감안하면, 오늘날 이 간극은 더 벌어졌을 가능성이 큽니다.</p><p class="editor-p">2019년 한국여성정책연구원 세미나의 '변화하는 남성성과 성차별(마경희)' 발표에 따르면, 페미니즘을 '신문, TV, 방송'이나 '온라인 커뮤니티, 1인 방송, SNS' 등을 통해 접한 이들의 42.1%가 반페미니즘 성향을 보였어요. 반면 '주변인으로부터의 정보'로 페미니즘을 접한 경우 63.2%가 반성차별주의 성향을 보였고요. 위에 언급한 이한 활동가의 연구에서도, '전통적 남성성'을 거부하고 페미니즘을 삶에 들인 남성들은 공통적으로  연인, 친구, 직장 동료, 가족 등 애정과 신뢰에 기반을 둔 이의 조력을 받은 경험이 있다고 해요.</p><p class="editor-p"><strong>철수씨가 지금까지 접한 페미니즘에 대한 정보는 어디에 기인하나요? 페미니즘으로 인한 '남성 역차별' 주장의 대부분이 온라인상 정보에 근거하지 않는가요? 그렇다면 여자친구와 이번 기회에 페미니즘에 대한 대화를 나눠보는 건 어떨까요.</strong></p><p class="editor-p"><strong>※ 참고 자료</strong></p><p class="editor-p">-이토록 두려운 사랑(2018), 김신현경. </p><p class="editor-p">-모두를 위한 페미니즘(2017), 벨 훅스 지음, 이경아 옮김.</p><p class="editor-p">-페미니즘의 도전(2005), 정희진.</p><p class="editor-p">- 한국여성정책연구원, &lt;2019 변화하는 남성성을 분석한다: 성평등 정책의 확장을 위해&gt;, (2019.4.18.)</p><p class="editor-p">- 마경희, 조영주, 문희영, 이은아, 이순미(2018), “성불평등과 남성의 삶의 질에 관한 연구”, 서울: 한국여성정책연구원</p><p class="editor-p">- 이한(2019), "남성페미니스트를 찾아서: 페미니즘 운동 내 남성의 역할과 활동 고민", 서울: 서울NPO지원센터</p><p class="editor-p"><strong>※ '젠더무물' 연재를 11회로 종료합니다. 허스펙티브의 새로운 연재와 뉴스레터로 다시 만나요!</strong></p><div class="editor-img-box"><img src="https://newsimg.hankookilbo.com/cms/articlerelease/2022/11/02/0a01b953-5508-4452-8f69-51153a725c9e.png" ><div class="caption"><p>그래픽=박길우 디자이너</p></div></div><p class="editor-p"><br></p><p class="editor-p"><br></p><p class="editor-p"><br></p><div class="writer"><span class="name">이혜미 허스펙티브랩장 herstory@hankookilbo.com</span></div><!-- 해시태그 //-->
<!--// 해시태그 끝-->
<!-- 제보를 기다립니다 //-->
<!--// 제보를 기다립니다 끝-->

<div class="btn-area">
    <button id="article-like-btn" class="btn-like" title="공감">
            <span class="icon"></span>
            <span id="bottom-like-cnt" class="count">0</span>
        </button>
        <button id="article-dislike-btn" class="btn-unlike" title="비공감">
            <span class="icon"></span>
            <span id="bottom-dislike-cnt" class="count">0</span>
        </button>
    <!-- .tooltip-box -->
    <div class="tooltip-box">
        <button class="btn-share open-tip" title="공유">
            <span>공유</span>
        </button>
        <ul class="tooltip share-list">
            <li class="kakao"><a href="javascript:onClickShareKakao()"><span class="blind">카카오</span></a></li>
            <li class="facebook"><a href="javascript:;"
                                    onclick="onClickShareFB()"
                                    class="btn-close"><span class="blind">페이스북</span></a></li>
            <li class="twitter"><a href="javascript:;" data-js="twitter-share" class="btn-close"
                                   onclick="onClickShareTwitter()"><span
                class="blind">트위터</span></a></li>
            <li class="email"><a href="javascript:;" class="btn-close" onclick="onClickShareEmail()"><span class="blind">이메일</span></a>
            </li>
            <li class="url toast-box"><a href="javascript:;" class="btn-close btn-copy"
                                         onclick="copyCurrentUrlToClipboard()"><span
                class="blind">URL</span></a></li>
        </ul>
        <!-- .toast-popup -->
        <div class="toast-popup left">
            <p>기사 URL이 복사되었습니다.</p>
        </div>
        <!-- 복사된 값이 저장됨 -->
        <input type="hidden" class="copied-value">
        <!-- // .toast-popup -->
    </div>
    <!-- // .tooltip-box -->
    <!-- .tooltip-box .bookmark-box -->
    <div class="tooltip-box bookmark-box">
        <button id="bottom-save-article-btn" class="btn-bookmark" title="기사저장" onclick="onClickSaveArticleBtn()">
            <span>기사저장</span>
        </button>
</div>
    <!-- // .tooltip-box .bookmark-box -->
    <!-- // .tooltip-box .bookmark-box -->
    <button class="btn-goto-comment" title="댓글쓰기">
        <span class="text">댓글 쓰기</span>
    </button>
</div>

<div class="more-news">
            <div class="more-news-container">
                <div class="more-news-related">
                    <h3>이 기사와 관련된 기사</h3>
                    <ul id="related-article-list">
                    </ul>
                </div>
            </div>
            </div>
    <!-- // 사설 구독 -->
    <div class="edit-subscribe">
        <div class="tit-text">
            <strong><a href="/Collect/S2022052509490003290">젠더무물</a></strong>
            <a href="javascript:void(0)" class="btn-subsc" onclick="onClickSubscribeArticleBtn('bottom')">
                <span class="blind">구독하기</span>
            </a>
            </div>
        <ul class="edit-subscribe-list">
            <li>
                    <a href="/News/Read/A2022110213150005119">
                        <div class="img-box">
                            <img src="https://newsimg-hams.hankookilbo.com/2022/12/01/53eb813a-4bfa-4910-a672-55924b8d44e0.jpg" alt="">
                            <img src="https://newsimg.hankookilbo.com/cms/articlerelease/2022/12/01/53eb813a-4bfa-4910-a672-55924b8d44e0.jpg" alt="">
                        </div>
                        <p class="lead">"여자친구가 페미입니다. 헤어져야 할까요"</p>
                    </a>
                </li>
            </ul>
    </div>
    <!-- // 사설 구독 -->
<div class="article-bottom-banner">
    <script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/p_news@640x75"></script>
</div>

<div class="newspaper-subscribe">
    <span class="ns-text">세상을 보는 균형, 한국일보<span class="copy">Copyright ⓒ Hankookilbo</span></span>
    <a href="http://company.hankookilbo.com/Subscription/apply.aspx" target="_blank" class="ns-link">신문 구독신청</a>
</div>

<input type="hidden" id="fileServer" value="https://newsimg.hankookilbo.com"/>
<script>
    var relatedType = 'default';
    var subscribeLocation;

    /**
     * 관련된 기사 조회
     */
    var url = '/article/A2022110213150005119/related';

    // 관련기사 목록 가져오기
    function getRelatedList(){
        if(relatedType === 'dable') return;
        //
        $.ajax({
            url: url,
            method: "GET",
            contentType: 'application/json',
            success: function(data) {
                // console.log('========== 관련된 기사 조회 성공 ==========');
                checkRelatedList(data);
            },
            error: function (req, stat, err) {

            }
        });
    }

    // 관련기사 목록 갯수 확인
    function checkRelatedList(data){
        var list = data.length > 4 ? data.slice(0, 4) : data
        drawRelatedList(list);
    }

    // 관련기사 그리기
    function drawRelatedList(data){
        for (var i = 0; i < data.length; i++) {
            var item = data[i];
            if (i === 0) {
                if ('General' !== 'Movie') {
                    var articleDt = item.articleDeployDt.replace('T', ' ').replace(/-/g, '.').substr(0, 16);

                    $('#related-article-list').append('<li data-type="article">\n' +
                        '                    <a href="' + getArticleUrl(item) + '?rPrev=' + 'A2022110213150005119' + '" target="_' + item.articleLinkTargetType + '">\n' +
                        '                        <div class="col-text">\n' +
                        '                            <div class="title">' + getArticleCutName(item) + item.articleTitle  + '</div>\n' +
                        '                        </div>\n' +
                        /*'                        <div class="col-img">\n' +
                        '                            <div class="img-box' + (item.articleContentsType == 'Movie' ? ' video' : '') + '">\n' +
                        '                                <img src="' + getArticleThumbnailFilePath($('#fileServer').val(), item.articleId, item.repAttach) + '" alt="">\n' +
                        '                            </div>\n' +
                        '                        </div>\n' +*/
                        '                    </a>\n' +
                        '                </li>')
                } else {
                    $('#related-article-list-video').append('<li>\n' +
                        '                                            <a href="' + getArticleUrl(item) + '?rPrev=' + 'A2022110213150005119' + '" target="_' + item.articleLinkTargetType + '">\n' +
                        /*'                                                <div class="col-img">\n' +
                        '                                                    <div class="img-box">\n' +
                        '                                                        <img src="' + getArticleThumbnailFilePath($('#fileServer').val(), item.articleId, item.repAttach) + '" alt="">\n' +
                        '                                                    </div>\n' +
                        '                                                </div>\n' +*/
                        '                                                <div class="col-text">\n' +
                        '                                                    <div class="title">' + getArticleCutName(item) + item.articleTitle + '</div>\n' +
                        '                                                </div>\n' +
                        '                                            </a>\n' +
                        '                                        </li>')
                }
            } else {
                if ('General' !== 'Movie') {
                    $('#related-article-list').append('<li><a href="' + getArticleUrl(item) + '?rPrev=' + 'A2022110213150005119' + '" target="_' + item.articleLinkTargetType + '">\n' +
                        '                                                <div class="title">' + getArticleCutName(item) + item.articleTitle  + '</div>\n' +
                        '                                            </a></li>')
                } else {
                    $('#related-article-list-video').append('<li>\n' +
                        '                                            <a href="' + getArticleUrl(item) + '?rPrev=' + 'A2022110213150005119' + '" target="_' + item.articleLinkTargetType + '">\n' +
                        '                                                <div class="title">' + getArticleCutName(item) + item.articleTitle + '</div>\n' +
                        '                                            </a>\n' +
                        '                                        </li>');
                }
            }
        }
    }

    // 관련기사 호출
    getRelatedList();



    /**
     * 기사 구독 버튼 클릭
     */
    function onClickSubscribeArticleBtn(location) {
        subscribeLocation = location;

        // 로그인 확인
        if (Cookies.get('accessToken') === undefined) {
            $('#sign-in-request-alert').openPopup();
            return;
        }
        if ($(event.target).hasClass('on')) {
            $('#delete-subscription-popup').openPopup();
            return;
        }
        subscribeTypeCheck();
    }


    /**
     * 구독 분기 함수
     */
    function subscribeTypeCheck(){
      if(subscribeLocation == 'JPAGE' || subscribeLocation == 'TAG'){
        subscribeArticleNew(subscribeLocation);
      }else{
        subscribeArticle();
      }
    }


    /**
     * 기사 구독
     */
    function subscribeArticle() {
        var usersSubscriptionPart = 'Series';
        var usersSubscriptionValue = 'S2022052509490003290';
        var seriesType = '';
        switch (usersSubscriptionPart){
            case 'SeriesColumn':
                seriesType = 'NEWS_SERIES'
                break;
            case 'Planning':
                seriesType = 'NEWS_PLANNING'
                break;
            case 'Series':
                seriesType = 'NEWS_PLANNING'
                break;
            case 'NameColumn':
                seriesType = 'NEWS_SERIES'
                break;
        }

        $.ajax({
            url: '/my/subscription',
            method: "POST",
            contentType: 'application/json',
            data: JSON.stringify({
                usersSubscriptionPart: seriesType,
                usersSubscriptionValue: usersSubscriptionValue
            })
        }).success(function (response) {
            var successYn = response;
            if (successYn) {
                if (successYn === 'Y') {
                    $('.btn-subsc').toggleClass('on');
                } else {
                    $('.btn-subsc').removeClass('on');
                }
            } else {
                // console.log('기사 구독 -> 실패')
            }
        }).fail(function (error) {
            //
        });

    }
    /**
     * 기자 구독
     */
    function subscribeArticleNew(location) {
        // 기사 구독 api를 쏜다 -> 중복체크는 controller에서 한다.
        if(location == 'JPAGE'){
            $.ajax({
                url: '/my/subscription',
                method: "POST",
                contentType: 'application/json',
                data: JSON.stringify({
                    usersSubscriptionPart: location,
                    usersSubscriptionValue: ''
                })
            }).success(function (response) {
                var successYn = response;
                if (successYn) {
                    // css를 바꾼다
                    // console.log('기사 구독 -> 성공');
                    $('.subsc-btn.jpage').toggleClass('on');
                    if ($('.subsc-btn.jpage').hasClass('on')) {
                        $('.subsc-btn.jpage').siblings('.add-pop').show();
                    } else {
                        $('.subsc-btn.jpage').siblings('.cancel-pop').show();
                    }
                } else {
                    // console.log('기사 구독 -> 실패')
                }
            }).fail(function (error) {
                //
            });
        }else if(location == 'TAG'){

            $.ajax({
                url: '/my/subscription',
                method: "POST",
                contentType: 'application/json',
                data: JSON.stringify({
                    usersSubscriptionPart: location,
                    usersSubscriptionValue: ''
                })
            }).success(function (response) {
                var successYn = response;
                if (successYn) {
                    // css를 바꾼다
                    // console.log('기사 구독 -> 성공');
                    $('.subsc-btn.tag').toggleClass('on');
                    if ($('.subsc-btn.tag').hasClass('on')) {
                        $('.subsc-btn.tag').siblings('.add-pop').show();
                    } else {
                        $('.subsc-btn.tag').siblings('.cancel-pop').show();
                    }
                } else {
                    // console.log('기사 구독 -> 실패')
                }
            }).fail(function (error) {
                //
            });
        }
    }
    /**
     * 기사 저장 버튼 클릭
     */
    function onClickSaveArticleBtn(location) {
        // 로그인 확인
        if (Cookies.get('accessToken') === undefined) {
            $('#sign-in-request-alert').openPopup();
            return;
        }

        // 기사 저장 api를 쏜다 -> 중복체크는 controller에서 한다.
        $.ajax({
            url: '/article/activity',
            method: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({
                articleId: 'A2022110213150005119',
                activityType: 'Save'
            }),
            success: function (response) {
                // console.log('기사 저장 -> 성공');
                var flag = response;
                if (flag) {
                    // 기사 저장 css 토글
                    $('.btn-bookmark').toggleClass('on');
                    $('.icon-toolbox-bookmark').toggleClass('on');
                    // on이면 추가 popup off면 제거 popup
                    if ($('.btn-bookmark').hasClass('on')) {
                        if (location === 'top') {
                            $('#top-save-article-popup').show();
                        } else {
                            $('#bottom-save-article-popup').show();
                        }
                    } else {
                        if (location === 'top') {
                            $('#top-delete-article-popup').show();
                        } else {
                            $('#bottom-delete-article-popup').show();
                        }
                    }
                    // css를 바꾼다
                } else {
                    // console.log('기사 저장 -> 실패')
                }
            },
            fail: function () {
                // console.log('기사 저장 -> 에러')
            }
        })
    }

    /**
     * 팝업 리스너들.. 외부 클릭시 숨긴다.
     */
    var bottomSaveArticlePopup = $('#bottom-save-article-popup');
    var bottomDeleteArticlePopup = $('#bottom-delete-article-popup');
    var bottomSubscriptionSavePopup = $('#bottom-subscription-save-popup');
    var bottomSubscriptionDeletePopup = $('#bottom-subscription-delete-popup');

    $(document).mouseup(function (e) {
        // if the target of the click isn't the container nor a descendant of the container
        if (!bottomSaveArticlePopup.is(e.target) && bottomSaveArticlePopup.has(e.target).length === 0) {
            bottomSaveArticlePopup.hide();
            bottomDeleteArticlePopup.hide();
            bottomSubscriptionSavePopup.hide();
            bottomSubscriptionDeletePopup.hide();
        }
    });


    // 본문 중간 광고 하단 공백 제거.
    $(document).ready(function(){
        $('.editor-p').each(function(i, dom){
            $.each(dom.childNodes, function(j, node){
                if(node.nodeType === 1 && String(node.tagName).toUpperCase() === 'BR' && (dom.dataset.breakType === undefined || dom.dataset.breakType !== 'text') ){
                    dom.dataset.breakType = 'break';
                }else{
                    dom.dataset.breakType = 'text';
                }
            })
            if(dom.dataset.breakType === 'break' && $(dom).prev().hasClass('end-ad-container')){
                $(dom).remove();
            }
        })

        $("button[name='hashtags']").on("click", function () {
            var tag = this.id
            var tagId = this.value
            var url ="/tag/info/"+tagId+'/'+tag+'?page=1';
            location.href = url;
        });
    })


</script>
<!-- 당신이 관심 있을만한 이슈 -->
<!-- 당신이 관심 있을만한 이슈 -->
<div data-el="topIssueArticles" class="more-articles">
    <h3>당신이 관심 있을만한 이슈</h3>
    <ul data-el="topIssueArticlesList" class="more-articles-list">
    </ul>
</div>
<!-- // 당신이 관심 있을만한 이슈 -->


<script>
    (function(window, document){
        function getTopIssues(pageNum) {
            var url = '/api/section/LIVEISSUE/page';
            $.ajax({
                url: url,
                method: 'GET',
                contentType: 'application/json',
            }).success(function (res) {
                var issuccess = false;
                var contents = [];
                if(Array.isArray(res.areas) && res.areas.length > 0){
                    var data = res.areas[0] || {};
                    var area = data.area || {};
                    var subAreas = data.subAreas;
                    if(area.areaType == "AREA_1" && Array.isArray(subAreas)){
                        issuccess = true;
                        contents = (subAreas[0] || {})['contents'] || [];
                    }
                }

                if(issuccess===false || contents.length < 1){
                    $('div[data-el="topIssueArticles"]').hide();
                    return;
                }

                var i=0, html = '', obj, article;
                contents = contents.length > 3 ? contents.slice(0, 3) : contents;
                for(;i<contents.length;i+=1){
                    obj = contents[i];
                    article = obj.article
                    var imgInfo = article.articleWebAttach || article.repAttach || {};
                    var imgPath = getFilePath($('#fileServer').val(), imgInfo.filePath);

                    html += '<li>\n' +
                        '            <a href="/Liveissue/' + obj.liveIssueId + '">\n' +
                        '                <p class="title"># ' + obj.liveIssueName + '</p>\n' +
                        '            </a>\n' +
                        '            <a href="/News/Read/' + article.articleId + '">\n' +
                        '                <div class="img-box ">\n' +
                        '                    <img src="' + imgPath + '" alt="">\n' +
                        '                </div>\n' +
                        '                <p class="lead">' + article.articleTitle + '</p>\n' +
                        '            </a>\n' +
                        '        </li>'
                }

                $('ul[data-el="topIssueArticlesList"]').empty().html(html)

            }).fail(function (err) {
                // console.log('라이브이슈 - 최근기사 조회-> 에러');
                $('div[data-el="topIssueArticles"]').hide();
            });
        }

        getTopIssues();
    })(window, document);
</script>

<!-- // 당신이 관심 있을만한 이슈 -->

<div class="end-ad-container">
    <div class="ad-item">
                    <script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage_1@640x200"></script>
                </div>
            </div>

<div class="end-ad-container">
    <!-- Dable 바이라인_그리드_PC / For inquiries, visit http://dable.io -->
    <div id="dablewidget_xXAVwBoG" class="dable-widget-light" data-widget_id="xXAVwBoG">
        <script>
            dable('renderWidget', 'dablewidget_xXAVwBoG');
        </script>
    </div>
    <div id="dablewidget_2o2K26r7" class="dable-widget-dark" data-widget_id="2o2K26r7">
        <script>
            dable('renderWidget', 'dablewidget_2o2K26r7');
        </script>
    </div>
</div>


<div class="end-ad-container">
    <ins class="adsbyaiinad" data-aiinad-inv="22214483024"></ins>
</div></div>
                <!-- floating-banner -->
                <div class="col-sub floating-banner">
                    <div class="side-link-box">
    <h2 id="topViewArticlesTitle"></h2>
    <ol id="topViewArticlesContainer">
        <li><a></a></li>
    </ol>
    <div class="side-ad-box">
        <script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage@wing_s"></script>
            </div>
    <h2><span class="keyword"><a href="/News/Society">사회</a></span> 많이 본 뉴스</h2>
        <ol id="topViewArticlesSubContainer">
            <li><a></a></li>
        </ol>
    </div>
<script>
    var sectionCd = 'SOCIETY';
    var seriesId = '';
    var url = '/top-articles?limit=5';
    if (sectionCd && sectionCd.length) {
        url += '&sectionCd=' + sectionCd;
    }
    if (seriesId && seriesId.length) {
        url += '&seriesId=' + seriesId;
    }

    // 많이 본 뉴스 조회
    $.ajax({
        url: url,
        type: 'GET',
        dataType: 'json',
        contentType: 'application/json',
        timeout: 30000,
        success: function (data) {
            var $title = $('#topViewArticlesTitle');
            $title.text(data.title ? data.title + ' 인기 기사' : '많이 본 뉴스');

            var $target = $('#topViewArticlesContainer');
            var $li = $target.find('li');
            $target.empty();
            var articles = data.articles;
            for (var i = 0; i < articles.length; i++) {
                var article = articles[i];
                var item = $li.clone();
                var html = '<p class="title">' +
                    '<span class="num">' + (i + 1) + '</span>' +
                    '<span class="text">' + article.articleTitle + '</span>' +
                    '</p>\n' +
                    '<div class="img-box">\n' +
                    '<img src="' + article.filePath + '" alt="">\n' +
                    '</div>'
                item.find('a').append(html);
                item.find('a').attr('href', article.articleUrl);
                item.find('a').attr('target', '_' + article.articleLinkTargetType);
                $target.append(item);
            }

            $target = $('#topViewArticlesSubContainer');
            if ($target) {
                $li = $target.find('li');
                $target.empty();
            }
            articles = data.sectionArticles;
            if (articles) {
                for (var i = 0; i < articles.length; i++) {
                    var article = articles[i];
                    var item = $li.clone();
                    var html = '<p class="title">' +
                        '<span class="num">' + (i + 1) + '</span>' +
                        '<span class="text">' + article.articleTitle + '</span>' +
                        '</p>\n' +
                        '<div class="img-box">\n' +
                        '<img src="' + article.filePath + '" alt="">\n' +
                        '</div>'
                    item.find('a').append(html);
                    item.find('a').attr('href', article.articleUrl);
                    item.find('a').attr('target', '_' + article.articleLinkTargetType);
                    $target.append(item);
                }
            }

        },
        error: function (req, stat, err) {
            // console.log(err);
        }
    }); // ajax
</script>
<div class="side-ad-box">
        <script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage_1@300x250"></script>
            </div>

    <!-- 데이블 영역 -->
    <div class="side-ad-box dable">
        <!-- Dable 우측상단_리스트_PC / For inquiries, visit http://dable.io -->
        <div id="dablewidget_Boxpb5o8" class="dable-widget-light" data-widget_id="Boxpb5o8">
            <script>
                dable('renderWidget', 'dablewidget_Boxpb5o8');
            </script>
        </div>
        <div id="dablewidget_V7a1md67" class="dable-widget-dark" data-widget_id="V7a1md67">
            <script>
                dable('renderWidget', 'dablewidget_V7a1md67');
            </script>
        </div>
    </div>

    <div class="side-ad-box">
        <script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage_2@300x250"></script>
            </div>

    <div data-el="sideLiveIssue" class="side-ad-liveissue type1">
        <h3>LIVE ISSUE</h3>
        <ul data-el="sideLiveIssueList">
        </ul>
    </div>

    <div class="side-ad-box">
        <script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage_3@300x250"></script>
            </div>

    <!-- 데이블 영역 -->
    <div class="side-ad-box dable">
        <!-- Dable 우측하단_리스트_PC / For inquiries, visit http://dable.io -->
        <div id="dablewidget_2o2NVAoe" class="dable-widget-light" data-widget_id="2o2NVAoe">
            <script>
                dable('renderWidget', 'dablewidget_2o2NVAoe');
            </script>
        </div>
        <div id="dablewidget_Ql915pal" class="dable-widget-dark" data-widget_id="Ql915pal">
            <script>
                dable('renderWidget', 'dablewidget_Ql915pal');
            </script>
        </div>
    </div>

    <div class="side-ad-box">
        <script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage_3@300x250"></script>
            </div>

    <script>
    (function(window, document){
        function getRecentIssues(pageNum) {
            var url = '/api/section/bottom-liveissues?Page=' + (pageNum || 1);
            // console.log('라이브 이슈 최근 이슈 조회 -> ' + url);
            $.ajax({
                url: url,
                method: 'GET',
                contentType: 'application/json',
            }).success(function (response) {
                var pageableResult = response;
                response.list = response.list || [];
                pageableResult.list = response.list.length > 3 ? response.list.slice(0, 4) : response.list
                // 초기화
                $('ul[data-el="sideLiveIssueList"]').html('');

                /**
                 * 최근 이슈
                 */
                for (var i = 0; i < pageableResult.list.length; i++) {
                    var item = pageableResult.list[i];
                    var article = item.articles.length ? item.articles[0] : null;
                    var articleImagePath = article ? getArticleThumbnailFilePath($('#fileServer').val(), article.articleId, article.repAttach) : '/images/Default-Image.png';
                    var appendItem = '';

                    appendItem += '<li>\n' +
                        '                <a href="/Liveissue/' + item.seriesId + '">\n' +
                        '                    <p class="title hash">' + item.seriesTitle + '</p>\n' +
                        '                    <p class="update-txt">관련기사 <span class="keyword">' + item.articleCnt + '</span> 건</p>\n' +
                        '                </a>\n' +
                        '                    <div class="content">\n' +
                        '                        <div class="body">\n' +
                        '                            <a href="/News/Read/' + article.articleId + '">\n' +
                        '                               <p class="lead">' + article.articleTitle + '</p>\n' +
                        '                            </a>\n' +
                        '                        </div>\n' +

                        '                        <a href="/News/Read/' + article.articleId + '">\n' +
                        '                           <div class="img-box">\n' +
                        '                                <img src="' + articleImagePath + '" alt="">\n' +
                        '                           </div>\n' +
                        '                        </a>\n' +
                        '                    </div>\n' +
                        '            </li>'


                    $('ul[data-el="sideLiveIssueList"]').append(appendItem)
                }



            }).fail(function (err) {
                // console.log('라이브이슈 - 최근기사 조회-> 에러');
                $('div[data-el="sideLiveIssue"]').hide();
            });
        }

        getRecentIssues();

        function getHashNews() {
            var url = '/api/section/bottom-hashNews?hashTagId=';
            $.ajax({
                url: url,
                method: 'GET',
                contentType: 'application/json',
            }).success(function (response) {
                var articles = response;

                $('ul[data-el="sideHashNewsList"]').html('');
                /*var articles = response.list;
                for (var i = 0; i < articles.length; i++) {
                    var article = articles[i];
                    //console.log("dddddd"+JSON.stringify(article.articleFilePath))
                    var appendItem = '';
                        appendItem += '<li>\n' +
                        '                <a href="/News/Read/' + article.articleId + '">\n' +
                        '                    <p class="title"><span class="text">' + article.articleTitle+ '</span></p>\n' +
                        '                    <div class="img-box">\n' +
                        '                       <img src="https://newsimg-hams.hankookilbo.com/' + article.articleFilePath + '" alt="">\n' +
                        '                    </div>\n' +
                        '                </a>\n' +
                        '            </li>'
                }*/
                $('ul[data-el="sideHashNewsList"]').append(articles)
                /*
                var pageableResult = JSON.stringify(response);
                response.list = response.list || [];
                console.log("해시 list : "+response.list);
                pageableResult.list = response.list.length > 3 ? response.list.slice(0, 4) : response.list
                // 초기화
                $('ul[data-el="sideHashNewsList"]').html('');

                /!**
                 * 최근 이슈
                 *!/
                for (var i = 0; i < pageableResult.list.length; i++) {
                    var item = pageableResult.list[i];
                    var article = item.articles.length ? item.articles[0] : null;
                    var articleImagePath = article ? getArticleThumbnailFilePath($('#fileServer').val(), article.articleId, article.repAttach) : '/images/Default-Image.png';
                    var appendItem = '';

                    appendItem += '<li>\n' +
                        '                <a href="/News/Read/' + item.articleId + '">\n' +
                        '                    <p class="title"><span class="text">' + item.articleTitle + '</span></p>\n' +
                        '                    <div class="img-box">\n' +
                        '                       <img src="' + item.articleFilePath + '" alt="">\n' +
                        '                    </div>\n' +
                        '                </a>\n' +
                        '            </li>'


                    $('ul[data-el="sideHashNewsList"]').append(appendItem)
                }*/



            }).fail(function (err) {
                // console.log('해시태그 연관 기사 - 최근기사 조회-> 에러');
                $('div[data-el="sideHashNews"]').hide();
            });
        }

        getHashNews();

        function getUsersSubscriptionCheckJpageId(type ,id) {
            var url = '/api/section/users-subscription-check?usersSubscriptionValue='+id+'&usersSubscriptionPart='+type;
            $.ajax({
                url: url,
                method: 'GET',
                contentType: 'application/json',
            }).success(function (response) {
                //console.log('기사 구독 상태 조회 -> 성공');
                //console.log(response);
                var successYn = response;
                if(successYn == "Y") {
                    if(type == 'JPAGE'){
                        $('.subsc-btn.jpage').addClass('on')
                    }else if(type == 'TAG'){
                        $('.subsc-btn.tag').addClass('on')
                    }
                } else if(successYn == "N") {
                    if(type == 'JPAGE'){
                        $('.subsc-btn.jpage').removeClass('on')
                    }else if(type == 'TAG'){
                        $('.subsc-btn.tag').removeClass('on')
                    }
                }
            }).fail(function (err) {
                console.log('기자 페이지 구독 조회-> 에러');
                $('div[data-el="sideHashNews"]').hide();
            });
        }
        getUsersSubscriptionCheckJpageId("JPAGE","");

        function getUsersSubscriptionCheckTagId(type ,id) {
            var url = '/api/section/users-subscription-check?usersSubscriptionValue='+id+'&usersSubscriptionPart='+type;
            $.ajax({
                url: url,
                method: 'GET',
                contentType: 'application/json',
            }).success(function (response) {
                //console.log('기사 구독 상태 조회 -> 성공');
                //console.log(response);
                var successYn = response;
                if(successYn == "Y") {
                    if(type == 'JPAGE'){
                        $('.subsc-btn.jpage').addClass('on')
                    }else if(type == 'TAG'){
                        $('.subsc-btn.tag').addClass('on')
                    }
                } else if(successYn == "N") {
                    if(type == 'JPAGE'){
                        $('.subsc-btn.jpage').removeClass('on')
                    }else if(type == 'TAG'){
                        $('.subsc-btn.tag').removeClass('on')
                    }
                }
            }).fail(function (err) {
                console.log('태그 구독 조회-> 에러');
                $('div[data-el="sideHashNews"]').hide();
            });
        }
        getUsersSubscriptionCheckTagId("TAG","");



    })(window, document);
</script>

</div>
                <!-- // floating-banner -->
                <!--  floating-tool -->
                <section class="side-tool-box-pnl">
    <ul class="side-tool-grp">
        <li class="item"><a href="javascript:void(0);" class="innerlink icon-toolbox-view-mode" >읽기모드</a></li>
        <li class="item"><a href="javascript:void(0);" class="innerlink icon-toolbox-text-size" >본문크기</a></li>
        <li class="item">
            <a href="javascript:void(0);" onclick="$('#bottom-save-article-btn').trigger('click')" class="innerlink icon-toolbox-bookmark">북마크</a>
        </li>
        <li class="item"><a href="javascript:void(0);" class="innerlink icon-toolbox-share">공유하기</a></li>
        <li class="item"><a href="javascript:void(0);" class="innerlink icon-toolbox-print" onclick="window.open('../Read/Print/' + 'A2022110213150005119', '')">프린트</a></li>
        <li class="item type2 divide-gray-line">
            <a href="javascript:void(0);" class="innerlink icon-toolbox-like" onclick="endBtnLike.$btn.trigger('click')">
                <span class="blind">좋아요</span>
                <span class="count3" id="bottom-like-cnt_side">0</span>
            </a>
        </li>
        <li class="item type2">
            <a href="javascript:void(0);" class="innerlink icon-toolbox-unlike" onclick="endBtnDislike.$btn.trigger('click')">
                <span class="blind">싫어요</span>
                <span class="count" id="article-dislike-btn_side">0</span>
            </a>
        </li>
        <li class="item type2">
            <a href="javascript:void(0);" class="innerlink icon-toolbox-cmmt">
                <span class="blind">댓글달기</span>
                <span class="count on" id="commentCntSpan_side">0</span>
            </a>
        </li>
    </ul>
    <!-- 읽기모드 설정 박스 //-->
    <ul class="tool-box bg-set">
        <li class="bg-set-rdo">
            <input type="radio" name="rdo_bg" id="rdo_bg_01" data-color="white">
            <label for="rdo_bg_01" title="배경 설정">
                <span class="blind">흰색 배경</span>
            </label>
        </li>
        <li class="bg-set-rdo bg-black">
            <input type="radio" name="rdo_bg" id="rdo_bg_03" data-color="black">
            <label for="rdo_bg_03" title="배경 설정">
                <span class="blind">검은색 배경</span>
            </label>
        </li>
    </ul>
    <!--// 읽기모드 설정 박스 -->
    <!-- 공유하기 설정 박스 //-->
    <ul class="tool-box share-list">
        <li class="kakao"><a href="javascript:onClickShareKakao()" class="btn-close"><span class="blind">카카오</span></a></li>
        <li class="facebook"><a href="javascript:;" onclick="onClickShareFB()" class="btn-close"><span class="blind">페이스북</span></a></li>
        <li class="twitter"><a href="javascript:;" data-js="twitter-share" onclick="onClickShareTwitter()" class="btn-close"><span class="blind">트위터</span></a></li>
        <li class="email"><a href="javascript:;" onclick="onClickShareEmail()" class="btn-close"><span class="blind">이메일</span></a></li>
        <li class="url toast-box">
            <a href="javascript:;" onclick="copyCurrentUrlToClipboard()" class="btn-close btn-copy"><span class="blind">URL</span></a>
        </li>
    </ul>
    <!--// 공유하기 설정 박스 -->
    <!-- 본문크기 설정 박스 //-->
    <ul class="tool-box scale type1">
        <div class="scale-set">
            <ul class="scale-set-list">
                <li class="item" data-size="14"><a href="javascript:;" class="innerlink scale-fs14">가</a></li>
                <li class="item" data-size="16"><a href="javascript:;" class="innerlink scale-fs16">가</a></li>
                <li class="item" data-size="18"><a href="javascript:;" class="innerlink scale-fs18 on">가</a></li>
                <li class="item" data-size="22"><a href="javascript:;" class="innerlink scale-fs22">가</a></li>
                <li class="item" data-size="26"><a href="javascript:;" class="innerlink scale-fs26">가</a></li>
            </ul>
        </div>
    </ul>
    <!--// 본문크기 설정 박스 -->
</section><!-- // floating-tool -->
            </div>
            <!-- // .inner -->
        </div>
        <!-- // .end-body -->

        <!-- .comment-area -->
    <div class="comment-area">
        <!-- .inner -->
        <div class="inner">
            <!-- .comment-title -->
            <h3 class="comment-title">댓글<span class="count">0</span>
            </h3>
            <!-- // .comment-title -->

            <!-- .comment-edit -->
            <div class="comment-edit">
                <button id="commentInputContainer" type="button" class="btn-open-edit">
                    댓글을 입력해 주세요.
                    <span class="btn-reg">등록</span>
                </button>
                <div class="textarea-wrap">
                    <div class="textarea">
                    <textarea onfocus="onFocusInput();" id="commentInput" rows="4" maxlength="250"
                              placeholder="댓글을 입력해 주세요."></textarea>
                    </div>
                    <div class="textarea-bottom">
                        <span id="commentInputCount" class="count"><strong>0</strong> / 250</span>
                        <button id="submitCommentButton" class="btn-reg" type="button" disabled
                                onclick="onClickSubmitComment()">등록
                        </button>
                    </div>
                </div>
            </div>
            <!-- // .comment-edit -->

            <!-- .comment-sort-tab -->
            <div class="comment-sort-tab">
                <a id="sortLike" href="javascript:onClickSort('like', this)" class="anchor on">좋아요순</a>
                <a id="sortRecent" href="javascript:onClickSort('recent', this)" class="anchor">최신순</a>

                <a href="javascript:onClickRefresh()" class="refresh">새로고침</a>
            </div>
            <!-- // .comment-sort-tab -->

            <!-- .comment-list -->
            <div class="comment-list">
                <ul id="comment-parent-container">
                </ul>
                <!-- // .list-paging -->
            </div>
            <!-- // .comment-list -->

            <div class="end-ad-container">
                <!-- Dable 하단_그리드_PC / For inquiries, visit http://dable.io -->
                <div id="dablewidget_Ql92GYX4" class="dable-widget-light" data-widget_id="Ql92GYX4">
                    <script>
                        dable('renderWidget', 'dablewidget_Ql92GYX4');
                    </script>
                </div>
                <div id="dablewidget_WXpBNRv7" class="dable-widget-dark" data-widget_id="WXpBNRv7">
                    <script>
                        dable('renderWidget', 'dablewidget_WXpBNRv7');
                    </script>
                </div>
            </div>

            <div class="end-ad-container">
                <div class="ad-item">
                    <script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage_3-1@640x250"></script>
                </div>
                <div class="ad-item">
                    <script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage_3-2@640x250"></script>
                </div>
            </div>

        </div>
        <!-- // .inner -->

        <!-- .banner-right -->
            <!-- // .banner-right -->
    </div>

    <!-- .ad-banner -->
    <!-- // .ad-banner -->

    <div class="popup-alert report-popup large">
        <h1 class="tit">
            댓글 신고
        </h1>
        <button class="btn-close" onclick="$('.report-popup').closePopup();">
            <span class="blind">닫기</span>
        </button>
        <div class="cont">
            <h2 class="tit">신고 사유를 선택해주세요.</h2>
            <div class="radio-list">
                <label>
                    <input type="radio" value="Discomfort" name="report-radio" checked>
                    <span>불쾌감 조성 (비방/욕설/인신공격)</span>
                </label>
                <label>
                    <input type="radio" value="IllegalAD" name="report-radio">
                    <span>불법 광고 또는 스팸</span>
                </label>
                <label>
                    <input type="radio" value="ObscenePost" name="report-radio">
                    <span>음란성 게시글</span>
                </label>
                <label>
                    <input type="radio" value="PersonalInfringement" name="report-radio">
                    <span>사생활 침해 또는 명예훼손</span>
                </label>
            </div>
        </div>
        <div class="btn-area">
            <!-- <button class="btn-box-black" type="button">확인</button> -->
            <button class="btn-black font-gray" type="button" onclick="$('.report-popup').closePopup();">취소</button>
            <button class="btn-black font-medium" type="button" onclick="onClickSubmitCommentReport()">확인</button>
        </div>
    </div>

    <div id="comment-delete-popup" class="popup-alert">
        <h1 class="tit">
            삭제 확인
        </h1>
        <div class="cont">
            <p>
                작성하신 글을 삭제하시겠습니까?
            </p>
        </div>
        <div class="btn-area">
            <button class="btn-gray" type="button" onclick="$('#comment-delete-popup').closePopup();">아니오</button>
            <button class="btn-black" type="button" onclick="deleteComment()">네</button>
        </div>
    </div>


    <script>
        var selectedComment;
        var selectedSort = 'likeCnt,desc';
        var commentData = {
            total: 0,
            list: [],
            pageNum: 0,
            pageSize: 0,
            size: 0,
            startRow: 0,
            endRow: 0,
            pages: 0,
            prePage: 0,
            nextPage: 0,
            isFirstPage: false,
            isLastPage: false,
            hasPreviousPage: false,
            hasNextPage: false,
            navigatePages: 0,
            navigatepageNums: [],
            navigateFirstPage: 0,
            navigateLastPage: 0,
        };
        // 페이징 시작 페이지
        var begin;
        // 페이징 끝 페이지
        var end;
        // 현재 url을 받는다
        var currentUrl = unescape(location.href);
        //파라미터만 자르고, 다시 &그분자를 잘라서 배열에 넣는다.
        var paramArr = (currentUrl.substring(currentUrl.indexOf("?") + 1, currentUrl.length)).split("&");
        // Page를 제외한 parameters
        var parameters = "";
        for (var i = 1; i < paramArr.length; i++) {
            parameters += "&" + paramArr[i];
        }
        var selectedOpinionIdForReport;
        var selectedOpinionIdForDelete;

        var sch = location.search;
        var params = new URLSearchParams(sch);
        var commentId = params.get('commentId');
        var commentPage = params.get('commentPage');
        var replyId = params.get('replyId');

        if (commentId != null && commentPage != null) {
            getComments('likeCnt,desc', commentPage);
        } else {
            // 페이지가 켜지면 댓글들을 받아온다
            getComments('likeCnt,desc', '0');
        }

        /**
         * 기사 댓글 달기 클릭시 로그인 체크
         */
        function onFocusInput() {
            if (Cookies.get('accessToken') === undefined) {
                $('#sign-in-request-alert').openPopup();
                return;
            }
        }

        /**
         * 기사 댓글 달기 클릭시 css 변화
         */
        function onFocusCommentInput(id) {
            if (Cookies.get('accessToken') === undefined) {
                $('#sign-in-request-alert').openPopup();
                return;
            }
            $('#commentReplyInput' + id).on('keyup', function (input) {
                if (input.target.value.length > 0) {
                    $('#commentSubmitButton' + id).prop("disabled", false)
                } else {
                    $('#commentSubmitButton' + id).prop("disabled", true)
                }
                $('#commentReplyInputCount' + id).html('<strong>' + input.target.value.length + '</strong> / 250');
            })
        }

        /**
         * 기사 답글 달기 클릭시 css 변화
         */
        function onClickCommentReplyInput(id) {
            if (Cookies.get('accessToken') === undefined) {
                $('#sign-in-request-alert').openPopup();
                return;
            }
            setTimeout(function () {
                $('#commentReplyInput' + id).focus();
            }, 100);

            $('#commentReplyInputContainer' + id).addClass('on');
        }

        /**
         * 댓글 신고 등록
         */
        function onClickSubmitCommentReport() {
            var selectedReportType = $("input[name='report-radio']:checked").val();
            // console.log(selectedReportType);
            if (selectedOpinionIdForReport !== undefined) {
                addReport(selectedOpinionIdForReport, selectedReportType);
            }
        }

        /**
         * 댓글 등록하기
         */
        function onClickSubmitComment() {
            //return false;
            $('#submitCommentButton').attr('disabled', true);

            var comment = $('#commentInput').val();
            if (comment.length < 251) {
                $.ajax({
                    url: '/article/A2022110213150005119/comment',
                    method: "POST",
                    contentType: 'application/json',
                    data: JSON.stringify({
                        contents: comment,
                    })
                }).success(function (response) {
                    $('#submitCommentButton').attr('disabled', false);
                    if (checkCondition(response) > 0) return;
                    getComments(selectedSort, commentData.pageNum);

                    $('#commentInput').val('');
                    $('#commentInputContainer').removeClass('on');
                    $('#commentInputCount').html('<strong>0</strong> / 250')
                }).fail(function (err) {
                });
            }
        }

        /**
         * 답글 등록하기
         */
        function onClickSubmitCommentReply(id) {
            //return false;
            $('#commentSubmitButton' + id).attr('disabled', true);

            var commentReply = $('#commentReplyInput' + id).val();
            var url = '/article/A2022110213150005119/comment';
            if (commentReply.length < 251) {
                $.ajax({
                    url: url,
                    method: "POST",
                    contentType: 'application/json',
                    data: JSON.stringify({
                        contents: commentReply,
                        opinionParentId: id
                    })
                }).success(function (response) {
                    $('#commentSubmitButton' + id).attr('disabled', false);
                    if (checkCondition(response) > 0) return;
                    getComments(selectedSort, commentData.pageNum);
                }).fail(function (err) {
                });
            }
        }

        /**
         * 답글 toggle - 열고 닫기
         */
        function onClickToggleReply(id) {
            $('#commentReply' + id).toggleClass('blind');
        }

        /**
         * 답글 전체보기 toggle 버튼 - 열고 닫기
         */
        function onClickShowAllReply(id) {
            // console.log(id);
            // console.log($('#commentReplyShowAllButton' + id).text());
            if ($('#commentReplyShowAllButton' + id).text() === '전체보기') {
                var children = $('#comment-children-container' + id).children();

                // 전체보기 클릭시 숨어있는 리스트 보여준다.
                for (var i = 0; i < children.length; i++) {
                    $(children[i]).removeClass('blind');
                }
                $('#commentReplyShowAllButton' + id).html("전체접기");
                $('#commentReplyShowAllButton' + id).toggleClass("on");
                $('#commentReply' + id).removeClass('blind');

            } else {
                $('#commentReplyShowAllButton' + id).html("전체보기");
                $('#commentReplyShowAllButton' + id).toggleClass("on");
                $('#commentReply' + id).addClass('blind');
                scrollTo(id);
            }
        }

        /**
         * 댓글 좋아요
         */
        function onClickLike(id) {
            addSympathy(id, 'Like')
        }

        /**
         * 댓글 싫어요
         */
        function onClickDislike(id) {
            addSympathy(id, 'Dislike');
        }

        /**
         * 댓글 신고
         */
        function onClickReport(id) {
            if (Cookies.get('accessToken') === undefined) {
                $('#sign-in-request-alert').openPopup();
                return;
            }
            // console.log(id);
            selectedOpinionIdForReport = id;
            $('.report-popup').openPopup();
        }

        /**
         * 댓글 삭제하기 팝업 오픈
         */
        function onClickDeleteComment(id) {
            selectedOpinionIdForDelete = id;
            $('#comment-delete-popup').openPopup();
        }

        /**
         * 댓글 삭제하기
         */
        function deleteComment() {
            //return false;
            if (selectedOpinionIdForDelete === undefined) {
                return;
            }
            var url = '/article/A2022110213150005119/comment/' + selectedOpinionIdForDelete;
            // console.log(url);
            $.ajax({
                url: url,
                method: 'DELETE'
            }).success(function (response) {
                // console.log('기사 댓글 삭제 -> 성공');
                // console.log(response);
                var flag = response;
                if (flag) {
                    alert("댓글이 삭제되었습니다.");
                    $('#comment-delete-popup').closePopup();
                    $('#comment-parent-container').empty();
                    getComments(selectedSort, commentData.pageNum);
                    selectedOpinionIdForDelete = undefined;
                } else {
                    alert("댓글 삭제 에러");
                    $('#comment-delete-popup').closePopup();
                    selectedOpinionIdForDelete = undefined;
                }
            }).fail(function (err) {
                // console.log('기사 댓글 삭제 -> 에러');
            });
        }

        /**
         * 공감 추가 함수
         */
        function addSympathy(id, type) {
            //return false;
            var url = '/comment/' + id + '?opinionSympathyType=' + type + '&articleId=A2022110213150005119';
            // console.log('공감 추가 -> ' + url);
            $.ajax({
                url: url,
                method: 'POST',
                contentType: 'application/json',
            }).success(function (response) {
                // console.log('공감 추가 -> 성공');
                if (response.code === '0000') {
                    if (type === 'Like') {
                        var button = $('#commentLikeButton' + id).html().toString();
                        var currentCount = parseInt(button.replace('<span class="thumb">좋아요</span>', ''));
                        $('#commentLikeButton' + id).addClass('on');
                        $('#commentLikeButton' + id).html('<span class="thumb">좋아요</span>' + (currentCount + 1));
                    } else if (type === 'Dislike') {
                        var button = $('#commentDislikeButton' + id).html().toString();
                        var currentCount = parseInt(button.replace('<span class="thumb">싫어요</span>', ''));
                        $('#commentDislikeButton' + id).html('<span class="thumb">싫어요</span>' + (currentCount + 1));
                        $('#commentDislikeButton' + id).addClass('on');
                    }
                } else if (response.code === 'EXIST_SYMPATHY') {
                    deleteSympathy(id, type);
                } else {
                    alert('댓글 공감 에러');
                }

                // console.log(response);
            }).fail(function (err) {
                // console.log('공감 추가 -> 에러');
            });
        }

        /**
         * 공감 제거 함수
         */
        function deleteSympathy(id, type) {
            //return false;
            var url = '/comment/' + id + '?opinionSympathyType=' + type + '&articleId=A2022110213150005119';

            // console.log('공감 삭제 -> ' + url);
            $.ajax({
                url: url,
                method: 'DELETE',
                contentType: 'application/json'
            }).success(function (response) {
                if (response.code === '0000') {
                    if (type === 'Like') {
                        var button = $('#commentLikeButton' + id).html().toString();
                        var currentCount = parseInt(button.replace('<span class="thumb">좋아요</span>', ''));
                        $('#commentLikeButton' + id).html('<span class="thumb">좋아요</span>' + (currentCount - 1))
                        $('#commentLikeButton' + id).removeClass('on');
                    } else if (type === 'Dislike') {
                        var button = $('#commentDislikeButton' + id).html().toString();
                        var currentCount = parseInt(button.replace('<span class="thumb">싫어요</span>', ''));
                        button.replace('<span class="thumb">싫어요</span>', '')
                        $('#commentDislikeButton' + id).html('<span class="thumb">싫어요</span>' + (currentCount - 1))
                        $('#commentDislikeButton' + id).removeClass('on');
                    }
                } else {
                    alert('댓글 공감 에러');
                }
            }).fail(function (err) {
            });
        }

        /**
         * 신고하기 함수
         */
        function addReport(id, reportType) {
            //return false;
            var url = '/comment/' + id + '?opinionSympathyType=Report&rptType=' + reportType;
            // console.log('신고하기 등록 -> ' + url);
            $.ajax({
                url: url,
                method: 'POST',
                contentType: 'application/json',
            }).success(function (response) {
                selectedOpinionIdForReport = undefined;

                // $('.popup-alert').closePopup();
                $('.report-popup').closePopup();

                if (response.code === '0000') {
                    alert("신고가 접수되었습니다.");
                    // 이미 공감이 있으면 삭제 없으면 추가
                } else if (response.code === 'EXIST_SYMPATHY') {
                    alert('이미 신고한 댓글입니다.');
                } else {
                    alert('댓글 신고 에러');
                }
            }).fail(function (err) {
                alert("신고하기 에러 발생");
                selectedOpinionIdForReport = undefined;
            });
        }


        /**
         * 기사 댓글 조회
         * @param sort
         * @param pageNum
         */
        function getComments(sort, pageNum) {
            //return false;
            $.ajax({
                url: '/article/operation/more/A2022110213150005119',
                method: "GET",
                contentType: 'application/json',
                async: false,
            }).success(function (response) {
                if (response != undefined && response != null && response != '') {
                    if (response.memberOpinionYn == 'N') {
                        $('.comment-area .inner').hide();
                        $('.comment-area').css({padding: 0});
                        return;
                    }
                }
            });

            var url = '/article/A2022110213150005119/comment?Page=' + pageNum + '&sort=' + sort;
            // console.log('기사 댓글 조회 -> ' + url);
            $.ajax({
                url: url,
                method: "GET",
                contentType: 'application/json'
            }).success(function (response) {
                commentData = response;

                // 토탈 댓글 개수 설정 위쪽
                $('#commentCntSpan').html('' + commentData.total + '');
                $('#commentCntSpan_side').html('' + commentData.total + '');
                $('#commentCntSpan_top').html('' + commentData.total + '');

                // 댓글 총 개수 설정 아래쪽
                $('.comment-title').html('댓글<span class="count">' + commentData.total + '</span>');

                // 리스트 초기화
                $('.comment-list').html('<ul id="comment-parent-container"></ul>');

                if (commentData.total !== 0) {
                    begin = (commentData.pageNum / 10) * 10 + 1;
                    if (commentData.pageNum % 10 === 0) {
                        begin -= 10;
                    }
                    end = begin + 9;
                    if (commentData.pages < begin + 9) {
                        end = begin;
                    }

                    // 댓글이 없을 때 보여지는 element 제거
                    $('.comment-empty').remove();

                    for (var i = 0; i < commentData.list.length; i++) {
                        // 아이템
                        var item;
                        // 삭제 or 신고 버튼
                        var deleteReportButton;
                        // 전체보기 버튼
                        var showAllButtonFlag = 'blind';

                        item = commentData.list[i];
                        item.contents = item.contents.replace(/\n/g, '<br>');
                        // 전체보기 버튼 유무 설정
                        if (item.children.length >= 10) {
                            showAllButtonFlag = '';
                        }

                        // 본인이 쓴 댓글이면 삭제 버튼, 타인이 쓴 댓글이면 신고 버튼
                        if (item.isOwner) {
                            deleteReportButton = '<a id="reportDeleteButton' + item.opinionId + '" href="javascript:onClickDeleteComment(\'' + item.opinionId + '\')" class="report">삭제</a>'
                        } else {
                            deleteReportButton = '<a id="reportDeleteButton' + item.opinionId + '" href="javascript:onClickReport(\'' + item.opinionId + '\')" class="report">신고</a>'
                        }

                        $('#comment-parent-container').append('<li class="comment-item" id="comment' + item.opinionId + '">\n' +
                            '  <!-- .comment-box -->\n' +
                            '  <div class="comment-box">\n' +
                            '    <div class="info">\n' +
                            '      <span class="id">' + item.penName + '</span>\n' +
                            '      <span class="date">' + getFormattedDate(item.createdDt, 'yyyy.mm.dd hh:mm') + '</span>\n' +
                            '      <span class="bar"></span>\n' +
                            deleteReportButton +
                            '    </div>\n' +
                            '    <div class="text">\n' +
                            '      ' + item.contents + '\n' +
                            '    </div>\n' +
                            '    <div class="tool">\n' +
                            '      <button type="button" class="btn-reply" onclick="onClickToggleReply(\'' + item.opinionId + '\')">답글<span class="count">' + item.children.length + '</span></button>\n' +
                            '      <div class="btn-area">\n' +
                            '        <button id="commentLikeButton' + item.opinionId + '" class="btn-thumbup" onclick="onClickLike(\'' + item.opinionId + '\')"><span\n' +
                            '            class="thumb">좋아요</span>' + item.likeCnt + '</button>\n' +
                            '        <button id="commentDislikeButton' + item.opinionId + '" class="btn-thumbdown" onclick="onClickDislike(\'' + item.opinionId + '\')"><span class="thumb">싫어요</span>' + item.dislikeCnt + '</button>\n' +
                            '      </div>\n' +
                            '    </div>\n' +
                            '  </div>\n' +
                            '  <div class="reply-list blind" id="commentReply' + item.opinionId + '">\n' +
                            '    <!-- .reply-edit -->\n' +
                            '    <div class="reply-edit" onclick="onClickCommentReplyInput(\'' + item.opinionId + '\')">\n' +
                            '      <button id="commentReplyInputContainer' + item.opinionId + '" type="button" class="btn-open-edit">답글을 입력 해주세요.\n' +
                            '        <span class="btn-reg">등록</span>\n' +
                            '      </button>\n' +
                            '      <div class="textarea-wrap">\n' +
                            '        <div class="textarea">\n' +
                            '          <textarea onfocus="onFocusCommentInput(\'' + item.opinionId + '\')" id="commentReplyInput' + item.opinionId + '" rows="3" maxlength="250"\n' +
                            '            placeholder="답글을 입력해 주세요."></textarea>\n' +
                            '        </div>\n' +
                            '        <div class="textarea-bottom">\n' +
                            '          <span id="commentReplyInputCount' + item.opinionId + '" class="count"><strong>0</strong> / 250</span>\n' +
                            '          <button id="commentSubmitButton' + item.opinionId + '" class="btn-reg" type="button" disabled onclick="onClickSubmitCommentReply(\'' + item.opinionId + '\')">등록</button>\n' +
                            '        </div>\n' +
                            '      </div>\n' +
                            '    </div>\n' +
                            '    <!-- // .reply-edit -->\n' +
                            '    <ul id="comment-children-container' + item.opinionId + '">\n' +
                            '      \n' +
                            '    </ul>\n' +
                            '    <!-- .btn-all -->\n' +
                            '    \n' +
                            '    <button id="commentReplyShowAllButton' + item.opinionId + '" class="btn-all ' + showAllButtonFlag + '"\n' +
                            '      onClick="onClickShowAllReply(\'' + item.opinionId + '\')">전체보기</button>\n' +
                            '    <!-- // .btn-all -->\n' +
                            '  </div>\n' +
                            '</li>');

                        // 답글
                        for (var j = 0; j < item.children.length; j++) {
                            var childrenItem = item.children[j];
                            childrenItem.contents = childrenItem.contents.replace(/\n/g, '<br>');
                            var blindClass = "";
                            var childDeleteReportButton;

                            // 본인이 쓴 댓글이면 삭제 버튼, 타인이 쓴 댓글이면 신고 버튼
                            if (childrenItem.isOwner) {
                                childDeleteReportButton = '<a id="reportDeleteButton' + childrenItem.opinionId + '" href="javascript:onClickDeleteComment(\'' + childrenItem.opinionId + '\')" class="report">삭제</a>'
                            } else {
                                childDeleteReportButton = '<a id="reportDeleteButton' + childrenItem.opinionId + '" href="javascript:onClickReport(\'' + childrenItem.opinionId + '\')" class="report">신고</a>'
                            }

                            if (j > 9) {
                                blindClass = "blind";
                            }
                            $('#comment-children-container' + item.opinionId).append('<li class="' + blindClass + '">\n' +
                                '  <div class="comment-box">\n' +
                                '    <div class="info">\n' +
                                '      <span class="id">' + childrenItem.penName + '</span>\n' +
                                '      <span class="date">' + getFormattedDate(childrenItem.createdDt, 'yyyy.mm.dd hh:mm') + '</span>\n' +
                                '      <span class="bar"></span>\n' +
                                childDeleteReportButton +
                                '    </div>\n' +
                                '    <div class="text">\n' +
                                '      ' + childrenItem.contents + '\n' +
                                '    </div>\n' +
                                '    <div class="tool">\n' +
                                '      <div class="btn-area">\n' +
                                '        <button id="commentLikeButton' + childrenItem.opinionId + '" class="btn-thumbup" onclick="onClickLike(\'' + childrenItem.opinionId + '\')"><span\n' +
                                '            class="thumb">좋아요</span>' + childrenItem.likeCnt + '</button>\n' +
                                '        <button id="commentDislikeButton' + childrenItem.opinionId + '" class="btn-thumbdown" onclick="onClickDislike(\'' + childrenItem.opinionId + '\')"><span\n' +
                                '            class="thumb">싫어요</span>' + childrenItem.dislikeCnt + '</button>\n' +
                                '      </div>\n' +
                                '    </div>\n' +
                                '  </div>\n' +
                                '</li>');
                        }

                    }

                    /**
                     * 페이징
                     */
                    var previousArrowStyle = '';
                    var nextArrowStyle = '';
                    var previousArrowClass = '';
                    var nextArrowClass = '';
                    // 첫페이지면 dim, 클릭불
                    if (commentData.pageNum === 1) {
                        previousArrowStyle = 'pointer-events: none'
                        previousArrowClass = 'off';
                    }
                    if (commentData.pageNum === commentData.pages) {
                        nextArrowStyle = 'pointer-events: none'
                        nextArrowClass = 'off';
                    }
                    $('.comment-list').append('<!-- .list-paging -->\n' +
                        '                <div class="list-paging">\n' +
                        '                        \n' +
                        '                    <a href="javascript:onClickPage(1)"\n' +
                        '                       style="' + previousArrowStyle + '"\n' +
                        '                       class="start ' + previousArrowClass + '">\n' +
                        '                        <span class="blind">처음</span>\n' +
                        '                    </a>\n' +
                        '                        \n' +
                        '                    <a href="javascript:onClickPage(\'' + ((parseInt(commentData.pageNum)) - 1) + '\')"\n' +
                        '                       style="' + previousArrowStyle + '"\n' +
                        '                       class="prev ' + previousArrowClass + '">\n' +
                        '                        <span class="blind">이전</span>\n' +
                        '                    </a>\n' +
                        '                    <ul id="pagination-container">\n' +
                        '                    </ul>\n' +
                        '                        \n' +
                        '                    <a href="javascript:onClickPage(\'' + ((parseInt(commentData.pageNum)) + 1) + '\')"\n' +
                        '                       style="' + nextArrowStyle + '"\n' +
                        '                       class="next ' + nextArrowClass + '">\n' +
                        '                        <span class="blind">다음</span>\n' +
                        '                    </a>\n' +
                        '                        \n' +
                        '                    <a\n' +
                        '                        \n' +
                        '                            href="javascript:onClickPage(\'' + commentData.pages + '\')"\n' +
                        '                       style="' + nextArrowStyle + '"\n' +
                        '                       class="end ' + nextArrowClass + '">\n' +
                        '                        <span class="blind">마지막</span>\n' +
                        '                    </a>\n' +
                        '                </div>\n' +
                        '                <!-- // .list-paging -->');

                    for (var k = 1; k < commentData.pages + 1; k++) {
                        var onClass = '';
                        if (commentData.pageNum === k) {
                            onClass = 'on'
                        }
                        $('#pagination-container').append('<li class="anchor ' + onClass + '"><a href="javascript:onClickPage(' + k + ')">' + k + '</a></li>\n');
                    }
                } else {
                    if ($('.inner .comment-empty').length === 0) {
                        $('#comment-parent-container').append("<li class=\"comment-item\"><div class=\"comment-box no-content\"><p class=\"comment-empty\">첫번째 댓글을 남겨주세요.</p></div></li>");
                    }

                }
                if (replyId != null) {
                    onClickToggleReply(commentId);
                }

                if (commentId != null) {
                    scrollTo(commentId);
                }

                // 댓글 최상단으로 이동
                if (pageNum !== '' && pageNum !== '0') {
                    document.getElementById("commentInputContainer").scrollIntoView();
                }

                // console.log('기사 댓글 조회 -> 성공');
                // console.log(response);
            }).fail(function (err) {
                // console.log('기사 댓글 조회 -> 에러');
            });
        }

        /**
         * 페이지 변경
         * @param pageNum
         */
        function onClickPage(pageNum) {
            getComments(selectedSort, pageNum);
        }

        /**
         * 새로고침 버튼 클릭
         */
        function onClickRefresh() {
            getComments(selectedSort, commentData.pageNum);
        }

        /**
         * 기사 댓글 Sort
         */
        function onClickSort(type) {
            // 좋아요 순 sort
            if (type === 'like') {
                if (selectedSort === 'likeCnt,desc') {
                    return;
                }
                selectedSort = 'likeCnt,desc';
                $('#sortLike').toggleClass('on');
                $('#sortRecent').toggleClass('on');
                getComments(selectedSort, '');
                // 최신 순 sort
            } else {
                if (selectedSort === 'createdDt,desc') {
                    return;
                }
                selectedSort = 'createdDt,desc';
                $('#sortLike').toggleClass('on');
                $('#sortRecent').toggleClass('on');
                getComments(selectedSort, '');
            }
        }

        /**
         * 해당 영역으로 스크롤
         * @param id
         */
        function scrollTo(id) {
            var offset = $('#comment' + id).offset();
            $('html, body').animate({scrollTop: offset.top - 200}, 400);
        }

        function checkCondition(response) {
            var returnVal = 0;

            if (response != undefined && response != null && response != '') {
                if (response.returnVal > 0) {
                    if (response.returnVal == 1) {
                        alert('댓글/답글은 60초 내에 한 개만 등록하실 수 있습니다.');
                    } else if (response.returnVal == 2) {
                        alert('이미 동일 내용의 댓글을 작성하였습니다.');
                    } else if (response.returnVal == 3) {
                        alert('댓글에 부적절한 표현이 포함되어 있네요.  건전한 댓글 문화를 위해 등록이 제한됩니다.');
                    } else if (response.returnVal >= 4) {
                        var abuserType = '댓글 쓰기 금지';
                        var abuserPeriod = response.UPDATED_DT.substr(0, 10) + ' ~ ' + response.PERIOD_DT.substr(0, 10);

                        if (response.returnVal == 5) abuserType = '기사당 한 개의 댓글만 가능';
                        else if (response.returnVal == 6) abuserType = '댓글 등록은 하루 한개만 가능';
                        if (response.ABUSER_PERIOD == '5') abuserPeriod = '영구금지';

                        alert(
                            '회원 게시물 관리(제 11조 3항)에 의거하여 댓글을 등록할 수 없습니다.\n' +
                            '제재 내용: ' + abuserType + '\n' +
                            '제재 기간: ' + abuserPeriod
                        );
                    }
                    returnVal = response.returnVal;
                }
            }

            return returnVal;
        }
    </script>
    <script src="/js/split/comment.js"></script>
    <!-- // .comment-area -->
<!-- dimmed -->
<div class="dimmed"></div>
<!-- //dimmed -->
<!-- popup-alert popup-login -->
<div class="popup-alert popup-login">
    <!-- side-area -->
    <div class="side-area">
        <h2>한국일보에<br>
            <strong>로그인</strong>하면 다양한<br>
            편의 기능을<br>
            제공 받을 수 있습니다.
        </h2>
        <ul>
            <li>
                <span class="graphic-04"></span>
                <span class="text">내 관심사대로 메인뉴스 설정</span>
            </li>
            <li>
                <span class="graphic-05"></span>
                <span class="text">구독한 콘텐츠 모아보기 제공</span>
            </li>
            <li>
                <span class="graphic-06"></span>
                <span class="text">주요기사와 추천, 활동내역 알림</span>
            </li>
        </ul>
    </div>
    <!-- // side-area -->

    <!-- .content-area -->
    <div class="content-area">
        <!-- .popup-header -->
        <div class="popup-header">
            <div class="logo"></div>
            <a href="javascript:;" class="btn-close" onclick="$('.popup-alert').closePopup(); refreshPage();"></a>
            <h2 class="tit">로그인</h2>
        </div>
        <!-- // .popup-header -->

        <!-- .cont -->
        <div class="cont">
            <!-- .login-sns -->
            <ul class="login-sns">
                <li class="naver" id="naver_id_login"></li>
                <li class="facebook" onclick="onClickFBLogin()">
                    <a href="javascript:;">
                        <span class="icon"></span>
                        <span class="text">페이스북 로그인</span>
                    </a>
                </li>
                <li class="kakao">
                    <a href="javascript:onClickKakaoLogin()">
                        <span class="icon"></span>
                        <span class="text">카카오 로그인</span>
                    </a>
                </li>
            </ul>
            <!-- // .login-sns -->

            <!-- form -->
            <!-- .login-input -->
            <ul class="login-input">
                <li>
                    <input id="loginId" type="text" placeholder="아이디" >
                </li>
                <li>
                    <input id="loginPassword" type="password" placeholder="비밀번호" maxlength="16" >
                    <p id="loginFailText" class="warn blind">아이디 또는 비밀번호를 잘못 입력했습니다.(연속 1회)</p>
                </li>
                <li class="secure-list" id="captchaArea" style="display: none">
                    <p class="guide type-image">아래 이미지를 보이는 대로 입력해주세요.</p>
                    <p class="guide type-sound" style="display: none;">스피커로 들리는 내용을 숫자로 입력해 주세요.</p>
                    <!-- .secure-num -->
                    <div class="secure-num type-image">
                        <!-- .img-box -->
                        <div class="img-box">
                            <img style="width: 100%; height: 100%;" id="imgCaptcha"></img>
                        </div>
                        <!-- // .img-box -->
                        <ul class="controller">
                            <li>
                                <a href="javascript:refreshCaptcha()">
                                    <span class="icon-refresh"></span>
                                    <span class="text">새로고침</span>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:refreshCaptcha('sound')">
                                    <span class="icon-sound"></span>
                                    <span class="text">음성으로 듣기</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="secure-num type-sound" style="display: none">
                        <!-- .img-box -->
                        <div class="img-box">
                            <img style="width: 100%; height: 100%; background: url(https://static.nid.naver.com/images/web/user/sp_ico_captcha.gif) no-repeat;"></img>
                            <audio id="audioCaptcha" autoplay></audio>
                        </div>
                        <!-- // .img-box -->
                        <ul class="controller">
                            <li>
                                <a href="javascript:refreshCaptcha()">
                                    <span class="icon-refresh"></span>
                                    <span class="text">새로고침</span>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:refreshCaptcha('image')">
                                    <span class="icon-sound"></span>
                                    <span class="text">이미지로 보기</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <!-- // .secure-num -->
                    <!-- .input-word -->
                    <div class="input-word">
                        <input type="password" id="inputCaptcha" placeholder="자동입력 방지문자">
                    </div>
                    <!-- // .input-word -->
                </li>
                <li>
                    <button type="submit" class="btn-main" onclick="onClickSignIn()">로그인</button>
                    <div class="save-user">
                        <input type="checkbox" id="saveUser" name="saveUser" onchange>
                        <label for="saveUser">자동 로그인</label>
                    </div>
                </li>
            </ul>
            <!-- // .login-input -->
            <!-- // form -->
        </div>
        <!-- // .cont -->

        <!-- .popup-footer -->
        <div class="popup-footer">
            <!-- .go-enroll -->
            <div class="go-enroll">
                <a href="javascript:onClickSignUp()">
                    <span class="text">회원가입</span>
                    <span class="icon"></span>
                </a>
            </div>
            <!-- // .go-enroll -->

            <!-- .find-list -->
            <ul class="find-list">
                <li>
                    <a href="javascript:onClickFindPassword()">비밀번호 찾기</a>
                </li>
                <li>
                    <a href="javascript:onClickFindId()">아이디 찾기</a>
                </li>
            </ul>
            <!-- // .find-list -->
        </div>
        <!-- // .popup-footer -->
    </div>
    <!-- // .content-area -->
</div>
<!-- popup-alert popup-login -->

<!-- popup-alert no-account -->
<div id="sign-up-duplication-alert" class="popup-alert no-account">
    <h1 class="tit">
        중복 가입 요청
    </h1>
    <div class="cont">
        <p>
            이미 가입된 회원입니다.
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-black font-medium" type="button" onclick="$('.no-account').closePopup(); openSignInPopUp();">
            확인
        </button>
    </div>
</div>
<!-- popup-alert no-account -->

<!-- popup-alert auto-login -->
<div class="popup-alert auto-login">
    <h1 class="tit">
        자동 로그인
    </h1>
    <div class="cont">
        <p>
            공공장소에서 사용하는 컴퓨터에서는 자동 로그인 기능 사용에 유의 바랍니다.
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-gray font-medium" type="button" onclick="$('.auto-login').closePopup();">확인</button>
    </div>
</div>
<!-- popup-alert auto-login -->

<!-- popup-alert find-account -->
<div id="find-id-popup" class="popup-alert find-account">
    <!-- .popup-header -->
    <div class="popup-header">
        <a href="javascript:;" class="btn-close" onclick="$('.find-account').closePopup();"></a>
        <h2 class="tit">아이디 찾기</h2>
    </div>
    <!-- // .popup-header -->

    <!-- .cont -->
    <div class="cont">
        <!-- form -->
        <ul class="find-type">
            <li>
                <input id="findIdUserNameInput" type="text" placeholder="이름">
            </li>
            <li>
                <button class="btn-main" onclick="onClickFindIdPhoneAuth()">휴대폰 인증</button>
            </li>
        </ul>
        <!-- // form -->

        <div class="bottom-link">
            <a href="javascript:onClickFindPassword()">비밀번호를 잊으셨나요?</a>
        </div>
    </div>
    <!-- // .cont -->
</div>
<!-- popup-alert find-account -->

<!-- popup-alert find-result -->
<div id="find-id-result-popup" class="popup-alert find-result">
    <!-- .popup-header -->
    <div class="popup-header">
        <div class="logo"></div>
        <a href="javascript:;" class="btn-close" onclick="$('.find-result').closePopup();"></a>
        <h2 class="tit">아이디 찾기</h2>
    </div>
    <!-- // .popup-header -->

    <!-- .cont -->
    <div class="cont">
        <p id="find-id-guide-text" class="guide-text">손흥민/01012345678 으로 찾은 아이디 입니다.</p>
        <div class="result-box">
            <p id="find-id-id-text" class="user-id">user@hankookilbo.com</p>
            <!-- <p class="user-created">2019.11.05 가입</p> -->
        </div>
        <button class="btn-main" onclick="openSignInPopUp()">로그인</button>
    </div>
    <!-- // .cont -->
</div>
<!-- popup-alert find-result -->



<!-- 비밀번호 찾기 팝업 -->
<div id="find-password-popup" class="popup-alert find-account">
    <!-- .popup-header -->
    <div class="popup-header">
        <a href="javascript:;" class="btn-close" onclick="$('.find-account').closePopup();"></a>
        <h2 class="tit">비밀번호 찾기</h2>
    </div>
    <!-- // .popup-header -->

    <!-- .cont -->
    <div class="cont">
        <!-- form -->
        <input id="findPasswordUserIdInput" type="text" placeholder="아이디">
        <p class="ttl">인증방법 선택</p>
        <ul class="find-type">
            <li>
                <input type="radio" name="findType" id="findMail" class="find-mail" checked>
                <label for="findMail">등록된 이메일로 인증하기</label>
            </li>
            <li>
                <input type="radio" name="findType" id="findPhone" class="find-phone">
                <label for="findPhone">휴대폰으로 인증하기</label>
            </li>
            <li class="mail-field">
                <button id="findPasswordSendMailButton" class="btn-main" onclick="onClickFindPasswordSendMail()">인증메일 발송</button>
            </li>
            <li class="phone-field">
                <button class="btn-main" onclick="onClickFindPasswordPhoneAuth()">휴대폰 인증</button>
            </li>
        </ul>
        <!-- // form -->

        <div class="bottom-link">
            <a href="javascript:onClickFindId()">아이디를 잊으셨나요?</a>
        </div>
    </div>
    <!-- // .cont -->
</div>
<!-- popup-alert find-account -->

<!-- popup-alert no-account -->
<div id="find-id-no-account-popup" class="popup-alert no-account">
    <h1 class="tit">
        계정 정보 없음
    </h1>
    <div class="cont">
        <p>
            입력하신 사용자가 존재하지 않습니다.
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-black" type="button" onclick="$('.no-account').closePopup();">확인</button>
    </div>
</div>
<!-- popup-alert no-account -->

<div id="find-password-send-mail-complete-popup" class="popup-alert send-mail">
    <h1 class="tit">
        인증메일 발송
    </h1>
    <div class="cont">
        <p>
            인증메일이 발송되었습니다. 해당 메일 계정 확인바랍니다. (유효시간:15분)
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-gray" type="button" onclick="$('.send-mail').closePopup();">확인</button>
    </div>
</div>

<div id="find-password-request-id-popup" class="popup-alert request-id">
    <h1 class="tit">
        아이디 입력 요청
    </h1>
    <div class="cont">
        <p>
            비밀번호를 찾으실 아이디를
            <br>입력해주세요.
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-gray" type="button" onclick="$('.request-id').closePopup();">확인</button>
    </div>
</div>

<!-- 비밀번호 재설정 팝업 -->
<div id="find-password-change-password-popup" class="popup-alert find-account">
    <!-- .popup-header -->
    <div class="popup-header">
        <a href="javascript:$('.find-account').closePopup();" class="btn-close"></a>
        <h2 class="tit">비밀번호 재설정</h2>
    </div>
    <!-- // .popup-header -->
    <!-- .cont -->
    <div class="cont">
        <!-- form -->
        <ul class="find-type">
            <li>
                <input id="findPasswordChangePasswordInput" type="password" placeholder="비밀번호 (8~16자 영문 대소문자,숫자,특수문자)"
                       maxlength="16">
            </li>
            <li>
                <input id="findPasswordChangePasswordConfirmInput" type="password" placeholder="비밀번호 확인" maxlength="16">
                <p id="findPasswordChangePasswordGuideText" class="guide-msg blind">비밀번호가 일치합니다.</p>
            </li>
            <li>
                <button class="btn-main" onclick="onSubmitFindPasswordChangePassword()">확인</button>
            </li>
        </ul>
        <!-- // form -->
    </div>
    <!-- // .cont -->
</div>
<!-- popup-alert find-account -->

<div id="find-password-change-password-complete-popup" class="popup-alert password-change">
    <h1 class="tit">
        회원 정보 수정
    </h1>
    <div class="cont">
        <p>
            비밀번호가 변경되었습니다.
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-black font-medium" type="button" onclick="$('.popup-alert').closePopup(); openSignInPopUp()">확인</button>
    </div>
</div>

<div id="find-password-change-password-timeout-popup" class="popup-alert invalid-time">
    <h1 class="tit">
        재시도 요청
    </h1>
    <div class="cont">
        <p>
            유효 시간이 종료되었습니다.<br>
            다시 인증메일을 발송해주세요.
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-gray" type="button" onclick="window.close()">확인</button>
    </div>
</div>

<!-- 로그인 5회 이상 실패 팝업 -->
<div id="sign-in-fail-five-time-popup" class="popup-alert fail-login">
    <h1 class="tit">
        로그인 5회 연속 실패
    </h1>
    <div class="cont">
        <p>
            보안을 위해 비밀번호와 자동입력 방지문자를 함께 입력 바랍니다.
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-black" type="button" onclick="$('.fail-login').closePopup();">네</button>
    </div>
</div>
<!-- 로그인 5회 이상 실패 팝업 -->

<!-- popup-alert find-account -->
<div class="popup-alert find-account" id="findIdPopup">
    <!-- .popup-header -->
    <div class="popup-header">
        <a href="javascript:;" class="btn-close" onclick="$('.find-account').closePopup();"></a>
        <h2 class="tit">아이디 찾기</h2>
    </div>
    <!-- // .popup-header -->

    <!-- .cont -->
    <div class="cont">
        <!-- form -->
        <ul class="find-type">
            <li>
                <input type="text" placeholder="이름">
            </li>
            <li>
                <button class="btn-main">휴대폰 인증</button>
            </li>
        </ul>
        <!-- // form -->

        <div class="bottom-link">
            <a href="javascript:;" onclick="onClickFindPassword()">비밀번호를 잊으셨나요?</a>
        </div>
    </div>
    <!-- // .cont -->
</div>
<!-- popup-alert find-account -->
<script>
    var signUpType = 'None';
    var snsUserSignUpDto = {
        id: '',
        email: '',
        sex: '',
        birthDay: '',
        name: ''
    };
    // var niceVeryfiyInfo = {};
    var autoLoginFlag = false;
    var captchaEnabled = false;
    var authType;

    // 아이디 찾기
    var findIdUserId;

    // 비밀번호 찾기
    var findPasswordChangePasswordGuideText = $('#findPasswordChangePasswordGuideText');
    var isValidFindPasswordChangePassword = false;
    var findPasswordUserId;
    var findPasswordPassword;
    var findPasswordPasswordConfirm;
    var sendEmailTimeRemain = 900;

    var loginReplaceUrl = '';

    // 자동로그인 눌렀을 때 리스너
    $("#saveUser").on("ifChanged", function () {
        setTimeout(function () {
            autoLoginFlag = $('input:checkbox[id="saveUser"]').is(":checked");
            // // console.log(autoLoginFlag);
            if (autoLoginFlag) {
                $('.popup-alert.auto-login').openPopup();
            }
        }, 100);
    });

    if(Cookies.get('auth_key') != null) {
        $('#find-password-change-password-popup').openPopup();
    }

    /**
     * 아이디 찾기 본인인증 요청 함수
     */
    function onClickFindIdPhoneAuth() {
        findIdUserId = $('#findIdUserNameInput').val();
        if (findIdUserId !== undefined && findIdUserId.length !== 0) {
            $.ajax({
                type: "GET",
                url: '/users/exist?memName=' + encodeURIComponent(findIdUserId)
            }).success(function (response) {
                // console.log(response);
                // 사용자가 있으면
                var flag = response;
                if (flag) {
                    authType = 'idfind';
                    $('#find-id-popup').closePopup();
                    $('#findIdUserNameInput').val('');
                    openCpPopup();
                    // 사용자가 없으면
                } else {
                    $('#find-id-no-account-popup').openPopup();
                }
            }).fail(function (response) {
                // console.log('아이디 찾기 에러')
            });

        } else {
            // 아이디 입력 요청 팝업을 띄운다.
            $('#find-password-request-id-popup').openPopup();
        }
    }

    /**
     * 비밀번호 찾기 본인인증 요청
     */
    function onClickFindPasswordPhoneAuth() {
        findPasswordUserId = $('#findPasswordUserIdInput').val();
        if (findPasswordUserId !== undefined && findPasswordUserId.length !== 0) {
            $.ajax({
                type: "GET",
                url: '/users/exist?memId=' + findPasswordUserId
            }).success(function (response) {
                // console.log(response);
                // 사용자가 있으면
                var flag = response;
                if (flag) {
                    authType = 'pwfind';
                    $('#find-password-popup').closePopup();
                    openCpPopup();
                    // 사용자가 없으면
                } else {
                    $('#find-id-no-account-popup').openPopup();
                }
            }).fail(function (response) {
                // console.log('아이디 찾기 에러')
            });
        } else {
            // 아이디 입력 요청 팝업을 띄운다.
            $('#find-password-request-id-popup').openPopup();
        }
    }

    /**
     * 비밀번호 찾기 본인 인증 후 비밀번호 수정 버튼 클릭
     */
    function onSubmitFindPasswordChangePassword() {
        if (isValidFindPasswordChangePassword) {
            var password = $("#findPasswordChangePasswordInput").val();
            $.ajax({
                type: "PATCH",
                url: '/users/me/password',
                contentType: 'application/json',
                data: JSON.stringify({
                    memId: findPasswordUserId,
                    password: password,
                    authKey: Cookies.get('auth_key')
                })
            }).success(function (response) {
                // console.log(response);

                var flag = response;
                // 성공
                if (flag === "true") {
                    Cookies.remove('auth_key')
                    $('#find-password-change-password-popup').closePopup();
                    $('#find-password-change-password-complete-popup').openPopup();
                    // 실패
                } else if (flag === "false") {
                    alert('시간초과');
                    Cookies.remove('auth_key')
                } else if (flag === "error") {
                    $('#find-password-change-password-timeout-popup').openPopup();
                    Cookies.remove('auth_key')
                }
            }).fail(function (response) {
                $('#find-password-change-password-popup').closePopup();
                alert('에러 발생 - 인증요청을 다시 진행해주세요.');
                Cookies.remove('auth_key')
                window.close();

            });
        }
    }

    /**
     * 비밀번호 찾기 이메일 인증 보내기
     */
    function onClickFindPasswordSendMail() {
        findPasswordUserId = $('#findPasswordUserIdInput').val();
        if (findPasswordUserId !== undefined && findPasswordUserId.length !== 0) {
            /**
             * 해당 계정이 존재하는지 확인
             */
            $.ajax({
                type: "GET",
                url: '/users/exist?memId=' + findPasswordUserId
            }).success(function (response) {
                // console.log(response);
                var flag = response;
                // 사용자가 있으면
                if (flag) {
                    /**
                     * 계정이 존재하면 인증메일을 발송한다.
                     */
                    $.ajax({
                        type: "POST",
                        url: '/auth/password/send-email',
                        contentType: 'application/json',
                        data: JSON.stringify({
                            authTool: 'Email',
                            authDiv: 'pwfind',
                            reqEmail: findPasswordUserId
                        })
                    }).success(function (response) {
                        // console.log(response);
                        var flag = response;
                        if (flag) {
                            $('#find-password-send-mail-complete-popup').openPopup();
                            sendEmailTimeRemain = 900;
                            var minute;
                            var second;

                            var timer = setInterval(function() {
                                if (sendEmailTimeRemain == 0) {
                                    clearInterval(timer);
                                }
                                minute = parseInt(sendEmailTimeRemain / 60, 10);
                                second = sendEmailTimeRemain - minute * 60;

                                sendEmailTimeRemain--;
                                $('#findPasswordSendMailButton').html('인증메일 재발송( ' + ("00" + minute.toString()).slice(-2) + ':' + ("00" + second.toString()).slice(-2)  + ' )')
                            }, 1000);

                        } else {

                        }
                    }).fail(function (response) {
                        // console.log('아이디 찾기 에러')
                    });
                    // 사용자가 없으면
                } else {
                    $('#find-id-no-account-popup').openPopup();
                }
            }).fail(function (response) {
                // console.log('아이디 찾기 에러')
            });
        } else {
            // 아이디 입력 요청 팝업을 띄운다.
            $('#find-password-request-id-popup').openPopup();
        }
    }

    $("#findPasswordChangePasswordInput").on('keyup', function (input) {
        // comment = value;
        findPasswordPassword = input.target.value;
        // 비밀번호 정규식이 일치하지 않으면
        if (!passwordRegex.test(findPasswordPassword) && !passwordRegex2.test(findPasswordPassword)) {
            findPasswordChangePasswordGuideText.text('8~16자 영문 대소문자, 숫자 및 특수문자를 사용해주세요');
            findPasswordChangePasswordGuideText.removeClass('blind').addClass('warn');
            isValidFindPasswordChangePassword = false;
            // 비밀번호가 일치하지 않으면
        } else if (findPasswordPassword !== findPasswordPasswordConfirm) {
            findPasswordChangePasswordGuideText.text('비밀번호가 일치하지 않습니다.');
            findPasswordChangePasswordGuideText.removeClass('blind').addClass('warn');
            isValidFindPasswordChangePassword = false;
            // 비밀번호가 일치하면
        } else {
            findPasswordChangePasswordGuideText.text('비밀번호가 일치합니다.');
            findPasswordChangePasswordGuideText.removeClass('blind warn');
            isValidFindPasswordChangePassword = true;
        }
        // your code here
    });

    $("#findPasswordChangePasswordConfirmInput").on('keyup', function (input) {
        findPasswordPasswordConfirm = input.target.value;

        // 비밀번호 정규식이 일치하지 않으면
        if (!passwordRegex.test(findPasswordPasswordConfirm) && !passwordRegex2.test(findPasswordPasswordConfirm)) {
            findPasswordChangePasswordGuideText.text('8~16자 영문 대소문자, 숫자 및 특수문자를 사용해주세요');
            findPasswordChangePasswordGuideText.removeClass('blind').addClass('warn');
            isValidFindPasswordChangePassword = false;
            // 비밀번호가 일치하지 않으면
        } else if (findPasswordPassword !== findPasswordPasswordConfirm) {
            findPasswordChangePasswordGuideText.text('비밀번호가 일치하지 않습니다.');
            findPasswordChangePasswordGuideText.removeClass('blind').addClass('warn');
            isValidFindPasswordChangePassword = false;
            // 비밀번호가 일치하면
        } else {
            findPasswordChangePasswordGuideText.text('비밀번호가 일치합니다.');
            findPasswordChangePasswordGuideText.removeClass('blind warn');
            isValidFindPasswordChangePassword = true;
        }
    });

    /**
     * 로그인
     */
    function onClickSignIn() {
        if (captchaEnabled) {
            if ($('#inputCaptcha').val() === '') alert('캡차를 입력해주세요.')
        }
        $.ajax({
            url: '/auth/sign-in',
            type: 'POST',
            data: JSON.stringify({
                userId: $('#loginId').val(),
                password: $('#loginPassword').val(),
                captchaType: captchaType,
                captchaKey: captchaKey,
                captchaValue: $('#inputCaptcha').val(),
                autoLoginFlag: autoLoginFlag
            }),
            contentType: 'application/json',
            timeout: 30000,
            success: function (data) {
                // 로그인 실패했을 경우
                if (data.loginFailCount) {
                    // console.log('fail');
                    $('#loginFailText').text("아이디 또는 비밀번호를 잘못입력했습니다.(연속 " + data.loginFailCount + "회)");
                    $('#loginFailText').removeClass('blind');
                    if (data.loginFailCount >= 5) {
                        $('#sign-in-fail-five-time-popup').openPopup();
                        // 로그인 5회 이상 실패하면 캡차를 보여준다.
                        captchaEnabled = true;
                        refreshCaptcha();
                        return;
                    }
                    // 로그인 성공했을 경우
                } else {
                    if (data === 'not found user') {
                        alert('존재하지 않는 회원입니다.');
                        return;
                    }
                    // 자동로그인 체크시
                    if (autoLoginFlag) {
                        // console.log('success');
                        // cookie에 토큰 저장
                        if (data.access_token != undefined && data.expires_in != undefined) {
                            // var expires_in = Math.floor(parseInt(data.expires_in)/(60*60*24));
                            var expDate = new Date();
                            expDate.setTime(expDate.getTime() + (60*60*24*365 * 1000));
                            Cookies.set('accessToken', data.access_token, { path: '/'});
                            Cookies.set('refreshToken', data.refresh_token, { path: '/', expires: expDate });
                            Cookies.set('mui', data.memUuid, { path: '/'});
                            redisNew(data.memUuid);
                            if (data.migration === true) {
                                authType = 'migration';
                                alert('마이그레이션 정보 업데이트를 위해 본인 인증을 요청합니다.');
                                openCpPopup();
                            }
                        } else {
                            return;
                        }
                    } else {
                        // cookie에 토큰 저장
                        if (data.access_token != undefined) {
                            Cookies.set('accessToken', data.access_token, { path: '/' });
                            Cookies.set('refreshToken', data.refresh_token, { path: '/'});
                            Cookies.set('mui', data.memUuid, { path: '/'});
                            redisNew(data.memUuid);
                            if (data.migration === true) {
                                authType = 'migration';
                                alert('마이그레이션 정보 업데이트를 위해 본인 인증을 요청합니다.');
                                openCpPopup();
                            }
                            // getUserMe(false);
                        }
                    }

                    // 로그인 실패 label을 blind 처리
                    $('#loginFailText').addClass('blind');
                    signUpType = 'None';
                    $('#loginId').val('');
                    $('#loginPassword').val('');
                    $('#inputCaptcha').val();
                    $('.popup-login').closePopup();
                    if (data.migration !== true) {
                        if(loginReplaceUrl!==''){
                            location.replace(loginReplaceUrl);
                        }else{
                            location.reload();
                        }
                    }

                }
            },
            error: function (req, stat, err) {
                // console.log(err);
                // console.log('로그인 실패');
            }
        }); // ajax
    }

    var captchaKey;
    var captchaType = 'image';

    function refreshCaptcha(type) {
        if (type !== undefined && type !== null) {
            captchaType = type;
            if (type == 'image') {
                $('#captchaArea .type-image').show();
                $('#captchaArea .type-sound').hide();
            } else {
                $('#captchaArea .type-sound').show();
                $('#captchaArea .type-image').hide();
            }
        }

        $.ajax({
            url: '/auth/captcha/refresh?type=' + captchaType,
            type: 'GET',
            contentType: 'application/json',
            timeout: 30000,
            success: function (data) {

                // console.log(data);
                // captcha
                $('#captchaArea').show();
                if (captchaType == 'image') {
                    $('#imgCaptcha').attr('src', data.image);
                } else {
                    $('#audioCaptcha').attr('src', data.sound);
                }

                captchaKey = data.key;
            },
            error: function (req, stat, err) {
                // console.log(err);
            }
        }); // ajax
    }

    function onClickSignUp() {
        authType = 'enroll';
        openCpPopup();
    }
    function redisNew(arg){
      if(Boolean(arg)){
        $.ajax({
          url: '/regRedisNew?key=subscription-detail-list&date=60&id='+arg,
          type: 'GET',
          contentType: 'application/json',
          timeout: 30000,
          success: function (data) {},
          error: function (req, stat, err) {}
        }); // ajax
      }
    }
</script>
<script>

    // 여기서 authController에서 authSErvice에서 정보 받아오기
    function setSnsSignInInfo(type, token, userId) {

        signUpType = type;

        // sns 정보를 받아오는 ajax
        $.ajax({
            url: '/auth/sns-info',
            method: "POST",
            contentType: 'application/json',
            data: JSON.stringify({
                type: type,
                token: token,
                userId: userId
            })
        }).success(function (response) {
                // Do something
                // console.log("SNS 회원가입 -> SNS 정보받아오기");
                var snsUserInfo = response;
                // console.log(snsUserInfo);

                if (type === "Kakao") {
                    snsUserSignUpDto.id = snsUserInfo.id;
                    snsUserSignUpDto.email = snsUserInfo.kakao_account.email;
                    checkExistUser();
                } else if (type === "Naver") {
                    // console.log(snsUserInfo);
                    snsUserSignUpDto.id = snsUserInfo.response.id;
                    snsUserSignUpDto.email = snsUserInfo.response.email;
                    snsUserSignUpDto.sex = snsUserInfo.response.gender;
                    snsUserSignUpDto.name = snsUserInfo.response.name;
                    checkExistUser();
                } else if (type === "Facebook") {
                    snsUserSignUpDto.id = snsUserInfo.id;
                    if (snsUserInfo.gender !== undefined) {
                        if (snsUserInfo.gender === 'male') {
                            snsUserSignUpDto.sex = "Male";
                        } else {
                            snsUserSignUpDto.sex = "Female";
                        }
                    }
                    if (snsUserInfo.birthday !== undefined) {
                        var birthdayList = snsUserInfo.birthday.split('/');
                        var birthday = birthdayList [2] + birthdayList[0] + birthdayList[1];
                        snsUserSignUpDto.birthDay = birthday;
                    }
                    if (snsUserInfo.email !== undefined) {
                        snsUserSignUpDto.email = snsUserInfo.email;
                    }

                    checkExistUser();
                    // console.log(snsUserSignUpDto);
                } else {
                    alert('sns 회원가입 error');
                }

            })
            .fail(function (error) {
                // console.log("SNS 회원가입 에러 -> SNS 정보받아오기");
                // console.log(JSON.parse(error.responseText));
                alert('sns 회원가입 error');
                $('.popup-alert').closePopup();
            });
    }

    /**
     * sns일 경우 중복 확인
     */
    function checkExistUser() {
        $.ajax({
            type: "GET",
            url: '/users/exist?memId=' + snsUserSignUpDto.id + '&isSns=Y',
        }).success(function (response) {
            // console.log('본인 인증 회원가입 -> 이메일 중복 확인');
            // console.log(JSON.parse(response));
            // console.log(snsUserSignUpDto);
            var flag = JSON.parse(response);

            // 아이디 중복 아닐시
            if (!flag) {
                $('.popup-alert').closePopup();
                $('.popup-medium.join-form.agree').openPopup();
                // 아이디 중복시
            } else {
                $.ajax({
                    url: '/auth/sign-in/sns',
                    type: 'POST',
                    data: JSON.stringify({
                        userId: snsUserSignUpDto.id,
                        password: snsUserSignUpDto.id + "@" + signUpType,
                        autoLoginFlag: autoLoginFlag
                    }),
                    contentType: 'application/json',
                    timeout: 30000,
                    success: function (data) {
                        // 로그인 성공했을 경우
                        // console.log('SNS 로그인 -> 성공');
                        // console.log(data);
                        if (autoLoginFlag) {
                            if (data.access_token !== undefined && data.expires_in !== undefined) {
                                // var expires_in = Math.floor(parseInt(data.expires_in)/(60*60*24));
                                var expDate = new Date();
                                expDate.setTime(expDate.getTime() + (60*60*24*365 * 1000));
                                Cookies.set('accessToken', data.access_token, { path: '/'});
                                Cookies.set('refreshToken', data.refresh_token, { path: '/', expires: expDate });
                                Cookies.set('mui', data.memUuid, { path: '/'});
                                redisNew(data.memUuid);
                            } else {
                                alert('로그인 에러');
                                return;
                            }
                        } else {
                            if (data.access_token !== undefined) {
                                Cookies.set('accessToken', data.access_token, { path: '/'});
                                Cookies.set('refreshToken', data.refresh_token, { path: '/' });
                                Cookies.set('mui', data.memUuid, { path: '/'});
                                redisNew(data.memUuid);
                            } else {
                                alert('로그인 에러');
                                return;
                            }
                        }
                        if(loginReplaceUrl!==''){
                            location.replace(loginReplaceUrl);
                        }else{
                            location.reload();
                        }


                    },
                    error: function (req, stat, err) {
                        // console.log('SNS 로그인 -> 에러');
                        // console.log(err);
                    }
                }); // ajax
                // get user me
            }
        }).fail(function (error) {
            // console.log('SNS 회원가입 -> 아이디 존재 체크 에러');
            // console.log(JSON.parse(error.responseText));
        });
    }


    // 로그인 팝업을 여는 함수
    function openSignInPopUp(prms) {
        prms = prms || {};
        if(!!prms && !!prms.replaceUrl && prms.replaceUrl !== ''){
            loginReplaceUrl = prms.replaceUrl;
        }

        $('.popup-login').openPopup();
        stopRefreshPage();
    }

    // 아이디 찾기 팝업을 여는 함수
    function onClickFindId() {
        $('.popup-login').closePopup();
        $('.popup-alert').closePopup();
        $('#find-id-popup').openPopup();
    }

    // 비밀번호 찾기 팝업을 여는 함수
    function onClickFindPassword() {
        $('.popup-login').closePopup();
        $('#find-id-popup').closePopup();
        $('#find-password-popup').openPopup();
    }

    /**
     * 엔터 클릭시
     */
    $('#loginId').keydown(function (key) {
        //키가 13이면 실행 (엔터는 13)
        if (key.keyCode == 13){
            onClickSignIn();
        }
    });

    /**
     * 엔터 클릭시
     */
    $('#loginPassword').keydown(function (key) {
        //키가 13이면 실행 (엔터는 13)
        if (key.keyCode == 13){
            onClickSignIn();
        }
    });



    </script>
<script src="//developers.kakao.com/sdk/js/kakao.min.js"></script>
<script type='text/javascript'>
    //<![CDATA[
    // 사용할 앱의 JavaScript 키를 설정해 주세요.
    Kakao.init('e62df5186f0758def8f14c53e64d7b9d');

    function onClickKakaoLogin() {
        // 로그인 창을 띄웁니다.
        Kakao.Auth.login({
            success: function (response) {
                // console.log("카카오 로그인");
                // console.log(response);
                // console.log(response.access_token);
                setSnsSignInInfo('Kakao', response.access_token, "");
            },
            fail: function (err) {
                alert(JSON.stringify(err));
            }
        });
    };
    //]]>
</script>

<script type="text/javascript" src="/js/lib/naverlogin_implicit_1.0.3.js" charset="utf-8"></script>
<script type="text/javascript">
    

    var naver_id_login = new naver_id_login('Xdv40OqMAaGyFqokdQFs', 'https://www.hankookilbo.com/auth/naver');

    var state = naver_id_login.getUniqState();
    var naverEmail = '';

    naver_id_login.setButton("white", 10, 40);
    naver_id_login.setDomain('https://www.hankookilbo.com');
    naver_id_login.setState(state);
    naver_id_login.setPopup();
    naver_id_login.init_naver_id_login();
</script>

<script async defer crossorigin="anonymous"
        src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v6.0&appId=1241983985912870&autoLogAppEvents=1"></script>
<script>
    function onClickFBLogin() {
        FB.login(function (response) {
            // console.log("페이스북 로그인");
            // console.log(response.authResponse.accessToken);
            setSnsSignInInfo("Facebook", response.authResponse.accessToken, response.authResponse.userID);
        });
    }
</script>
<script src="/js/split/findAccountForm.js"></script>
<!-- dimmed -->
<div class="dimmed"></div>
<!-- //dimmed -->

<!-- popup-alert join-form -->
<div class="popup-alert popup-medium join-form agree">
    <!-- .popup-header -->
    <div class="popup-header">
        <div class="logo"></div>
        <a href="javascript:;" class="btn-close" onclick="$('.agree').closePopup(); refreshPage();" ></a>
        <h2 class="tit">약관동의</h2>
    </div>
    <!-- // .popup-header -->

    <!-- .cont -->
    <div class="cont">
        <form>
            <!-- .rowner .total-field -->
            <div class="rowner total-field">
                <input type="checkbox" name="totalAgree" id="totalAgree" class="total-agree">
                <label for="totalAgree">전체동의 <span class="optional">(선택포함)</span></label>
            </div>
            <!-- // .rowner .total-field -->
            <!-- .rowner -->
            <div class="rowner access-term">
                <div class="agree-input">
                    <input type="checkbox" id="accessTerm" class="partial-switch required">
                    <label for="accessTerm">한국일보 이용약관 <span class="required">(필수)</span></label>
                </div>
                <p class="contents">제 1 조 (목적)
이 이용약관 (이하 ‘약관’이라 합니다)은 ㈜한국일보사 (이하 ‘회사’라 합니다)가 제공하는 한국일보닷컴(hankookilbo.com) 관련 제반 서비스의 이용과 관련하여 회사와 회원 간 권리와 의무 및 책임, 기타 필요한 사항을 규정함을 목적으로 합니다.

제 2 조 (용어의 정의)
1. 이 약관에서 사용하는 용어의 정의는 다음과 같습니다.
① ‘회원’ 이라 함은 이 약관에 동의하고 이용자 아이디(ID)와 비밀번호를 부여 받아 이 회사가 제공하는 서비스를 이용하는 이용자를 말합니다.
② ‘이용계약’ 이라 함은 이 약관을 포함하여 서비스 이용과 관련하여 회사와 회원간에 체결하는 모든 계약을 말합니다.
③ ‘가입’ 이라 함은 회원이 되고자 하는 이용자가 이 약관에 동의하고 회사의 서비스 신청 양식에 필요 정보를 기입하고, 서비스 이용 계약을 신청, 회사의 승인을 얻는 것을 말합니다.
④ ‘탈퇴’라 함은 회원이 이용계약을 해약하는 것을 말합니다.
⑤ ‘이용자 아이디(ID)’라 함은 회원의 식별 및 서비스 이용을 위하여 회원이 정하고 회사가 승인한 문자와 숫자의 조합을 말합니다.
⑥ ‘비밀번호’라 함은 이용자 아이디(ID)로 식별되는 회원의 본인 여부를 검증하기 위하여 회원 자신이 정하여 등록한 문자와 숫자의 조합을 말합니다.
⑦ ‘단말기’라 함은 서비스에 접속하기 위해 회원이 이용하는 개인용 컴퓨터, PDA, 휴대전화, IPTV 등의 전산장치를 말합니다.
⑧ ‘게시물’ 이라 함은 회원이 서비스 이용을 하면서 게시한 글, 사진, 동영상 및 각종 파일과 링크 등을 말합니다.
2. 이 약관에서 사용하는 용어 중 제1항에서 정하지 아니한 것은 관계 법령 및 서비스별 안내에서 정하는 바에 따르며, 그 외에는 일반 관례에 따릅니다.

제 3 조 (약관의 게시 및 개정)
1. 회사는 이 약관을 회원들이 쉽게 알 수 있도록 한국일보닷컴 초기화면에 게시합니다.
2. 회사는 ‘약관의규제에관한법률’ ‘정보통신망이용촉진및정보보호등에관한법률(이하 ‘정보통신망법’) 등 관련 법을 위배하지 않는 범위 안에서 이용 약관을 개정할 수 있습니다.
3. 회사가 약관을 개정할 경우에는 적용일자 및 개정사유를 명시하여 현행약관과 함께 제1항의 방식에 따라 개정약관의 적용일자 30일 전부터 적용일자 전일까지 공지합니다. 다만 회원에게 불리한 개정의 경우에는 공지 외에도 전자우편, 전자쪽지, 로그인 시 동의 창 등 전자적 수단을 통해 따로 통지합니다.
4. 회원이 약관 개정에 동의하지 않을 경우 당 회원과 이용계약을 해지할 수 있습니다.
5. 회원이 개정된 약관의 효력이 발생한지 15일 후에도 거부 의사를 표명하지 않은 채 계속 서비스를 이용할 경우 개정된 약관에 동의한 것으로 간주합니다.

제 4 조 (약관 외 준칙)
1. 회사는 필요한 경우 서비스별로 개별약관 또는 운영원칙을 둘 수 있으며, 이 약관과 운영원칙의 내용이 상충되는 경우에는 서비스별 개별약관과 운영원칙을 우선하여 적용합니다.
2. 이 약관에 명시되어 있지 않은 사항은 관련 법령 또는 상관례에 따릅니다.

제 5 조 (이용계약의 성립)
1. 이용계약은 회원이 되고자 하는 자(이하 ‘가입신청자)가 약관 내용에 ‘동의’를 한 후 회원가입 신청을 하고 회사가 이러한 신청을 승낙함으로써 체결됩니다.
2. 회사는 가입신청자의 신청에 대해 서비스 이용을 승낙함을 원칙으로 합니다. 다만 회사는 다음 각 호에 해당하는 신청에 대하여는 승낙을 하지 않거나 사후에 이용계약을 해지할 수 있습니다.
① 가입신청자가 이 약관에 의하여 이전에 회원자격을 상실한 적이 있는 경우. 다만 ‘회사’의 재가입 승낙을 얻은 경우는 예외로 함
② 타인의 명의, 이메일 주소, 휴대전화 번호 등 개인정보를 도용하여 가입한 경우
③ 허위 정보를 기재하거나 회사가 필수적으로 요구하는 사항을 기재하지 않은 경우
④ 이용자 귀책사유로 인하여 승인이 불가능하거나 기타 규정한 제반 사항을 위반하며 신청하는 경우
⑤ 관계법령에 위배되거나 사회의 안녕질서 혹은 미풍양속을 저해할 수 있는 목적으로 신청한 경우
⑥ 영리목적 기타 부정한 용도로 본 서비스를 이용하고자 하는 경우
3. 회사는 제2항에 따라 회원가입신청의 승낙을 하지 않거나 유보한 경우 이를 가입신청자에게 알려야 합니다.
4. 회사는 서비스 이용신청이 다음 각 호에 해당하는 경우에는 그 신청에 대하여 승낙 제한사유가 해소될 때까지 승낙을 유보할 수 있습니다.
① 회사의 서비스 관련 설비의 여유가 없는 경우
② 회사의 기술상 또는 업무상 문제가 있는 경우
③ 기타 이용승낙이 곤란한 경우
5. 회사는 이용신청 고객이 관계법령에서 규정하는 미성년자일 경우에 서비스별 안내에서 정하는 바에 따라 승낙을 보류할 수 있습니다.
6. 회사는 회원을 대상으로 서비스별, 이용시간, 이용횟수 등을 통해 등급을 구분하여 이용에 차등을 둘 수 있습니다.

제 6 조 (개인정보 보호 의무 및 사용)
1. 회사는 ‘정보통신망법’ 등 관계 법령이 정하는 바에 따라 회원의 개인정보를 보호하기 위해 최선을 다합니다. 개인정보의 보호와 사용에 대해서는 관련 법령 및 회사의 개인정보취급방침이 적용됩니다. 다만 회사의 공식사이트 이외의 링크된 사이트에서는 회사의 개인정보취급방침이 적용되지 않습니다.
2. 회원은 이용자 아이디(ID) 및 비밀번호 등 개인정보가 타인에게 노출되지 않도록 철저히 관리해야 하며, 회사는 회원의 귀책사유로 인해 노출된 정보에 대해서는 책임을 지지 않습니다.
3. 회원은 아이디 및 비밀번호가 도용되거나 제3자가 사용하고 있음을 인지한 경우 이를 즉시 회사에 통지하고 회사의 안내에 따라야 합니다.
4. 회사는 다음과 같은 경우에 법이 허용하는 범위 내에서 회원의 개인정보를 제3자에게 제공할 수 있습니다.
① 수사기관이나 기타 정부기관으로부터 적법한 절차에 따라 정보제공을 요청 받은 경우
② 회원의 법령 또는 약관의 위반을 포함하여 부정행위 확인 등의 정보보호 업무를 위해 필요한 경우
③ 기타 법률에 의해 요구되는 경우
5. 회사는 회원에게 보다 다양한 정보 서비스 및 관련 혜택을 제공할 목적으로 회원의 정보를 이용할 수 있습니다. 또한, 회사는 회원정보를 제휴사에게 제공할 경우 제휴사, 목적, 이용될 회원정보 내용 등을 사전에 공지하고 회원 동의를 받아야 합니다.
6. 회사가 타사와 합병, 분할 시 회원의 정보는 공유될 수 있습니다.
7. 회사는 서비스 제공시 회원의 단말기로 쿠키를 전송할 수 있습니다. 이 경우 회원은 사용하는 단말기의 브라우저가 쿠키의 수신을 거부하거나 쿠키의 수신에 대하여 경고하도록 설정을 변경할 수 있습니다.
8. 회원이 이용신청서에 회원정보를 기재하고 본 약관에 동의 이용신청을 하는 것은 기재된 회원정보를 수집, 이용 및 제공하는 것에 동의하는 것으로 간주합니다.
9. 회사는 관련 법령과 이용 약관, 개인정보보호방침이 정하는 한계 내에서 회원 전체 또는 일부 정보를 업무와 관련된 통계자료로 사용할 수 있습니다.

제 7 조 (회사의 의무)
1. 회사는 관련법과 이 약관이 금지하거나 미풍양속에 반하는 행위를 하지 않으며, 계속적이고 안정적으로 서비스를 제공하기 위하여 최선을 다하여 노력합니다.
2. 회사는 회원이 안전하게 서비스를 이용할 수 있도록 개인정보 보호를 위해 보안시스템을 갖추어야 하며 개인정보취급방침을 공시하고 준수합니다.
3. 회사는 서비스 이용과 관련하여 발생하는 이용자의 불만 또는 피해 구제 요청을 적절하게 처리할 수 있도록 필요한 인력 및 시스템을 구비합니다.
4. 회사는 서비스 이용과 관련하여 회원으로부터 제기된 의견이나 불만이 정당하다고 인정할 경우에는 이를 처리하여야 합니다.

제 8 조 (회원의 의무)
1. 회원은 다음 행위를 하여서는 안 됩니다.
① 신청 또는 변경 시 허위 내용의 등록
② 타인의 정보 도용
③ 회사가 게시한 정보의 변경
④ 회사가 정한 정보 이외의 정보(컴퓨터 프로그램 등)를 송신 또는 게시
⑤ 회사와 기타 제 3자의 저작권 등 지적재산권에 대한 침해
⑥ 회사 및 기타 제3자의 명예를 손상시키거나 업무를 방해하는 행위
⑦ 외설 또는 폭력적인 메시지, 화상, 음성 등의 정보를 서비스에 공개 또는 게시하는 행위
⑧ 회사의 동의 없이 영리를 목적으로 서비스를 사용하는 행위
⑨ 기타 불법적이거나 부당한 행위
2. 회원은 관계 법령과 이 약관의 규정, 회사가 통지하는 사항 등을 준수하여야 하며, 기타 회사의 업무에 방해되는 행위를 해서는 안 됩니다.
3. 회원은 이용 신청시 기재한 주소, 연락처, 전자우편주소 등 개인정보와 이용계약 사항의 변경이 있을 경우 즉시 수정하여야 하며, 미변경으로 인해 발생하는 문제에 대해서 회사는 책임지지 않습니다.
4. 회원은 회사의 명시적 동의가 없는 한 서비스를 이용한 영업활동을 할 수 없으며, 그 영업활동의 결과에 대해 회사는 책임을 지지 않습니다. 또한 회원은 이와 같이 영업활동으로 회사가 손해를 입은 경우 회원은 회사에 대해 손해배상 의무를 지며, 회사는 해당 회원에 대해 서비스 이용제한 및 적절한 절차를 거쳐 손해배상 등을 청구할 수 있습니다.

제 9 조 (이용자 아이디 부여 및 변경)
1. 회사는 회원에 대하여 약관에 정하는 바에 따라 이용자 아이디(ID)를 부여합니다.
2. 이용자 아이디(ID)는 원칙적으로 변경이 불가하며 부득이한 사유로 인하여 변경하고자 하는 경우에는 해당 아이디(ID)를 해지하고 재가입 해야 합니다.
3. 이용자 아이디(ID)는 회원 본인의 동의 하에 회사 또는 자회사, 제휴사에서 운영하는 사이트의 회원 아이디(ID)와 연결될 수 있습니다.
4. 이용자 아이디(ID)는 다음 각호에 해당하는 경우에는 회원의 요청 또는 회사의 직권으로 변경 또는 이용을 정지할 수 있습니다.
① 이용자 아이디(ID)가 전화번호 또는 주민등록번호로 등록되어 사생활 침해가 우려되는 경우
② 타인에게 혐오감을 주거나 미풍양속에 어긋나는 경우
③ 회사, 회사의 서비스 또는 서비스 운영자 등의 명칭과 동일하거나 오인 등의 우려가 있는 경우
④ 기타 합리적인 사유가 있는 경우
5. 이용자 아이디(ID) 및 비밀번호 관리책임은 회원에게 있습니다. 이를 소홀히 관리하여 발생하는 서비스 이용상의 손해 또는 제3자에 의한 부정이용 등에 대한 책임은 회원에게 있으며 회사는 그에 대한 책임을 지지 않습니다.
6. 이용자 아이디(ID) 및 비밀번호를 도난 당하거나 제3자가 사용하고 있음을 인지한 경우에는 바로 회사에 통보하고 안내에 있는 경우에는 그에 따라야 하며, 이러한 통지를 하지 아니하거나 회사의 조치에 응하지 아니하여 발생한 모든 불이익에 대한 책임은 회원에게 있습니다.
7. 기타회원 개인정보 관리 및 변경 등에 관한 사항은 서비스별 안내에 정하는 바에 의합니다.

제 10 조 (서비스 이용)
1. 서비스는 회사의 업무상 또는 기술상 특별한 지장이 없는 한 연중무휴, 1일 24시간 운영을 원칙으로 합니다. 단 천재지변 및 비상사태를 비롯한 부득이한 상황이 발생한 경우에는 서비스를 일시 중단할 수 있습니다.
2. 회사는 컴퓨터 등 정보통신설비의 보수점검, 교체 및 고장, 통신두절 또는 운영상 상당한 이유가 있는 경우 서비스의 제공을 일시적으로 중단할 수 있습니다. 이 경우 회사는 회원들에 사이트를 통해 사전 공지합니다. 다만 긴급한 시스템 점검, 증설 및 교체, 설비의 장애, 서비스 이용자 폭주, 국가비상사태, 정전 등 부득이한 사유가 발생한 경우에는 사전 예고 없이 일시적으로 서비스의 전부 또는 일부를 중단할 수 있습니다.
3. 회사는 서비스 개편 등 서비스 운영 상 필요한 경우 회원에게 사전 예고 후 서비스의 전부 또는 일부의 제공을 중단할 수 있습니다.

제 11 조 (회원 게시물의 관리)
1. 회원의 게시물이 정보통신망법 및 저작권법 등 관련법에 위반되는 내용을 포함하는 경우, 회사는 관련법이 정한 절차에 따라 해당 게시물의 게시중단 및 삭제 등을 요청할 수 있습니다.
2. 회원이 서비스에 등록하는 게시물 등으로 인하여 본인 또는 타인에게 손해나 기타 문제가 발생하는 경우 전적으로 회원은 이에 대한 책임을 지며, 회사의 고의가 아닌 한 회사는 이에 대하여 책임을 지지 않습니다.
3. 회사는 다음 각호에 해당하는 게시물 등을 회원의 사전 동의 없이 임시게시 중단, 수정, 삭제, 이동 또는 등록거부 등 관련조치를 취할 수 있습니다.
① 다른 회원 또는 제3자에게 욕설 및 비방, 인신공격으로 불쾌감 및 모욕을 주거나 명예를 훼손하는 내용인 경우
② 다른 회원 또는 제3자의 저작권을 침해하거나 불법정보 유출과 관련된 글을 올리는 경우
③ 다른 회원 또는 제3자의 사생활 침해 및 개인정보를 유출하는 경우
④ 공공질서 및 미풍양속에 위반되는 내용을 유포하거나 링크시키는 경우
⑤ 불법복제 또는 해킹을 조장하는 내용인 경우
⑥ 영리를 목적으로 하는 광고 또는 사이트를 홍보하는 내용인 경우
⑦ 범죄와 결부된다고 객관적으로 인정되는 내용인 경우
⑧ 사적인 판단이나 지역감정 조성, 종교적 견해의 내용으로 회사가 서비스 성격에 부합하지 않는다고 판단하는 경우
⑨ 회사에서 규정한 게시물 운영원칙에 어긋나거나 게시판 성격에 부합하지 않는 경우
⑩ 기타 관계법령에 위배된다고 판단되는 경우
3. 회사는 광고성 게시물 차단 및 안정된 게시물 운영을 위해 일부 서비스에 대해 게시물 이용시간을 제한할 수 있습니다. 다만 이런 경우 이용시간을 해당 서비스에서 공지합니다.
4. 회사는 일부 서비스에 대해서 회원이 등록하는 게시물에 대해 사전 심의 후 게시 여부를 결정할 수 있습니다.

제 12 조 (게시물의 저작권)
1. 회원이 등록한 게시물에 대한 저작권은 해당 저작권자에게 귀속됩니다.
2. 회사가 작성한 게시물 또는 저작물에 대한 저작권, 기타 지적재산권은 회사에 귀속되므로 회원이 서비스를 이용하면서 얻은 저작물은 회사의 사전 승낙 없이 복제, 송신, 출판, 전송, 배포, 방송, 기타 방법에 의하여 영리목적으로 이용하거나 제3자에게 이용하게 해서는 안됩니다.
3. 회사는 서비스의 운영, 전시, 전송, 배포, 홍보의 목적으로 회원의 별도의 허락 없이 무상으로 저작권법에 규정하는 공정한 관행에 맞게 합리적인 범위 내에서 다음과 같이 회원이 등록한 게시물을 사용할 수 있습니다.
① 서비스 내에서 회원 게시물의 복제, 수정, 개조, 전시, 전송, 배포 및 원저작물을 해치지 않는 범위 내에서의 편집 저작물 작성하는 경우
② 서비스 제휴 파트너에게 회원의 게시물 내용을 제공, 전시 혹은 홍보하게 하는 경우
③ 휴대폰, PDA, IPTV 등 단말기에서 회원의 게시물 내용을 제공, 전시 혹은 홍보하게 하는 경우
4. 회사는 전항 이외의 방법으로 회원의 게시물을 이용하고자 하는 경우 전화, 팩스, 전자우편 등의 방법을 통해 사전에 회원의 동의를 얻어야 합니다.
5. 게시물에 대해 제3자로부터 저작권 및 기타 권리의 침해 또는 명예훼손, 음란성 등의 이유로 이의가 제기된 경우 회사는 당해 게시물을 임시 삭제할 수 있습니다. 이 경우 회사는 이의를 제기한 자와 게시물 등록자 간의 법적 문제가 종결된 후, 게시 요청이 있는 경우에는 삭제된 게시물을 재등록 할 수 있습니다.

제 13 조 (정보의 제공)
1. 회사는 회원의 서비스 이용에 필요하다고 인정되는 다양한 정보를 공지사항이나 전자우편, SMS, SNS 등의 방법으로 회원에게 제공할 수 있습니다. 다만 회원은 관련법에 따른 거래관련 정보 및 고객문의 등에 대한 답변 등을 제외하고는 언제든지 전자우편에 대해서 수신 거절을 할 수 있습니다
2. 회사는 서비스 개선 및 회원 대상의 서비스 제공 등을 목적으로 회원의 동의 하에 관련 법령에 따라 추가적인 개인정보를 수집할 수 있습니다.

제 14 조 (광고 게재)
1. 회사가 회원에게 서비스를 제공하기 위한 수익기반의 일부인 광고게재 및 판촉활동에 대해서 회원은 서비스 이용 시 제공되는 광고에 대해 동의합니다.
2. 회사는 회원 가입 시 광고메일 발송에 동의한 한 회원에 한해서 회사의 판단에 따라 이메일 광고를 회원의 이메일 주소로 발송, 제공합니다.
3. 회사는 서비스상에 게재되어 있거나 서비스를 통한 광고주의 판촉활동에 회원이 참여하거나 교신 또는 거래를 함으로써 발생하는 일체의 손실과 손해에 대해 책임을 지지 않습니다.
제 15 조 (계약 해지)
1. 회원이 이용계약을 해지하고자 할 경우에는 회원 본인이 회사에서 제공한 서비스 내 영역을 통해 가입 해지를 해야 합니다. 회사는 관련법 등이 정하는 바에 따라 이를 즉시 처리해야 합니다.
2. 회원이 이용계약을 해지할 경우, 회사가 회원정보를 보유하는 경우를 제외하고는 관련법 및 개인정보취급방침에 따라 해지 즉시 회원의 모든 데이터는 소멸됩니다.
3. 회원이 이용계약 해지를 한 경우 본인 계정에 등록된 게시물 일체는 삭제됩니다. 다만 제3자에 의한 스크랩, 담기 등으로 재게시되거나, 복제된 게시물과 타인의 게시물과 결합되어 제공되는 게시물 등은 그러하지 않습니다.
제 16 조 (서비스 이용제한)
1. 회사는 회원이 이 약관의 의무를 위반하거나 서비스의 정상적인 운영을 방해한 경우, 이용을 단계적으로 제한할 수 있습니다.
2. 회사는 주민등록법을 위반한 명의도용 및 결제도용, 저작권법 및 컴퓨터프로그램보호법을 위반한 불법프로그램의 제공 및 운영방해, 정보통신망법을 위반한 불법통신 및 해킹, 악성프로그램의 배포, 접속권한 초과행위 등과 같이 관련법령을 위반한 경우에는 즉시 영구이용정지를 할 수 있습니다.
3. 회사는 본 조의 제한의 조건 및 세부내용은 이용제한정책 및 개별 서비스상의 운영정책에서 정하는 바에 의합니다.
제 18 조 (손해배상)
1. 회사와 이용자는 서비스 이용과 관련하여 고의 또는 과실로 상대방에게 손해를 끼친 경우에는 이를 배상해야 합니다.
2. 단, 회사는 무료로 제공하는 서비스의 이용과 관련하여 개인정보취급방침에서 정하는 내용에 위반하지 않는 한 어떠한 손해도 책임지지 않습니다.
제 19 조 (책임제한)
1. 회사는 천재지변 또는 이에 준하는 불가항력 기타 이 약관에서 정한 정당한 사유로 인하여 서비스를 제공할 수 없게 된 경우에는 서비스 제공에 관한 책임이 면제됩니다.
2. 회사는 회원의 귀책사유로 인한 서비스 이용의 장애 또는 손해에 대해서는 책임을 지지 않습니다.
3. 회사는 회원간 또는 회원과 제3자 상호간에 서비스를 매개로 하여 거래 등을 한 경우에는 책임이 면제됩니다.
4. 회사는 제공하는 서비스에 포함된 모든 정보, 소프트웨어, 제품 등에 부정확함과 인쇄상의 오류로 인해 발생하는 정보의 부정확성에 대해서는 책임을 지지 않습니다.
5. 회사는 회원의 게시물을 등록 전에 상시적으로 사전심사 하거나 게시물의 내용을 확인 또는 검토할 의무가 없으므로 그 결과에 대한 책임은 지지 않습니다.
6. 회사에서 회원에게 무료로 제공하는 서비스의 이용과 관련해서는 어떠한 손해도 책임을 지지 않습니다.
제 20 조 (통지)
1. 회사는 회원에 대하여 통지를 하는 경우 회원이 회사에 등록한 전자우편 주소로 할 수 있습니다.
2. 회사는 불특정다수 회원에게 통지를 해야 할 경우 회사 게시판을 통해 7일 이상 게시함으로써 개별통지에 갈음할 수 있습니다.
제 21 조 (준거법 및 재판관할)
1. 이 약관에 명시되지 않은 사항은 대한민국 관계법령과 상관습에 따릅니다.
2. 서비스 이용으로 인한 분쟁에 대해 소송이 제기될 경우 회사의 본사 소재지를 관할하는 법원을 관할법원으로 합니다.
[부칙]
1. 이 약관은 2014년 5월 7일부터 시행합니다.
                </p>
            </div>
            <!-- // .rowner -->

            <!-- .rowner -->
            <div class="rowner personal-info">
                <div class="agree-input">
                    <input type="checkbox" id="personalInfo" class="partial-switch required">
                    <label for="personalInfo">개인정보처리 방침 <span class="required">(필수)</span></label>
                </div>
                <p class="contents">
한국일보닷컴(이하 ‘회사’)은 정보통신망 이용촉진 및 정보보호 등에 관한 법률, 개인정보보호법, 통신비밀보호법, 전기통신사업법, 등 정보통신서비스제공자가 준수하여야 할 관련 법령상의 개인정보보호 규정 및 방송통신위원회가 제정한 「개인정보보호지침」을 준수하고 있으며, 관련 법령에 의거한 개인정보취급방침을 정하여 이용자 권익 보호에 최선을 다하고 있습니다.

회사는 회원님들의 개인정보가 남용되거나 유출되지 않도록 최선을 다할 것이며, 이에 다음과 같이 회사의 개인정보 보호를 위한 방침에 대하여 알려드리고자 합니다.

단, 본 개인정보취급방침은 정부의 법령 및 지침의 변경, 또는 보다 나은 서비스의 제공을 위하여 그 내용이 변경될 수 있으니, 회원님들께서는 사이트 방문시 수시로 그 내용을 확인하여 주시기 바랍니다.

본 개인정보취급방침은 회사가 제공하는 서비스 (모바일 웹 포함) 이용에 적용되며 다음과 같은 내용을 담고 있습니다.

1. 수집하는 개인정보의 항목 및 수집방법
회사는 회원가입, 원활한 고객 상담, 각종 서비스의 제공을 위해 최초 회원가입 당시 아래와 같은 최소한의 개인정보를 필수항목으로 수집하고 있습니다.

가. 수집하는 개인정보의 항목
필수항목 : 이름, 생년월일, 아이디, 비밀번호, 메일주소, 휴대폰 번호, 주소, 가입인 증정보(참고로, 아동 관련 서비스를 제공할 때까지 만14세 미만 아동 회원은 가입을 불허합니다)
다만, 서비스 이용과정이나 사업처리 과정에서 IP Address, 쿠키, 방문 일시, 서비스 이용 기록, 불량 이용 기록, 결제기록 등이 자동으로 생성 되어 수집될 수 있습니다.
선택항목: 기존 아이디를 이용한 부가 서비스 및 맞춤식 서비스 이용 또는 이벤트 응모 과정에서 해당 서비스의 이용자에 한해서만 주민등록번호, 주소, 전 화번호, 직업 등의 정보들이 수집될 수 있습니다.
나. 개인정보 수집방법
회사는 다음과 같은 방법으로 개인정보를 수집합니다.
- 홈페이지, 서면양식, 팩스, 전화, 상담 게시판, 이메일, 이벤트 응모, 배송요청
2. 개인정보의 수집 및 이용목적
회사는 수집한 개인정보를 다음의 목적을 위해 활용합니다.

가. 서비스 제공
서비스 제공에 관한 계약 이행 및 서비스 제공에 따른 요금정산, 컨텐츠 제공, 특정 맞춤 서비스 제공, 물품배송 또는 청구서 등 발송, 본인인증, 구매 및 요금 결제, 요금추심
나. 회원관리
회원제 서비스 이용에 따른 본인확인, 개인식별, 한국일보닷컴 이용약관 위반 회원에 대한 이용제한 조치, 서비스의 원활한 운영에 지장을 미치는 행위 및 서비스 부정이용 행위 제재, 가입의사 확인, 가입 및 가입횟수 제한, 추후 아동 관련 서비스제공으로 인한 만14세 미만 아동 개인정보 수집 시 법정 대리인 동의여부 확인, 추후 법정 대리인 본인확인, 분쟁 조정을 위한 기록보존, 불만처리 등 민원처리, 고지사항 전달, 회원탈퇴 의사의 확인 다. 신규 서비스 개발 및 마케팅·광고에의 활용
신규 서비스 개발 및 맞춤 서비스 제공, 통계학적 특성에 따른 서비스 제공 및 광고 게재, 서비스의 유효성 확인, 이벤트 정보 및 참여기회 제공, 광고성 정보 제공, 접속빈도 파악, 회원의 서비스이용에 대한 통계
3. 개인정보의 공유 및 제공
회사는 이용자들의 개인정보를 "2. 개인정보의 수집목적 및 이용목적"에서 고지한 범위내에서 사용하며, 이용자의 사전 동의 없이는 동 범위를 초과하여 이용하거나 원칙적으로 이용자의 개인정보를 외부에 공개하지 않습니다. 다만, 아래의 경우에는 예외로 합니다.

- 이용자가 사전에 동의한 경우
- 법령의 규정에 의거하거나, 수사 목적으로 법령에 정해진 절차와 방법에 따라 수사기관의 요구가 있는 경우
4. 개인정보의 보유 및 이용기간
이용자의 개인정보는 원칙적으로 개인정보의 수집 및 이용목적이 달성되면 지체 없이 파기합니다. 단, 다음의 정보에 대해서는 아래의 이유로 명시한 기간 동안 보존합니다.

가. 회사 내부 방침에 의한 정보보유 사유
- 부정이용기록(부정가입, 징계기록 등의 비정상적 서비스 이용기록)
보존 이유 : 부정 이용 방지
보존 기간 : 15일
나. 관련법령에 의한 정보보유 사유
상법, 전자상거래 등에서의 소비자보호에 관한 법률 등 관계법령의 규정에 의하여 보존할 필요가 있는 경우 회사는 관계법령에서 정한 일정한 기간 동안 회원정보를 보관합니다. 이 경우 회사는 보관하는 정보를 그 보관의 목적으로만 이용하며 보존기간은 아래와 같습니다.
- 표시, 광고에 관한 기록
보존이유 : 전자상거래등에서의 소비자보호에 관한 법률
보존기간 : 6개월
- 계약 또는 청약철회 등에 관한 기록
보존이유 : 전자상거래등에서의 소비자보호에 관한 법률
보존기간 : 5년
- 대금결제 및 재화 등의 공급에 관한 기록
보존 이유 : 전자상거래 등에서의 소비자보호에 관한 법률
보존 기간 : 5년
- 소비자의 불만 또는 분쟁처리에 관한 기록
보존이유 : 전자상거래등에서의 소비자보호에 관한 법률
보존기간 : 3년
- 웹사이트 방문기록
보존이유 : 통신비밀보호법
보존기간 : 3개월
5. 개인정보 파기절차 및 방법
이용자의 개인정보는 원칙적으로 개인정보의 수집 및 이용목적이 달성되면 지체 없이 파기합니다. 회사의 개인정보 파기절차 및 방법은 다음과 같습니다.

가. 파기절차
- 이용자가 회원가입 등을 위해 입력한 정보는 목적이 달성된 후 별도의 DB로 옮겨져(종이의 경우 별도의 서류함) 내부 방침 및 기타 관련 법령에 의한 정보보호 사유에 따라(보유 및 이용기간 참조)일정 기간 저장된 후 파기됩니다.
- 동 개인정보는 법률에 의한 경우가 아니고서는 보유되는 이외의 다른 목적으로 이용되지 않습니다.
나. 파기방법
- 종이에 출력된 개인정보는 분쇄기로 분쇄하거나 소각을 통하여 파기합니다.
- 전자적 파일 형태로 저장된 개인정보는 기록을 재생할 수 없는 기술적 방법을 사용하여 삭제합니다.
6. 이용자 및 법정대리인의 권리와 그 행사방법
- 이용자는 언제든지 등록되어 있는 자신의 개인정보를 조회하거나 수정할 수 있으며, 회사의 개인정보의 처리에 동의하지 않는 경우 동의를 거부하거나 가입해지(회원탈퇴)를 요청하실 수 있습니다. 다만, 그러한 경우 서비스의 일부 또는 전부 이용이 어려울 수 있습니다.
- 이용자의 개인정보 조회, 수정을 위해서는 '개인정보변경'(또는 '회원정보수정' 등)을, 가입해지(동의철회)를 위해서는 "회원탈퇴"를 클릭하여 본인 확인 절차를 거치신 후 직접 열람, 정정 또는 탈퇴가 가능합니다.
- 혹은 개인정보관리책임자에게 서면, 전화 또는 이메일로 연락하시면 지체 없이 조치하겠습니다.
- 이용자가 개인정보의 오류에 대한 정정을 요청하신 경우에는 정정을 완료하기 전까지 당해 개인정보를 이용 또는 제공하지 않습니다. 또한 잘못된 개인정보를 제3 자에게 이미 제공한 경우에는 정정 처리결과를 제3자에게 지체 없이 통지하여 정정이 이루어지도록 하겠습니다.
- 회사는 이용자 혹은 법정 대리인의 요청에 의해 해지 또는 삭제된 개인정보는 "5. 개인정보의 보유 및 이용기간"에 명시된 바에 따라 처리하고 그 외의 용도로 열람 또는 이용할 수 없도록 처리하고 있습니다.
7. 개인정보 자동 수집 장치의 설치/운영 및 거부에 관한 사항
- 회사는 개인화되고 맞춤화된 서비스를 제공하기 위해서 이용자의 정보를 저장하고 수시로 불러오는 '쿠키(cookie)'를 사용합니다.
- 쿠키는 웹사이트를 운영하는데 이용되는 서버가 이용자의 브라우저에게 보내는 아주 작은 텍스트 파일로 이용자 컴퓨터의 하드디스크에 저장됩니다. 이후 이용자가 웹 사이트에 방문할 경우 웹 사이트 서버는 이용자의 하드 디스크에 저장되어 있는 쿠키의 내용을 읽어 이용자의 환경설정을 유지하고 맞춤화된 서비스를 제공하기 위해 이용됩니다.
- 쿠키는 개인을 식별하는 정보를 자동적/능동적으로 수집하지 않으며, 이용자는 언제든지 이러한 쿠키의 저장을 거부하거나 삭제할 수 있습니다.
가. 쿠키 사용 목적
회원과 비회원의 접속 빈도나 방문 시간 등을 분석, 이용자의 취향과 관심분야를 파악 및 자취 추적, 각종 이벤트 참여 정도 및 방문 회수 파악 등을 통한 타킷 마케팅 및 맞춤형 정보를 제공하기 위해 사용합니다.
다. 쿠키의 설치·운영 및 거부
- 이용자는 쿠키 설치에 대한 선택권을 가지고 있습니다. 따라서 이용자는 웹브라우저에서 옵션을 설정함으로써 모든 쿠키를 허용하거나, 쿠키가 저장될 때마다 확인을 거치거나, 아니면 모든 쿠키의 저장을 거부할 수도 있습니다.
- 다만, 쿠키의 저장을 거부할 경우에는 로그인이 필요한 일부 서비스는 이용에 어려움이 있을 수 있습니다.
- 쿠키 설치 허용 여부를 지정하는 방법(Internet Explorer의 경우)은 다음과 같습니다.
① [도구] 메뉴에서 [인터넷 옵션]을 선택합니다.
② [개인정보 탭]을 클릭합니다.
③ [개인정보취급 수준]을 설정하시면 됩니다.
8. 개인정보의 기술적·관리적 보호 대책
회사는 이용자들의 개인정보를 취급함에 있어 개인정보가 분실, 도난, 누출, 변조 또는 훼손되지 않도록 안전성 확보를 위하여 다음과 같은 기술적·관리적 대책을 강구하고 있습니다.

가. 비밀번호 암호화
회원 아이디(ID)의 비밀번호는 암호화되어 저장 및 관리되고 있어 본인만이 알고 있으며, 개인정보의 확인 및 변경도 비밀번호를 알고 있는 본인에 의해서만 가능합니다.
나. 해킹 등에 대비한 대책
회사는 해킹이나 컴퓨터 바이러스 등에 의해 이용자의 개인정보가 유출되거나 훼손되는 것을 막기 위해 외부로부터 접근이 통제된 구역에 시스템을 설치하고, 침입 차단장치 이용 및 침입탐지시스템을 설치하여 감시하고 있습니다. 그리고 백신 프로그램을 주기적으로 업데이트하며 갑작스런 바이러스가 출현할 경우 백신이 나오는 즉시 이를 적용함으로써 개인정보가 침해 방지를 위해 노력하고 있습니다.
다. 개인정보처리시스템 접근 제한
회사는 개인정보를 처리할 수 있도록 체계적으로 구성한 데이터베이스시스템에 대한 접근권한의 부여, 변경, 말소 등에 관한 기준을 수립하고 비밀번호의 생성 방법, 변경 주기 등을 규정 운영하며 기타 개인정보에 대한 접근통제를 위해 필요한 조치를 다하고 있습니다.
라. 개인정보 취급 직원의 교육
개인정보관련 취급 직원은 담당자에 한정시켜 최소화 하고 새로운 보안기술의 습득 및 개인정보보호 의무에 관해 정기적인 교육을 실시하며 별도의 비밀번호를 부여하여 접근 권한을 관리하는 등 관리적 대책을 시행하고 있습니다.
9. 개인정보관리책임자 및 담당자의 연락처
회사는 개인정보를 보호하고 개인정보와 관련한 불만을 처리하기 위하여 아래와 같이 개인정보관리책임자를 지정하고 있습니다. 이용자는 서비스를 이용하면서 발생하는 모든 개인정보보호 관련 민원을 개인정보관리책임자로 신고하실 수 있습니다. 회사는 이용자들의 신고사항에 대해 신속하게 충분한 답변을 드릴 것입니다.

개인정보 관리책임자
성명: 정진황 국장
소속: 디지털콘텐츠국
전화: 02-724-2427
이메일: jhchung@hankookilbo.com
개인정보 관리담당자
성명: 안경모 부장
소속: 디지털미디어부
전화: 02-724-2293
이메일: zuckbox@hankookilbo.com
기타 개인정보침해에 대한 신고나 상담이 필요하신 경우에는 아래 기관에 문의하시기 바랍니다.
- 개인정보침해신고센터 ( www.118.or.kr / 국번없이 118)
- 대검찰청 사이버범죄수사단 ( www.spo.go.kr / 02-3480-3571)
- 경찰청 사이버테러대응센터 ( www.ctrc.go.kr / 국번없이 182)
10. 고지의 의무
현 개인정보취급방침 내용 추가, 삭제 및 수정이 있을 시에는 개정 최소 7일전부터 홈페이지의 공지사항을 통해 고지할 것입니다.

- 공고일자 : 2014년 5월 8일
- 시행일자 : 2014년 5월 15일
                </p>
            </div>
            <!-- // .rowner -->

            <!-- .rowner .event-promotion -->
            <div class="rowner event-promotion">
                <p>이벤트/프로모션 등 정보 수신 동의 <span class="optional">(선택)</span></p>
                <ul class="agree-list">
                    <li>
                        <input type="checkbox" id="toMail" name="toMail" checked class="to-mail partial-switch">
                        <label for="toMail">이메일</label>
                    </li>
                    <li>
                        <input type="checkbox" id="toSMS" name="toSMS" class="to-sms partial-switch">
                        <label for="toSMS">SMS</label>
                    </li>
                    <li>
                        <input type="checkbox" id="toNewsLetter" name="toNewsLetter" class="to-news-letter partial-switch">
                        <label for="toNewsLetter">뉴스레터</label>
                    </li>
                </ul>
            </div>
            <!-- // .rowner .event-promotion -->
            <p class="term-warn">이용약관 및 개인정보 처리 방침은 필수 항목 입니다.</p>

            <button class="btn-main" onclick="onClickNext(event)">다음</button>
        </form>
    </div>
    <!-- // .cont -->
</div>
<!-- popup-alert join-form agree -->

<!-- popup-alert access-term -->
<div class="popup-alert access-term">
    <h1 class="tit">
        약관 동의 필수
    </h1>
    <div class="cont">
        <p>
            이용약관에 동의 하셔야 합니다.
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-black font-medium" type="button" onclick="$('.access-term').closePopup();">확인</button>
    </div>
</div>
<!-- popup-alert access-term -->

<!-- popup-alert user-info -->
<div class="popup-alert user-info">
    <h1 class="tit">
        약관 동의 필수
    </h1>
    <div class="cont">
        <p>
            개인정보처리 방침에 동의 하셔야 합니다.
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-black font-medium" type="button" onclick="$('.user-info').closePopup();">확인</button>
    </div>
</div>

<script>
    var agreeAll;
    var accessTermAgree;
    var userInfoAgree;
    var emailAgree;
    var smsAgree;
    var newsLetterAgree;

    function onClickNext(event) {
        event.preventDefault();

        agreeAll = $('input:checkbox[id="totalAgree"]').is(":checked");
        accessTermAgree = $('input:checkbox[id="accessTerm"]').is(":checked");
        userInfoAgree = $('input:checkbox[id="personalInfo"]').is(":checked");
        emailAgree = $('input:checkbox[id="toMail"]').is(":checked");
        smsAgree = $('input:checkbox[id="toSMS"]').is(":checked");
        newsLetterAgree = $('input:checkbox[id="toNewsLetter"]').is(":checked");

        // 전체 동의 여부

        if (agreeAll) {
            if (signUpType === 'None') {
                // 전체 동의로 넘긴다?
                $('.popup-alert').closePopup();
                $('.popup-alert.join-form.join').openPopup();
                return;
            } else {
                $('.popup-alert').closePopup();
                $('.popup-alert.add-nick').openPopup();
                $('p.term-warn').addClass('blind');
                return;
            }
        }

        // 이용약관 체크 했는지 여부
        if (!accessTermAgree) {
            $('.popup-alert.access-term').openPopup();
            return;
        }

        if (!userInfoAgree) {
            $('.popup-alert.user-info').openPopup();
            return;
        }

        if (accessTermAgree && userInfoAgree) {
            if (signUpType === 'None') {
                // 전체 동의로 넘긴다?
                $('.popup-alert').closePopup();
                $('.popup-alert.join-form.join').openPopup();
                return;
            } else {
                $('.popup-alert').closePopup();
                $('.popup-alert.add-nick').openPopup();
                $('p.term-warn').addClass('blind');
                return;
            }
        }

        $('p.term-warn').addClass('blind');
    }
    // 개인정보 체크 했는지 여부

</script>

<!-- popup-alert join-form join -->
<div class="popup-alert popup-medium join-form join">
    <!-- .popup-header -->
    <div class="popup-header">
        <div class="logo"></div>
        <a href="javascript:;" class="btn-close" onclick="$('.join').closePopup(); refreshPage();"></a>
        <h2 class="tit">회원가입</h2>
    </div>
    <!-- // .popup-header -->

    <!-- .cont -->
    <div class="cont">
        <!-- .write-list -->
        <ul class="write-list">
            <li class="confirm-field">
                <div class="title">
                    <label for="userId">아이디(이메일)</label>
                </div>
                <div class="inn">
                    <input type="text" name="userId" id="userId" placeholder="아이디"
                           onchange="onChangeEmail(this)">
                    <a href="javascript:;" class="btn-empty-main" onclick="onClickCheckEmailDuplicated()">중복확인</a>
                    <p class="guide-msg blind" id="sign-up-email-guide-msg">사용 가능한 아이디 입니다.</p>
                </div>
            </li>
            <li>
                <div class="title">
                    <label for="userPwd">비밀번호</label>
                </div>
                <div class="inn">
                    <input type="password" name="userPwd" id="userPwd" placeholder="8~16자 영문 대소문자,숫자,특수문자"
                           maxlength="16">
                </div>
            </li>
            <li>
                <div class="title">
                    <label for="userPwdChk">비밀번호 확인</label>
                </div>
                <div class="inn">
                    <input type="password" name="userPwdChk" id="userPwdChk" maxlength="16">
                    <div class="guide-msg warn blind" id="sign-up-password-guide-msg">3~10자 영문 대소문자, 숫자 및 특수문자를
                        사용해주세요.
                    </div>
                </div>
            </li>
        </ul>
        <!-- // .write-list -->
        <!-- .name-list -->
        <ul class="name-list">
            <li class="user-name">
                <div class="title">
                    <p>이름</p>
                </div>
                <div class="inn">
                    <p id="username"></p>
                </div>
            </li>
            <li class="confirm-field">
                <div class="title">
                    <label for="userNickname">필명</label>
                </div>
                <div class="inn">
                    <input type="text" id="userNickname" placeholder="3~10자 한글, 영문 대소문자, 숫자"
                           onchange="onChangePenName(this)">
                    <a href="javascript:;" class="btn-empty-main" onclick="onClickCheckPennameDuplicated()">중복확인</a>
                    <p class="exp-text">댓글 작성 시 필명이 노출 됩니다.</p>
                    <p class="guide-msg blind" id="sign-up-pen-name-guide-msg">사용 가능한 필명입니다.</p>
                </div>
            </li>
        </ul>
        <!-- // .name-list -->
        <button class="btn-main" type="button" onclick="submit(event); return false;">확인</button>
    </div>
    <!-- // .cont -->
</div>
<!-- popup-alert join-form join -->


<!-- popup-alert add-nick -->
<div class="popup-alert add-nick">
    <!-- .popup-header -->
    <div class="popup-header">
        <a href="javascript:;" class="btn-close" onclick="$('.add-nick').closePopup();"></a>
        <h2 class="tit">필명</h2>
    </div>
    <!-- // .popup-header -->

    <!-- .cont -->
    <div class="cont">
        <!-- .info-list -->
        <ul class="info-list">
            <li class="confirm-field">
                <div class="inn">
                    <input type="text" id="userNick" name="userNick" placeholder="3~10자 한글, 영문 대소문자, 숫자" maxlength="10"
                           onchange="onChangeSnsPenName(this)">
                    <a href="javascript:;" class="btn-empty-main" onclick="onClickCheckSnsPennameDuplicated()">중복확인</a>
                    <p class="exp-text">댓글 작성 시 필명이 노출됩니다.</p>
                    <p class="guide-msg blind" id="social-sign-up-pen-name-guide-msg">사용 가능한 필명입니다.</p>
                </div>
            </li>
        </ul>
        <!-- // .info-list -->

        <button class="btn-main" onClick="submitSocial();">확인</button>
    </div>
    <!-- // .cont -->
</div>
<!-- popup-alert add-nick -->

<!-- popup-alert no-account -->
<div class="popup-alert no-account">
    <h1 class="tit">
        회원가입 완료
    </h1>
    <div class="cont">
        <p>
            한국일보 회원가입이 완료 되었습니다.
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-black" type="button" onclick="$('.no-account').closePopup(); $('.popup-login').openPopup();">확인</button>
    </div>
</div>
<!-- popup-alert no-account -->

<script>
    var email = '', password = '', passwordConfirm = '', penName = '', snsPenName = '';
    var isValidEmail, isValidPenName, isValidPassword = false;
    var emailRegex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    var penNameRegex = /^[ㄱ-ㅎ|가-힣|a-z|A-Z|0-9|_ \*]{3,10}$/;
    var passwordRegex = /^(?=.*[A-Za-z])(?=.*\d).{8,16}$/;
    var passwordRegex2 = /^(?=.*[A-Za-z])(?=.*\d).{8,16}$/;

    var emailGuideMessage = $('#sign-up-email-guide-msg');
    var passwordGuideMessage = $('#sign-up-password-guide-msg');
    var penNameGuideMessage = $('#sign-up-pen-name-guide-msg');
    var socialPenNameGuideMessage = $('#social-sign-up-pen-name-guide-msg');

    function onChangeEmail(emailInput) {
        email = emailInput.value;

        if (!emailRegex.test(email)) {
            isValidEmail = false;
            emailGuideMessage.text('이메일 형식의 아이디를 사용해주세요.');
            emailGuideMessage.removeClass('blind').addClass('warn');
        }
    }

    $("#userPwd").on('keyup', function (input) {
        // comment = value;
        password = input.target.value;
        // 비밀번호 정규식이 일치하지 않으면
        if (!passwordRegex.test(password) && !passwordRegex2.test(password)) {
            passwordGuideMessage.text('8~16자 영문 대소문자, 숫자 및 특수문자를 사용해주세요');
            passwordGuideMessage.removeClass('blind').addClass('warn');
            isValidPassword = false;
        // 비밀번호가 일치하지 않으면
        } else if (password !== passwordConfirm) {
            passwordGuideMessage.text('비밀번호가 일치하지 않습니다.');
            passwordGuideMessage.removeClass('blind').addClass('warn');
            isValidPassword = false;
        // 비밀번호가 일치하면
        } else {
            passwordGuideMessage.text('비밀번호가 일치합니다.');
            passwordGuideMessage.removeClass('blind warn');
            isValidPassword = true;
        }
        // your code here
    });

    $("#userPwdChk").on('keyup', function (input) {
        passwordConfirm = input.target.value;

        // 비밀번호 정규식이 일치하지 않으면
        if (!passwordRegex.test(passwordConfirm) && !passwordRegex2.test(passwordConfirm)) {
            passwordGuideMessage.text('8~16자 영문 대소문자, 숫자 및 특수문자를 사용해주세요');
            passwordGuideMessage.removeClass('blind').addClass('warn');
            isValidPassword = false;
        // 비밀번호가 일치하지 않으면
        } else if (password !== passwordConfirm) {
            passwordGuideMessage.text('비밀번호가 일치하지 않습니다.');
            passwordGuideMessage.removeClass('blind').addClass('warn');
            isValidPassword = false;
        // 비밀번호가 일치하면
        } else {
            passwordGuideMessage.text('비밀번호가 일치합니다.');
            passwordGuideMessage.removeClass('blind warn');
            isValidPassword = true;
        }
    });

    function onChangePenName(penNameInput) {
        isValidPenName = false;
        penName = penNameInput.value;
    }

    function onChangeSnsPenName(penNameInput) {
        snsPenName = penNameInput.value;
    }

    $('#userId').on('keyup', function(input) {
        isValidEmail = false;
    });

    // 이메일 중복체크
    function onClickCheckEmailDuplicated() {

        // 이메일 regex 체크
        if (!emailRegex.test(email)) {
            isValidEmail = false;
            emailGuideMessage.text('이메일 형식의 아이디를 사용해주세요.');
            emailGuideMessage.removeClass('blind').addClass('warn');
            return;
        }

        $.ajax({
            type: "GET",
            url: '/users/exist?memId=' + email,
        }).success(function (response) {
            // console.log('본인 인증 회원가입 -> 이메일 중복 확인');
            // console.log(JSON.parse(response));
            var flag = JSON.parse(response);

            // 아이디 중복 아닐시
            if (!flag) {
                isValidEmail = true;
                emailGuideMessage.text('사용 가능한 아이디입니다.');
                emailGuideMessage.removeClass('blind').removeClass('warn');

            } else {
                // 아이디 중복시
                isValidEmail = false;
                emailGuideMessage.text('이미 등록된 아이디입니다.');
                emailGuideMessage.removeClass('blind').addClass('warn');
            }
        }).fail(function (error) {
            // console.log('본인 인증 회원가입 에러 -> 이메일 중복 확인');
            // console.log(JSON.parse(error.responseText));
        });
    }

    // 필명 중복체크
    function onClickCheckPennameDuplicated() {
        $('.exp-text').addClass('blind');

        // 필명 정규식이 일치하지 않을 경우
        if (!penNameRegex.test(penName)) {
            penNameGuideMessage.text('3~10자 한글, 영문 대소문자, 숫자를 사용해주세요');
            penNameGuideMessage.removeClass('blind').addClass('warn');

            socialPenNameGuideMessage.text('3~10자 한글, 영문 대소문자, 숫자를 사용해주세요');
            socialPenNameGuideMessage.removeClass('blind').addClass('warn');
            isValidPenName = false;

            return;
        }
        // 필명 정규식이 일치할 경우
        // 필명 중복 체크 api 요청해서 분기처리
        checkPenNameDuplicated(penName);
    }

    /**
     * 본인인증 필명 중복 체크
     */
    function checkPenNameDuplicated(penName) {
        $.ajax({
            type: "GET",
            url: '/users/exist?memPenName=' + encodeURIComponent(penName)
        }).success(function (response) {
            // Do something

            // console.log('SNS 회원가입 -> 필명 중복 확인');
            // console.log(JSON.parse(response));
            var flag = JSON.parse(response);

            // 필명 중복 아닐시
            if (!flag) {
                socialPenNameGuideMessage.text('사용 가능한 필명입니다.');
                socialPenNameGuideMessage.removeClass('blind warn');
                penNameGuideMessage.text('사용 가능한 필명입니다.');
                penNameGuideMessage.removeClass('blind warn');
                isValidPenName = true;
            } else {
                // 필명 중복시
                socialPenNameGuideMessage.text('이미 등록된 필명입니다.');
                socialPenNameGuideMessage.removeClass('blind').addClass('warn');
                penNameGuideMessage.text('이미 등록된 필명입니다.');
                penNameGuideMessage.removeClass('blind').addClass('warn');
                isValidPenName = false;
            }
        }).fail(function (error) {
            // console.log('SNS 회원가입 에러 -> 필명 중복 확인');
            // console.log(JSON.parse(error.responseText));
        });
    }

    // sns 필명 중복체크
    function onClickCheckSnsPennameDuplicated() {
        $('.exp-text').addClass('blind');

        // 필명 정규식이 일치하지 않을 경우
        if (!penNameRegex.test(snsPenName)) {

            socialPenNameGuideMessage.text('3~10자 한글, 영문 대소문자, 숫자를 사용해주세요');
            socialPenNameGuideMessage.removeClass('blind').addClass('warn');
            isValidPenName = false;
            return;
        }
        // 필명 정규식이 일치할 경우
        checkPenNameDuplicated(snsPenName);
    }

    /**
     * 본인인증 회원가입
     */
    function submit(event) {
        event.preventDefault();
        event.stopImmediatePropagation();

        // 이메일 검증
        if (!isValidEmail) {
            emailGuideMessage.text('이메일 중복확인을 진행해주세요.');
            emailGuideMessage.removeClass('blind');
            return;
        }

        // 필명 검증
        if (!isValidPenName) {
            penNameGuideMessage.text('필명 중복확인을 진행해주세요.');
            penNameGuideMessage.removeClass('blind');
            socialPenNameGuideMessage.text('필명 중복확인을 진행해주세요.');
            socialPenNameGuideMessage.removeClass('blind');
            return;
        }

        // 비밀번호 검증
        if (!isValidPassword) {
            return;
        }

        $.ajax({
            url: '/auth/sign-up',
            method: "POST",
            contentType: 'application/json',
            data: JSON.stringify({
                memId: email,
                memEmail: email,
                memPw: password,
                memPenName: penName,
                snsDiv: signUpType,
                provisionAgree: 'Y',
                privacyAgree: 'Y',
                eventAgreeEmail: emailAgree ? 'Y' : 'N',
                eventSmsAgree: smsAgree ? 'Y' : 'N',
                nLetterAgree: newsLetterAgree ? 'Y' : 'N',
                encData: encData
            })
        }).success(function (response) {
            // console.log('본인인증 회원가입 -> 회원가입 성공');
            // console.log(response);
            reset();
            $('.popup-alert').closePopup();
            $('.popup-alert.no-account').openPopup();
        }).fail(function (err) {
            // console.log('본인인증 회원가입 -> 회원가입 에러');
        }).complete(function () {
            // 3분 리로드 재가동
            refreshPage();
        })


        // Do something
    }

    /**
     * SNS 회원가입
     */
    function submitSocial() {
        if (!isValidPenName) {
            socialPenNameGuideMessage.text('필명 중복확인을 진행해주세요.');
            socialPenNameGuideMessage.removeClass('blind');
            return;
        }

        $.ajax({
            url: '/auth/sign-up',
            method: "POST",
            contentType: 'application/json',
            data: JSON.stringify({
                memId: snsUserSignUpDto.id,
                memPw: snsUserSignUpDto.id + "@" + signUpType,
                memName: snsUserSignUpDto.name === '' ? '' : snsUserSignUpDto.name,
                memBirthYmd: snsUserSignUpDto.birthDay,
                memPenName: snsPenName,
                memEmail: snsUserSignUpDto.email,
                snsDiv: signUpType,
                memSex: snsUserSignUpDto.sex,
                provisionAgree: 'Y',
                privacyAgree: 'Y',
                eventAgreeEmail: emailAgree ? 'Y' : 'N',
                eventSmsAgree: smsAgree ? 'Y' : 'N',
                nLetterAgree: newsLetterAgree ? 'Y' : 'N'
            })
        }).success(function (response) {
            // console.log('SNS 회원가입 -> 회원가입 성공');
            // console.log(response);
            reset();
            $('.popup-alert').closePopup();
            $('.popup-alert.no-account').openPopup();
        }).fail(function (err) {
            // console.log('SNS 회원가입 -> 회원가입 에러');
        }).complete(function () {
            // 3분 리로드 재가동
            refreshPage();
        })
        // Do something
    }

    function reset() {
        $('#userNick').val("");
        $('#userNickname').val("");
        email = '';
        password = '';
        passwordConfirm = '';
        penName = '';
        snsPenName = '';
        isValidEmail = false;
        isValidPenName = false;
    }
</script>
<script src="/js/split/userAgree.js"></script>
<!-- popup-alert user-info -->


<script language='javascript'>
    var encData;
    $.ajax({
        type: "GET",
        url: '/auth/cp/data'
    }).success(function (response) {
        $('form input[name="EncodeData"]').val(response.data);
    });

    /**
     * Nice 본인 인증 팝업 오픈
     */
    function openCpPopup() {
        window.open('', 'popupChk', 'width=500, height=550, top=100, left=100, fullscreen=no, menubar=no, status=no, toolbar=no, titlebar=yes, location=no, scrollbar=no');
        document.form_chk.action = "https://nice.checkplus.co.kr/CheckPlusSafeModel/checkplus.cb";
        document.form_chk.target = "popupChk";
        document.form_chk.submit();
    }

    /**
     * 본인 인증 성공시
     * @param encData
     */
    function cpSuccess(data) {
        encData = data;
        if (authType === 'migration') {
            $.ajax({
                type: "PATCH",
                url: '/users/migration?encData=' + encodeURIComponent(encData)
            }).success(function (response) {
                if (response === true) {
                    alert('마이그레이션이 완료되었습니다.');
                    location.reload();
                }
            });
        } else {
            // 중복 가입인지 아닌지 체크해서 분기 처리하는 함수
            checkExistUserNice(encData);
        }
    }

    /**
     * 본인인증 회원 중복체크
     */
    function checkExistUserNice(encData) {
        $.ajax({
            type: "GET",
            url: '/users/exist?encData=' + encodeURIComponent(encData)
        }).success(function (response) {
            if (response.flag) {
                // 중복이면 이미 가입된 회원
                // 회원가입일 경우
                if (authType === 'enroll') {
                    $('.popup-alert').closePopup();
                    $('#sign-up-duplication-alert').openPopup();
                    // niceVeryfiyInfo = null;

                    // 아이디 찾기일 경우
                } else if (authType === 'idfind') {
                    $.ajax({
                        type: "GET",
                        url: '/users/find-id?encData=' + encodeURIComponent(encData)
                    }).success(function (response) {
                        // console.log(response);
                        // 사용자가 있으면
                        if (response !== null) {
                            $('.popup-alert').closePopup();
                            $('#find-id-guide-text').text(response.memName + "/" + response.mobile + "으로 찾은 아이디입니다.");
                            $('#find-id-id-text').text(response.memId);
                            $('#find-id-result-popup').closePopup();
                            $('#find-id-result-popup').openPopup();
                            // 사용자가 없으면
                        } else {
                            $('.popup-alert').closePopup();
                            ('#find-id-no-account-popup').openPopup();
                        }

                    }).fail(function (response) {
                        // console.log('아이디 찾기 에러')
                    });
                } else if (authType === 'pwfind') {
                    $('#find-password-change-password-popup').openPopup();
                } else if (authType === 'pwchange') {
                    $('#my-page-edit-pw-popup').openPopup();
                } else if (authType === 'pennamechange') {
                    $('#my-page-edit-pen-name-popup').openPopup();
                }
            // 본인인증으로 찾은 아이디가 없을 때
            } else {
                // 회원가입일 경우
                if (authType === 'enroll') {
                    signUpType = 'None';
                    $('.popup-alert').closePopup();
                    $('.popup-medium.join-form.agree').openPopup();
                    $('#username').text(response.name);
                    // 아이디 찾기일 경우
                } else if (authType === 'idfind') {

                }
                // 중복 가입이 아니면 약관 동의 화면우
            }
        }).fail(function (error) {
            // console.log('SNS 회원가입 -> 본인 중복 확인 체크 에러');
            // console.log(JSON.parse(error.responseText));
        });
    }
</script>

<!-- 본인인증 서비스 팝업을 호출하기 위해서는 다음과 같은 form이 필요합니다. -->
<form name="form_chk" method="post">
    <input type="hidden" name="m" value="checkplusSerivce">                        <!-- 필수 데이타로, 누락하시면 안됩니다. -->
    <input type="hidden" name="EncodeData">        <!-- 위에서 업체정보를 암호화 한 데이타입니다. -->
</form>


<!-- popup-alert -->
<div id="sign-in-request-alert" class="popup-alert">
    <h1 class="tit">
        로그인 요청
    </h1>
    <div class="cont">
        <p>
            로그인 한 후 이용 가능합니다.
            <br>로그인 하시겠습니까?
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-gray" type="button" onclick="$('.popup-alert').closePopup()">아니오</button>
        <button class="btn-black" type="button" onclick="$('.popup-alert').closePopup(); openSignInPopUp()">네</button>
    </div>
</div>
<!-- popup-alert --><!-- 이메일로 기사 공유하기 팝업 -->
<div class="popup-alert popup-medium user-form-popup">
    <!-- .popup-header -->
    <div class="popup-header">
        <div class="logo"></div>
        <a href="javascript:;" class="btn-close" onclick="$('.user-form-popup').closePopup();"></a>
        <h2 class="tit">이메일로 기사 공유하기</h2>
    </div>
    <!-- // .popup-header -->

    <!-- .cont -->
    <div class="cont">
        <!-- form -->
        <!-- .send-mail-title -->
        <div class="send-mail-title">
            <p class="form-group-title">보내는 기사</p>
            <h3 class="article-title">"여자친구가 페미입니다. 헤어져야 할까요"</h3>
        </div>
        <!-- // .send-mail-title -->
        <!-- .form-group .column-2 -->
        <div class="form-group column-2">
            <div class="title">
                <span>받으실 분</span>
            </div>
            <div class="inn">
                <label for="receiver-input">이메일</label>
                <div class="input-area">
                    <input type="text" id="receiver-input" placeholder="이메일">
                    <p id="receiver-guide-msg" class="exp-text">여러사람에게 보낼 경우 메일주소는 세미콜론(;)으로 구분해 주세요.<br>(최대 5개)</p>
                </div>
            </div>
        </div>
        <!-- // .form-group .column-2 -->

        <!-- .form-group -->
        <div class="form-group send-user">
            <h4 class="form-group-title">보내는 분</h4>
            <ul class="form-list column-2">
                <li>
                    <div class="inn">
                        <label for="sender-name-input">이름</label>
                        <div class="input-area">
                            <input type="text" name="sendUser" id="sender-name-input">
                            <p id="sender-name-guide-msg" class="warn blind">보내는 분의 이름을 입력해주세요.</p>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="inn">
                        <label for="sender-email-input">이메일</label>
                        <div class="input-area">
                            <input type="text" name="sendEmail" id="sender-email-input">
                            <p id="sender-email-guide-msg" class="warn blind">올바른 이메일 형식이 아닙니다.</p>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="inn">
                        <label for="sender-ps-input">함께 보내는 메세지</label>
                        <div class="input-area">
                            <textarea name="sendMsg" id="sender-ps-input"></textarea>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <!-- // .form-group -->

        <button id="mail-send-btn" class="btn-main disabled" onclick="onClickSendMail(event)">메일 전송</button>
        <!-- // form -->
    </div>
    <!-- // .cont -->
</div>
<!-- 이메일로 기사 공유하기 팝업 -->

<!-- 이메일로 기사 공유하기 완료 팝업 -->
<div class="popup-alert complete-send">
    <h1 class="tit">
        전송 완료
    </h1>
    <div class="cont">
        <p>
            기사가 메일로 전송 되었습니다.
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-black font-medium" type="button" onclick="$('.complete-send').closePopup();">확인</button>
    </div>
</div>
<!-- 이메일로 기사 공유하기 완료 팝업 -->

<!-- 구독 취소하시겠습니까? 팝업 -->
<div id="delete-subscription-popup" class="popup-alert cancel-subsc">
    <h1 class="tit">
        구독 취소
    </h1>
    <div class="cont">
        <p>
            구독을 취소하시겠습니까?
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-black" type="button" onclick="$('.cancel-subsc').closePopup();">아니오</button>
        <button class="btn-black font-medium" type="button"
                onclick="$('#delete-subscription-popup').closePopup(); subscribeTypeCheck();">네
        </button>
    </div>
</div>
<!-- 구독 취소하시겠습니까? 팝업 -->

<!-- 좋아요 or 싫어요 이미 선택 팝업 -->
<div id="article-sympathy-exist-popup" class="popup-alert already-check">
    <h1 class="tit">
        중복 선택 불가 안내
    </h1>
    <div class="cont">
        <p>
            이미 공감 표현을 선택하신<br>
            기사입니다. 변경을 원하시면 취소<br>
            후 다시 선택해주세요.
        </p>
    </div>
    <div class="btn-area">
        <button class="btn-black font-medium" type="button" onclick="$('.already-check').closePopup();">확인</button>
    </div>
</div>
<!-- 좋아요 or 싫어요 이미 선택 팝업 -->
<script>
    var vcaptcha_token = '';
    var onCaptchaSubmit = function(token) {
        vcaptcha_token = token;
    };

    function fn_onLoadCaptcha() {
        $('#recaptchaScript').html('<script language="javascript" src="https://www.google.com/recaptcha/api.js?onload=fn_CaptchaRender&render=explicit" />');
    };

    function fn_CaptchaRender() {
        try
        {
            grecaptcha.render('html_element', {
                'sitekey' : '6LcnOI0dAAAAAEPpJjRMwkkPsa3SoNUNuFV9HHfz',
                'callback' : onCaptchaSubmit
            });
        }
        catch (e) {}


        setTimeout(function() {
            grecaptcha.execute();
        }, 100);
    }


    function fn_captchaVal() {
        if (typeof (grecaptcha) != 'undefined') {
            if (grecaptcha.getResponse() == "") {
                //grecaptcha.execute();
                alert("자동등록 방지를 위한 키를 생성중 입니다. 다시 시도해 주시기 바랍니다.");
                return false;
            }
        }

        var repcaptcha = grecaptcha.getResponse();
        var url = '/article/member-report-captcha?repcaptcha=' + repcaptcha;

        $.ajax({
            url: url,
            type: 'POST',
            datatype: 'json',
            data: repcaptcha,
            contentType: false,
            processData: false,
            timeout: 30000,
            success: function (req) {
                if(req.success == true) {
                    $('.popup-report').closePopup();
                    //$('#report-popup-agree').openPopup();
                } else {
                    grecaptcha.execute();
                    alert('자동등록 방지가 감지 되었습니다. 다시 시도해 주시기 바랍니다.');
                }
            },
            error: function (req, stat, err) {
                // console.log('제보하기 -> 제보하기 에러');
                // console.log(err);
            },
            complete: function () {

            }
        });
    }
</script>

<!-- .popup-alert - 제보하기 완료, -->
<div class="popup-alert" id="report-popup">
    <h1 class="tit">
        제보하기 완료
    </h1>
    <div class="cont">
        <p>보내주신 소중한 제보는 정상적으로 <br>접수되었으며 뉴스 제작에 활용될 <br>예정입니다.</p>
    </div>
    <div class="btn-area">
        <button class="btn-black" type="button" onclick="$('#report-popup').closePopup();$('body').css({overflow: 'hidden'});">확인</button>
    </div>
</div>
<!-- .popup-alert -->

<!-- .popup-alert -->
<div class="popup-alert" id="report-file-error-popup">
    <h1 class="tit">
        업로드 불가 파일
    </h1>
    <div class="cont">
        <p>이미지, 영상, 문서, 압축 형식의 파일만 첨부 가능합니다.</p>
        <h2 class="sub-tit">업로드 가능 파일 형식</h2>
        <p>jpg, jpeg, png, mp4, avi, hwp, doc, zip</p>
    </div>
    <div class="btn-area">
        <button class="btn-black" type="button" onclick="$('#report-file-error-popup').closePopup();">확인</button>
    </div>
</div>
<!-- .popup-alert -->

<!-- popup-report -->
<div class="popup-report imp-re-1">
    <button class="btn-close" onclick="$('#recaptchaScript').html(''); $('.popup-report').closePopup(); refreshPage();">
        <span class="blind">닫기</span>
    </button>
    <!-- col-left -->
    <div class="col-left">
        <div class="reporter-info-wrap">
            <div class="img-box-area">
                <img src="" alt="">
            </div>
            <div class="name-box">
                <p><span class="nm"></span><span class="role"> 기자</span></p>
                <div class="dept">&nbsp;</div>
                </div>
        </div>
        <div class="text-box-wrap">
            <h2 class="terms-tit type1">제보안내</h2>
            <!--            <p class="terms-text">한국일보는 주변의 따뜻한 미담부터 사건사고, 불편부당, 부정부패, 비리고발 까지 여러분의 소중한 제보를 기다립니다. 제보자의 신분은 한국일보 보도 준칙에 따라 철저히 보호되며, 제공하신 개인정보는 취재를 위해서만 사용됩니다. 제보방법은 홈페이지 외에도 이메일 및 페이스북을 통해 제보하실 수 있습니다.</p>-->
            <p class="terms-text">제보자의 신분은 한국일보 보도 준칙에 따라 철저히 보호되며, 제공하신 개인정보는 취재를 위해서만 사용됩니다.</p>
            <p class="terms-text sub">이메일 문의 : <span class="keyword">webmaster@hankookilbo.com</span></p>
        </div>
        <div class="text-box-wrap">
            <h2 class="terms-tit type2">개인정보 보호를 위한 이용자 동의사항 (필수)</h2>
            <p class="terms-text">개인 정보 수집 및 이용 목적 : 회사는 수집한 개인정보를 제보 내용에 관한 확인 및 처리 등의 업무를 위해 수집, 이용하고 있습니다. 수집하는 개인정보 항목 - 이름, 이메일, 전화번호</p>
            <div class="agree">
                <label>
                    <input type="checkbox" id="report-personal-info-agree-checkbox">
                    <span class="text">동의합니다.</span>
                </label>
            </div>
            <div class="logo">
                <div class="img-box">
                    <img src="/images/svg/logo-gray.svg" alt="한국일보">
                </div>
            </div>
        </div>
    </div>
    <!-- // col-left -->
    <!-- col-right -->
    <div class="col-right">
        <h1 class="popup-title">제보하기</h1>

        <!-- .scroll-box -->
        <div class="scroll-box custom-scroll">
            <input type="text" class="input-text" id="report-title-input" placeholder="제목" onchange="onChangeReportTitle(this)">

            <!-- edit-box -->
            <div class="edit-box">
                <textarea class="textarea" id="reportContent" placeholder="내용" onchange="onChangeReportContent(this)"></textarea>
                <!-- bottom-area -->
                <div class="bottom-area">
                    <!-- list-url -->
                    <ul class="list-url" id="report-url-list">
                    </ul>
                    <!-- // list-url -->
                    <!-- input-url -->
                    <div class="input-url">
                        <input type="text" class="input-text" id="report-url-input" placeholder="관련링크">
                        <button type="button" class="btn-add" onclick="onClickAddUrl()">
                            <span class="blind">추가</span>
                        </button>
                    </div>
                    <!-- // input-url -->
                    <!-- input-url -->
                    <div class="input-url">
                        <input type="text" class="input-text" placeholder="X 버튼 선택시 해당 URL 삭제" disabled>
                        <!-- <button type="button" class="btn-add" disabled>
                            <span class="blind">추가</span>
                        </button> -->
                    </div>
                    <!-- // input-url -->
                    <!-- file-list -->
                    <ul class="file-list">
                        <li class="attach-file">
                            <input type="file" onclick="this.value=null;" id="attach-file" class="blind"
                                   onchange="onSelectFile(this)">
                            <label for="attach-file"></label>
                            <div class="sub-text">*최대 용량 10MB</div>
                        </li>
                    </ul>
                    <!-- // file-list -->
                </div>
                <!-- // bottom-area -->
            </div>
            <!-- // edit-box -->
            <!-- input-user-info -->
            <div class="input-user-info">
                <input type="text" class="input-text" id="report-name-input" placeholder="이름" onchange="onChangeReporterName(this)">
                <input type="text" class="input-text" id="report-mb-input" placeholder="휴대폰번호" onchange="onChangeReporterMobile(this)">
                <input type="text" class="input-text" id="report-email-input" placeholder="이메일" onchange="onChangeReporterEmail(this)">
            </div>
            <!-- // input-user-info -->
            <!-- terms-text -->
            <p class="terms-text">
                개인정보 보호를 위해 익명 제보가 가능하며 실명인증을 하지 않습니다.
                <br>단, 제보자 연락 및 추가 취재가 필요하신 제보자는 연락처를 정확히 기입해주시기 바랍니다.
            </p>
            <!-- // terms-text -->
        </div>
        <!-- // .scroll-box -->
        <!-- btn-area -->
        <div class="btn-area">
            <button type="button" class="btn-report" onclick="onClickSubmitReportCom()";>1:1 제보하기</button>
        </div>
        <!-- // btn-area -->
    </div>
    <!-- // col-right -->
</div>
<!-- popup-report -->

<script>
    var reportTitle = "";
    var reportContent = "";
    var agreeAll = false;
    var reporterName = "";
    var reporterMobile = "";
    var reporterEmail = "";
    var urlList = [];
    var files = [];
    var totalSize = 0;

    // 제보하기 제목 수정 event
    function onChangeReportTitle(titleInput) {
        reportTitle = titleInput.value;
    }

    // 제보하기 내용 수정 event
    function onChangeReportContent(contentInput) {
        reportContent = contentInput.value;
    }

    // 제보하기 파일 추가 이벤트
    function onSelectFile(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            // 파일 사이즈 체크
            if (files.length === 3) {
                alert('파일은 3개까지 업로드 가능합니다.');
                return;
            }
            if (!isAvailableFileSize(input.files[0].size)) {
                showFileSizePopup();
                return;
            }

            // 파일 확장자 확인 및 이에 따른 rendering
            if (input.files[0].name.match(/.(jpg|png|jpeg)$/i)) {
                reader.onload = function (e) {
                    var $uploadFile = $("<li><button onclick='onClickDeleteFile(this)' type='button' class='btn-delete'><span class='blind'>삭제</span> </button></li>");

                    var tempId = new Date().getTime();

                    var img = document.createElement('img');

                    img.id = 'img_' + tempId;
                    img.style = 'width: 100px; height: 75px;';

                    $uploadFile.append($(img));

                    $uploadFile.append($("<div class='file-name'>").html(input.files[0].name));

                    $('.file-list').prepend($uploadFile);

                    $("#img_" + tempId).attr('src', e.target.result);
                };
            } else if (input.files[0].name.match(/.(mp4|avi)$/i)) {
                reader.onload = function (e) {

                    var $uploadFile = $("<li class='video'><button onclick='onClickDeleteFile(this)' type='button' class='btn-delete'><span class='blind'>삭제</span> </button></li>");

                    $uploadFile.append($("<div class='file-name'>").html(input.files[0].name));

                    $('.file-list').prepend($uploadFile);
                };

            } else if (input.files[0].name.match(/.(hwp|docx|zip|doc)$/i)) {
                reader.onload = function (e) {

                    var $uploadFile = $("<li class='doc'><button onclick='onClickDeleteFile(this)' type='button' class='btn-delete'><span class='blind'>삭제</span> </button></li>");

                    $uploadFile.append($("<div class='file-name'>").html(input.files[0].name));

                    $('.file-list').prepend($uploadFile);
                };
            } else {
                $('#report-file-error-popup').openPopup();
                return;
            }
            reader.readAsDataURL(input.files[0]);
            files.unshift(input.files[0]);
        }

    }


    // 제보하기 제보자 이름 수정 event
    function onChangeReporterName(contentInput) {
        reporterName = contentInput.value;
    }

    // 제보하기 내용 제보자 모바일 event
    function onChangeReporterMobile(contentInput) {
        reporterMobile = contentInput.value;
    }

    // 제보하기 제보자 이메일 수정 event
    function onChangeReporterEmail(contentInput) {
        reporterEmail = contentInput.value;
    }

    // 파일 사이즈 체크 - 총 용량이 10MB보다 적어야한다.
    function isAvailableFileSize(size) {
        totalSize += size;
        var flag = totalSize <= 10485760;
        // console.log('파일 사이즈 체크 -> ' + flag);

        if (flag) {
            return flag;
        } else {
            totalSize -= size;
            return flag;
        }
    }

    // 파일 크기 문제 팝업 보여주기
    function showFileSizePopup() {
        $('#report-popup .tit').text("업로드 용량 초과");
        $('#report-popup .cont').text("10MB 이하의 파일만 첨부 가능합니다.");
        $('#report-popup').openPopup();
    }

    // URL + 버튼을 눌렀을 때
    function onClickAddUrl() {
        if (urlList.length === 3) {
            return;
        }
        // input의 값을 받아 url에 저장
        var url = $('#report-url-input').val();

        // url이 빈 값이 아니면 ul에 append
        if (url !== '') {
            urlList.push(url);
            var $newUrl = $("<li><button type='button' class='btn-delete' onclick='onClickDeleteUrl(this, \"" + url + "\")'><span class='blind'>삭제</span></button></li>");
            $newUrl.prepend($("<a/>", {href: url, text: url}));
            $('#report-url-list').append($newUrl);
            $('#report-url-input').val('');
        }
    }

    // Url 입력한 것 리스트에서 삭제하기
    function onClickDeleteUrl(element, url) {
        $(element.parentNode).remove();
        for (var i = 0; i < urlList.length; i++) {
            if (urlList[i] === url) {
                urlList.splice(i, 1);
            }
        }
        // console.log(urlList);
    }

    // Url 입력한 것 리스트에서 삭제하기
    function onClickDeleteFile(element) {
        // console.log($(element).parents("li").index());
        // if (files.length )
        files.splice($(element).parents("li").index(), 1);
        $(element.parentNode).remove();
        // console.log(files);
    }

    function onClickSubmitReport() {
        // 제목이 없음
        if (reportTitle === '') {
            $('#report-popup .tit').text("제목 없음");
            $('#report-popup .cont').text("제보 제목이 입력되지 않았습니다.");
            $('#report-popup').openPopup();
            return;
        }
        // 내용이 없을
        if (reportContent === '') {
            $('#report-popup .tit').text("입력 내용 없음");
            $('#report-popup .cont').text("제보 내용이 입력되지 않았습니다.");
            $('#report-popup').openPopup();
            return;
        }

        fn_captchaVal();


    }

    // Popup에 있는 제보하기 버튼을 눌렀을 때
    function onClickSubmitReportCom() {
        if (reportTitle === '') {
            $('#report-popup .tit').text("제목 없음");
            $('#report-popup .cont').text("제보 제목이 입력되지 않았습니다.");
            $('#report-popup').openPopup();
            return;
        }
        // 내용이 없을
        if (reportContent === '') {
            $('#report-popup .tit').text("입력 내용 없음");
            $('#report-popup .cont').text("제보 내용이 입력되지 않았습니다.");
            $('#report-popup').openPopup();
            return;
        }

        agreeAll = $('input:checkbox[id="report-personal-info-agree-checkbox"]').is(":checked");

        // 개인정보 동의가 안되었을 때 alert
        if (agreeAll === false) {
            $('#report-popup .tit').text("개인정보 이용 동의");
            $('#report-popup .cont').text("개인정보 이용 동의는 필수 항목입니다.");
            $('#report-popup').openPopup();
            return;
        }

        var report = {
            reportTitle: reportTitle,
            contents: reportContent,
            privacyCollectAgree: agreeAll,
            privacyUseAgree: agreeAll,
            privacyKeepAgree: agreeAll,
            reporterName: reporterName,
            reporterMobile: reporterMobile,
            reporterEmail: reporterEmail,
            linkUrl1: urlList[0],
            linkUrl2: urlList[1],
            linkUrl3: urlList[2],
            jpageUserId: '',
        };
        console.log(report);
        // console.log(report);

        var formData = new FormData();

        formData.append("report", JSON.stringify(report));

        for (var i = 0; i < files.length; i++) {
            formData.append("files", files[i]);
        }

        var url = '/article/member-report';

        $.ajax({
            url: url,
            type: 'POST',
            enctype: 'multipart/form-data',
            data: formData,
            contentType: false,
            processData: false,
            timeout: 30000,
            success: function (data) {
                // console.log('제보하기 -> 제보하기 성공');
                 console.log(data);
                if (data === true) {
                    $('#recaptchaScript').html('');
                    $('.popup-report').closePopup();
                    //$('#report-popup-agree').closePopup();
                    $('#report-popup .tit').text("제보하기 완료");
                    $('#report-popup .cont').html("<p>보내주신 소중한 제보는 정상적으로 <br>접수되었으며 뉴스 제작에 활용될 <br>예정입니다.</p>");
                    $('#report-popup').openPopup();
                } else if(data == '999') {
                    //$('#report-popup-agree').closePopup();
                    alert('제보하기 내용이 입력되지 않았습니다.');
                } else if(data == '888') {
                    //$('#report-popup-agree').closePopup();
                    alert('제보하기 제목이 입력되지 않았습니다.');
                } else if(data == '777') {
                    //$('#report-popup-agree').closePopup();
                    alert('금지 단어가 포함 되어 있습니다.');
                } else {
                    //$('#report-popup-agree').closePopup();
                    alert('제보하기 에러 발생 - 다시 시도해주세요.');
                }
            },
            error: function (req, stat, err) {
                // console.log('제보하기 -> 제보하기 에러');
                // console.log(err);
            },
            complete: function () {
                // 초기화
                urlList = [];
                $('#report-url-input').val('');
                $('#report-title-input').val('');
                $('#reportContent').val('');
                $('#report-email-input').val('');
                $('#report-name-input').val('');
                $('#report-mb-input').val('');
                reportTitle = "";
                reportContent = "";
                agreeAll = false;
                reporterName = "";
                reporterMobile = "";
                reporterEmail = "";
                urlList = [];
                files = [];
                totalSize = 0;
                $('.file-list').html('<li class="attach-file">\n' +
                    '                        <input type="file" onclick="this.value=null;" id="attach-file" class="blind" onchange="onSelectFile(this)">\n' +
                    '                        <label for="attach-file"></label>\n' +
                    '                        <div class="sub-text">*최대 용량 10MB</div>\n' +
                    '                    </li>');
                $('.list-url').html('');
                $('#report-personal-info-agree-checkbox').iCheck('uncheck');

                // 3분 리프레시 재가동
                refreshPage();
            }
        });
    }

    /**
     * 링크 focus 리스너
     *
     */
    $('#report-url-input').focusout(function () {
        if ($(this).val() === 'https://') {
            $(this).val('');
        }
    });

    $('#report-url-input').focusin(function () {
        $(this).val('https://');
        $(this).val();
    });

</script>
<div id="recaptchaScript"></div>
<!-- .ad-banner : 970x90 -->
        <div class="ad-banner ad-970">
                    <div class="inner">
                        <script language="javascript" src="//ad.hankookilbo.com/js/midas/hankookilbo/endpage_1@970x90"></script>
                    </div>
                </div>
            <!-- // .ad-banner : 970x90 -->
    </div>
    <!-- // .container .end -->

    <!-- .add-more-news : newsstand -->
    <script>
    window.___endpage = {};
    window.___endpage._moveTo = function(url){
        //console.log(url.replace(/(http|https)\:\/\/(www\.)*hankookilbo\.com/g, ''))
        location.href = url.replace(/(http|https)\:\/\/(www\.)*hankookilbo\.com/g, '');
    }
</script>

<div class="end-news-stand" data-el="standWrap">
    <iframe data-el="stand-frame" src="/stand-html/page" width="840" height="437" frameborder="0" scrolling="no" class="ifr_arc" allowtransparency="true" title="한국일보 주요뉴스"></iframe>
</div>
<!-- // .add-more-news : newstand -->
</div>
<!-- // wrap -->

<input id="articleId" type="hidden" value="A2022110213150005119"/>
<input id="shoulderType" type="hidden" value="Series"/>
<input id="shoulderId" type="hidden" value="S2022052509490003290"/>
<input id="HerbShoulderId" type="hidden" value="S2022052509490003290"/>
<input id="articleTitle" type="hidden" value="&#034;여자친구가 페미입니다. 헤어져야 할까요&#034;"/>
<input id="articleSection" type="hidden" value="사회"/>
<input id="articleContents" type="hidden" value="▶ 뉴스레터 구독하기 https://www.hankookilbo.com/NewsLetter/herspective Q. 안녕하세요, 20대 취업 준비생입니다. 3개월 전 지금의 여자친구를 소개팅으로 만나 알콩달콩 즐겁게 연애를 하고 있는데요.  최근 들어 여자친구가 &#039;페미&#039;가 아닌가 하는 의심이 자꾸 듭니다. 휴대폰으로 페미니즘 관련 기사나 콘텐츠를 읽는 모"/>
<input id="articleImageUrl" type="hidden" value="https://newsimg.hankookilbo.com/cms/thumbnail/articlerelease/2022/11/02/A2022110213150005119.jpg"/>
<input id="serverUrl" type="hidden" value="https://www.hankookilbo.com"/>
<input id="readShareUrl" type="hidden" value="https://hankookilbo.com"/>
<script src="/js/ui.js?v=dca27255ef9c20d8a78e090860601127"></script>
<script src="/js/split.js?v=d59054fb9b5edf1b81f11499a52a64f2"></script>

<script src="/js/hmap/hkAnalTag_hub.min.js?v=50d23b69635fbe9ebc9e9fe46f359775"></script>
<script>
    // 인풋 자동 완성 기능 때문에 fake input 생성
    function offAutocomplete() {
        var E = $('input[type="text"][autocomplete="off"]');
        for (var i = 0 ; i < E.length ; i++) {
            fakeInput = '<input type="text" style="position:absolute;left:-9999px;top:-9999px;width:1px;height:1px;" tabindex="-1">';
            $(fakeInput).insertAfter(E[i]);
        }
    }

    try {
        var userAgent = window.navigator.userAgent;
        var isChrome = userAgent.indexOf('Chrome');
        var isChromeMobile = userAgent.indexOf('CriOS');
        if (isChrome || isChromeMobile) {
            offAutocomplete();
        }
    } catch (e) {

    }
</script>



<!-- 뷰저블 스크립트 -->
<script type="text/javascript">
    (function(w, d, a){
        w.__beusablerumclient__ = {
            load : function(src){
                var b = d.createElement("script");
                b.src = src; b.async=true; b.type = "text/javascript";
                d.getElementsByTagName("head")[0].appendChild(b);
            }
        };w.__beusablerumclient__.load(a);
    })(window, document, "//rum.beusable.net/script/b201026e102031u720/248e300081");
</script>

<div id="hkpage_success"></div>


<!-- endPage -->
<script src="/js/split/endPage.js?ver=1.1"></script>
<script src="/js/end-footer-script.js?ver=1.1"></script>
<script src="/js/split/slickExec.js"></script>
<!-- // endPage -->

</body>
</html>
